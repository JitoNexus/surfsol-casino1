var ak=Object.defineProperty;var lk=(t,e,n)=>e in t?ak(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var It=(t,e,n)=>lk(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var hv={exports:{}},Mc={},pv={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),uk=Symbol.for("react.portal"),ck=Symbol.for("react.fragment"),fk=Symbol.for("react.strict_mode"),dk=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),pk=Symbol.for("react.context"),mk=Symbol.for("react.forward_ref"),gk=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),wk=Symbol.for("react.lazy"),Lg=Symbol.iterator;function vk(t){return t===null||typeof t!="object"?null:(t=Lg&&t[Lg]||t["@@iterator"],typeof t=="function"?t:null)}var mv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gv=Object.assign,yv={};function Us(t,e,n){this.props=t,this.context=e,this.refs=yv,this.updater=n||mv}Us.prototype.isReactComponent={};Us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wv(){}wv.prototype=Us.prototype;function a0(t,e,n){this.props=t,this.context=e,this.refs=yv,this.updater=n||mv}var l0=a0.prototype=new wv;l0.constructor=a0;gv(l0,Us.prototype);l0.isPureReactComponent=!0;var Ng=Array.isArray,vv=Object.prototype.hasOwnProperty,u0={current:null},_v={key:!0,ref:!0,__self:!0,__source:!0};function xv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)vv.call(e,r)&&!_v.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cl,type:t,key:o,ref:s,props:i,_owner:u0.current}}function _k(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c0(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function xk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Og=/\/+/g;function id(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xk(""+t.key):e.toString(36)}function hu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case cl:case uk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+id(s,0):r,Ng(i)?(n="",t!=null&&(n=t.replace(Og,"$&/")+"/"),hu(i,e,n,"",function(c){return c})):i!=null&&(c0(i)&&(i=_k(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Og,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Ng(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+id(o,a);s+=hu(o,e,n,l,i)}else if(l=vk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+id(o,a++),s+=hu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ol(t,e,n){if(t==null)return t;var r=[],i=0;return hu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function bk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _n={current:null},pu={transition:null},Sk={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:pu,ReactCurrentOwner:u0};function bv(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Ol,forEach:function(t,e,n){Ol(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ol(t,function(){e++}),e},toArray:function(t){return Ol(t,function(e){return e})||[]},only:function(t){if(!c0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=Us;Be.Fragment=ck;Be.Profiler=dk;Be.PureComponent=a0;Be.StrictMode=fk;Be.Suspense=gk;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sk;Be.act=bv;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=u0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vv.call(e,l)&&!_v.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cl,type:t.type,key:i,ref:o,props:r,_owner:s}};Be.createContext=function(t){return t={$$typeof:pk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hk,_context:t},t.Consumer=t};Be.createElement=xv;Be.createFactory=function(t){var e=xv.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:mk,render:t}};Be.isValidElement=c0;Be.lazy=function(t){return{$$typeof:wk,_payload:{_status:-1,_result:t},_init:bk}};Be.memo=function(t,e){return{$$typeof:yk,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};Be.unstable_act=bv;Be.useCallback=function(t,e){return _n.current.useCallback(t,e)};Be.useContext=function(t){return _n.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return _n.current.useDeferredValue(t)};Be.useEffect=function(t,e){return _n.current.useEffect(t,e)};Be.useId=function(){return _n.current.useId()};Be.useImperativeHandle=function(t,e,n){return _n.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return _n.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return _n.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return _n.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return _n.current.useReducer(t,e,n)};Be.useRef=function(t){return _n.current.useRef(t)};Be.useState=function(t){return _n.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return _n.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return _n.current.useTransition()};Be.version="18.3.1";pv.exports=Be;var G=pv.exports;const Nn=Ds(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek=G,kk=Symbol.for("react.element"),Ak=Symbol.for("react.fragment"),Tk=Object.prototype.hasOwnProperty,Ck=Ek.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function Sv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Tk.call(e,r)&&!Rk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kk,type:t,key:o,ref:s,props:i,_owner:Ck.current}}Mc.Fragment=Ak;Mc.jsx=Sv;Mc.jsxs=Sv;hv.exports=Mc;var D=hv.exports,Sh={},Ev={exports:{}},Vn={},kv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var N=T.length;T.push(I);e:for(;0<N;){var A=N-1>>>1,g=T[A];if(0<i(g,I))T[A]=I,T[N]=g,N=A;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],N=T.pop();if(N!==I){T[0]=N;e:for(var A=0,g=T.length,L=g>>>1;A<L;){var J=2*(A+1)-1,te=T[J],re=J+1,he=T[re];if(0>i(te,N))re<g&&0>i(he,te)?(T[A]=he,T[re]=N,A=re):(T[A]=te,T[J]=N,A=J);else if(re<g&&0>i(he,N))T[A]=he,T[re]=N,A=re;else break e}}return I}function i(T,I){var N=T.sortIndex-I.sortIndex;return N!==0?N:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,f=3,p=!1,m=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(T){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=T)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function M(T){if(v=!1,S(T),!m)if(n(l)!==null)m=!0,k(O);else{var I=n(c);I!==null&&B(M,I.startTime-T)}}function O(T,I){m=!1,v&&(v=!1,_(V),V=-1),p=!0;var N=f;try{for(S(I),u=n(l);u!==null&&(!(u.expirationTime>I)||T&&!Y());){var A=u.callback;if(typeof A=="function"){u.callback=null,f=u.priorityLevel;var g=A(u.expirationTime<=I);I=t.unstable_now(),typeof g=="function"?u.callback=g:u===n(l)&&r(l),S(I)}else r(l);u=n(l)}if(u!==null)var L=!0;else{var J=n(c);J!==null&&B(M,J.startTime-I),L=!1}return L}finally{u=null,f=N,p=!1}}var $=!1,U=null,V=-1,F=5,Z=-1;function Y(){return!(t.unstable_now()-Z<F)}function X(){if(U!==null){var T=t.unstable_now();Z=T;var I=!0;try{I=U(!0,T)}finally{I?C():($=!1,U=null)}}else $=!1}var C;if(typeof E=="function")C=function(){E(X)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,y=h.port2;h.port1.onmessage=X,C=function(){y.postMessage(null)}}else C=function(){b(X,0)};function k(T){U=T,$||($=!0,C())}function B(T,I){V=b(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,k(O))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var N=f;f=I;try{return T()}finally{f=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var N=f;f=T;try{return I()}finally{f=N}},t.unstable_scheduleCallback=function(T,I,N){var A=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?A+N:A):N=A,T){case 1:var g=-1;break;case 2:g=250;break;case 5:g=1073741823;break;case 4:g=1e4;break;default:g=5e3}return g=N+g,T={id:d++,callback:I,priorityLevel:T,startTime:N,expirationTime:g,sortIndex:-1},N>A?(T.sortIndex=N,e(c,T),n(l)===null&&T===n(c)&&(v?(_(V),V=-1):v=!0,B(M,N-A))):(T.sortIndex=g,e(l,T),m||p||(m=!0,k(O))),T},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(T){var I=f;return function(){var N=f;f=I;try{return T.apply(this,arguments)}finally{f=N}}}})(Av);kv.exports=Av;var Bk=kv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=G,jn=Bk;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tv=new Set,Da={};function To(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(Da[t]=e,t=0;t<e.length;t++)Tv.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=Object.prototype.hasOwnProperty,Ik=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg={},Dg={};function Pk(t){return Eh.call(Dg,t)?!0:Eh.call(Fg,t)?!1:Ik.test(t)?Dg[t]=!0:(Fg[t]=!0,!1)}function Lk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nk(t,e,n,r){if(e===null||typeof e>"u"||Lk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var f0=/[\-:]([a-z])/g;function d0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(f0,d0);Jt[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(f0,d0);Jt[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(f0,d0);Jt[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function h0(t,e,n,r){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nk(e,n,i,r)&&(n=null),r||i===null?Pk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ui=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),p0=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),g0=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),Bv=Symbol.for("react.offscreen"),Ug=Symbol.iterator;function Js(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,od;function da(t){if(od===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);od=e&&e[1]||""}return`
`+od+t}var sd=!1;function ad(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?da(t):""}function Ok(t){switch(t.tag){case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return t=ad(t.type,!1),t;case 11:return t=ad(t.type.render,!1),t;case 1:return t=ad(t.type,!0),t;default:return""}}function Ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case Ko:return"Portal";case kh:return"Profiler";case p0:return"StrictMode";case Ah:return"Suspense";case Th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rv:return(t.displayName||"Context")+".Consumer";case Cv:return(t._context.displayName||"Context")+".Provider";case m0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g0:return e=t.displayName||null,e!==null?e:Ch(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Ch(t(e))}catch{}}return null}function Fk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(e);case 8:return e===p0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dk(t){var e=Mv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=Dk(t))}function Iv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pv(t,e){e=e.checked,e!=null&&h0(t,"checked",e,!1)}function Bh(t,e){Pv(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mh(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $g(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mh(t,e,n){(e!=="number"||Lu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ha=Array.isArray;function ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ih(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(ha(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function Lv(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ph(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ul,Ov=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uk=["Webkit","ms","Moz","O"];Object.keys(_a).forEach(function(t){Uk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_a[e]=_a[t]})});function Fv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_a.hasOwnProperty(t)&&_a[t]?(""+e).trim():e+"px"}function Dv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jk=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lh(t,e){if(e){if(jk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Nh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=null;function y0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fh=null,hs=null,ps=null;function Hg(t){if(t=hl(t)){if(typeof Fh!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Oc(e),Fh(t.stateNode,t.type,e))}}function Uv(t){hs?ps?ps.push(t):ps=[t]:hs=t}function jv(){if(hs){var t=hs,e=ps;if(ps=hs=null,Hg(t),e)for(t=0;t<e.length;t++)Hg(e[t])}}function $v(t,e){return t(e)}function Vv(){}var ld=!1;function zv(t,e,n){if(ld)return t(e,n);ld=!0;try{return $v(t,e,n)}finally{ld=!1,(hs!==null||ps!==null)&&(Vv(),jv())}}function ja(t,e){var n=t.stateNode;if(n===null)return null;var r=Oc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Dh=!1;if(ii)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Dh=!1}function $k(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var xa=!1,Nu=null,Ou=!1,Uh=null,Vk={onError:function(t){xa=!0,Nu=t}};function zk(t,e,n,r,i,o,s,a,l){xa=!1,Nu=null,$k.apply(Vk,arguments)}function Hk(t,e,n,r,i,o,s,a,l){if(zk.apply(this,arguments),xa){if(xa){var c=Nu;xa=!1,Nu=null}else throw Error(ne(198));Ou||(Ou=!0,Uh=c)}}function Co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wg(t){if(Co(t)!==t)throw Error(ne(188))}function Wk(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Wg(i),t;if(o===r)return Wg(i),e;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function Wv(t){return t=Wk(t),t!==null?qv(t):null}function qv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qv(t);if(e!==null)return e;t=t.sibling}return null}var Kv=jn.unstable_scheduleCallback,qg=jn.unstable_cancelCallback,qk=jn.unstable_shouldYield,Kk=jn.unstable_requestPaint,dt=jn.unstable_now,Gk=jn.unstable_getCurrentPriorityLevel,w0=jn.unstable_ImmediatePriority,Gv=jn.unstable_UserBlockingPriority,Fu=jn.unstable_NormalPriority,Zk=jn.unstable_LowPriority,Zv=jn.unstable_IdlePriority,Ic=null,Pr=null;function Yk(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Ic,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:Jk,Xk=Math.log,Qk=Math.LN2;function Jk(t){return t>>>=0,t===0?32:31-(Xk(t)/Qk|0)|0}var jl=64,$l=4194304;function pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Du(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=pa(a):(o&=s,o!==0&&(r=pa(o)))}else s=n&~i,s!==0?r=pa(s):o!==0&&(r=pa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function eA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-mr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=eA(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function jh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yv(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function ud(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function nA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function v0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function Xv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qv,_0,Jv,e_,t_,$h=!1,Vl=[],Ci=null,Ri=null,Bi=null,$a=new Map,Va=new Map,bi=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":$a.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Va.delete(e.pointerId)}}function ta(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hl(e),e!==null&&_0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iA(t,e,n,r,i){switch(e){case"focusin":return Ci=ta(Ci,t,e,n,r,i),!0;case"dragenter":return Ri=ta(Ri,t,e,n,r,i),!0;case"mouseover":return Bi=ta(Bi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return $a.set(o,ta($a.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Va.set(o,ta(Va.get(o)||null,t,e,n,r,i)),!0}return!1}function n_(t){var e=to(t.target);if(e!==null){var n=Co(e);if(n!==null){if(e=n.tag,e===13){if(e=Hv(n),e!==null){t.blockedOn=e,t_(t.priority,function(){Jv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oh=r,n.target.dispatchEvent(r),Oh=null}else return e=hl(n),e!==null&&_0(e),t.blockedOn=n,!1;e.shift()}return!0}function Gg(t,e,n){mu(t)&&n.delete(e)}function oA(){$h=!1,Ci!==null&&mu(Ci)&&(Ci=null),Ri!==null&&mu(Ri)&&(Ri=null),Bi!==null&&mu(Bi)&&(Bi=null),$a.forEach(Gg),Va.forEach(Gg)}function na(t,e){t.blockedOn===e&&(t.blockedOn=null,$h||($h=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,oA)))}function za(t){function e(i){return na(i,t)}if(0<Vl.length){na(Vl[0],t);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ci!==null&&na(Ci,t),Ri!==null&&na(Ri,t),Bi!==null&&na(Bi,t),$a.forEach(e),Va.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)n_(n),n.blockedOn===null&&bi.shift()}var ms=ui.ReactCurrentBatchConfig,Uu=!0;function sA(t,e,n,r){var i=Fe,o=ms.transition;ms.transition=null;try{Fe=1,x0(t,e,n,r)}finally{Fe=i,ms.transition=o}}function aA(t,e,n,r){var i=Fe,o=ms.transition;ms.transition=null;try{Fe=4,x0(t,e,n,r)}finally{Fe=i,ms.transition=o}}function x0(t,e,n,r){if(Uu){var i=Vh(t,e,n,r);if(i===null)vd(t,e,r,ju,n),Kg(t,r);else if(iA(i,t,e,n,r))r.stopPropagation();else if(Kg(t,r),e&4&&-1<rA.indexOf(t)){for(;i!==null;){var o=hl(i);if(o!==null&&Qv(o),o=Vh(t,e,n,r),o===null&&vd(t,e,r,ju,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vd(t,e,r,null,n)}}var ju=null;function Vh(t,e,n,r){if(ju=null,t=y0(r),t=to(t),t!==null)if(e=Co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ju=t,null}function r_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gk()){case w0:return 1;case Gv:return 4;case Fu:case Zk:return 16;case Zv:return 536870912;default:return 16}default:return 16}}var Ei=null,b0=null,gu=null;function i_(){if(gu)return gu;var t,e=b0,n=e.length,r,i="value"in Ei?Ei.value:Ei.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return gu=i.slice(t,1<r?1-r:void 0)}function yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zl(){return!0}function Zg(){return!1}function zn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zl:Zg,this.isPropagationStopped=Zg,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),e}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S0=zn(js),dl=et({},js,{view:0,detail:0}),lA=zn(dl),cd,fd,ra,Pc=et({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(cd=t.screenX-ra.screenX,fd=t.screenY-ra.screenY):fd=cd=0,ra=t),cd)},movementY:function(t){return"movementY"in t?t.movementY:fd}}),Yg=zn(Pc),uA=et({},Pc,{dataTransfer:0}),cA=zn(uA),fA=et({},dl,{relatedTarget:0}),dd=zn(fA),dA=et({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),hA=zn(dA),pA=et({},js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mA=zn(pA),gA=et({},js,{data:0}),Xg=zn(gA),yA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _A(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vA[t])?!!e[t]:!1}function E0(){return _A}var xA=et({},dl,{key:function(t){if(t.key){var e=yA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E0,charCode:function(t){return t.type==="keypress"?yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bA=zn(xA),SA=et({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=zn(SA),EA=et({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E0}),kA=zn(EA),AA=et({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),TA=zn(AA),CA=et({},Pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RA=zn(CA),BA=[9,13,27,32],k0=ii&&"CompositionEvent"in window,ba=null;ii&&"documentMode"in document&&(ba=document.documentMode);var MA=ii&&"TextEvent"in window&&!ba,o_=ii&&(!k0||ba&&8<ba&&11>=ba),Jg=" ",ey=!1;function s_(t,e){switch(t){case"keyup":return BA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function IA(t,e){switch(t){case"compositionend":return a_(e);case"keypress":return e.which!==32?null:(ey=!0,Jg);case"textInput":return t=e.data,t===Jg&&ey?null:t;default:return null}}function PA(t,e){if(Zo)return t==="compositionend"||!k0&&s_(t,e)?(t=i_(),gu=b0=Ei=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o_&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function l_(t,e,n,r){Uv(r),e=$u(e,"onChange"),0<e.length&&(n=new S0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sa=null,Ha=null;function NA(t){v_(t,0)}function Lc(t){var e=Qo(t);if(Iv(e))return t}function OA(t,e){if(t==="change")return e}var u_=!1;if(ii){var hd;if(ii){var pd="oninput"in document;if(!pd){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),pd=typeof ny.oninput=="function"}hd=pd}else hd=!1;u_=hd&&(!document.documentMode||9<document.documentMode)}function ry(){Sa&&(Sa.detachEvent("onpropertychange",c_),Ha=Sa=null)}function c_(t){if(t.propertyName==="value"&&Lc(Ha)){var e=[];l_(e,Ha,t,y0(t)),zv(NA,e)}}function FA(t,e,n){t==="focusin"?(ry(),Sa=e,Ha=n,Sa.attachEvent("onpropertychange",c_)):t==="focusout"&&ry()}function DA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lc(Ha)}function UA(t,e){if(t==="click")return Lc(e)}function jA(t,e){if(t==="input"||t==="change")return Lc(e)}function $A(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:$A;function Wa(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eh.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function iy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,e){var n=iy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iy(n)}}function f_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d_(){for(var t=window,e=Lu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lu(t.document)}return e}function A0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VA(t){var e=d_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&f_(n.ownerDocument.documentElement,n)){if(r!==null&&A0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=oy(n,o);var s=oy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zA=ii&&"documentMode"in document&&11>=document.documentMode,Yo=null,zh=null,Ea=null,Hh=!1;function sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||Yo==null||Yo!==Lu(r)||(r=Yo,"selectionStart"in r&&A0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ea&&Wa(Ea,r)||(Ea=r,r=$u(zh,"onSelect"),0<r.length&&(e=new S0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function Hl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},md={},h_={};ii&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Nc(t){if(md[t])return md[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h_)return md[t]=e[n];return t}var p_=Nc("animationend"),m_=Nc("animationiteration"),g_=Nc("animationstart"),y_=Nc("transitionend"),w_=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){w_.set(t,e),To(e,[t])}for(var gd=0;gd<ay.length;gd++){var yd=ay[gd],HA=yd.toLowerCase(),WA=yd[0].toUpperCase()+yd.slice(1);zi(HA,"on"+WA)}zi(p_,"onAnimationEnd");zi(m_,"onAnimationIteration");zi(g_,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(y_,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function ly(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Hk(r,e,void 0,t),t.currentTarget=null}function v_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ly(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ly(i,a,c),o=l}}}if(Ou)throw t=Uh,Ou=!1,Uh=null,t}function He(t,e){var n=e[Zh];n===void 0&&(n=e[Zh]=new Set);var r=t+"__bubble";n.has(r)||(__(e,t,2,!1),n.add(r))}function wd(t,e,n){var r=0;e&&(r|=4),__(n,t,r,e)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function qa(t){if(!t[Wl]){t[Wl]=!0,Tv.forEach(function(n){n!=="selectionchange"&&(qA.has(n)||wd(n,!1,t),wd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wl]||(e[Wl]=!0,wd("selectionchange",!1,e))}}function __(t,e,n,r){switch(r_(e)){case 1:var i=sA;break;case 4:i=aA;break;default:i=x0}n=i.bind(null,e,n,t),i=void 0,!Dh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=to(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}zv(function(){var c=o,d=y0(n),u=[];e:{var f=w_.get(t);if(f!==void 0){var p=S0,m=t;switch(t){case"keypress":if(yu(n)===0)break e;case"keydown":case"keyup":p=bA;break;case"focusin":m="focus",p=dd;break;case"focusout":m="blur",p=dd;break;case"beforeblur":case"afterblur":p=dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kA;break;case p_:case m_:case g_:p=hA;break;case y_:p=TA;break;case"scroll":p=lA;break;case"wheel":p=RA;break;case"copy":case"cut":case"paste":p=mA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Qg}var v=(e&4)!==0,b=!v&&t==="scroll",_=v?f!==null?f+"Capture":null:f;v=[];for(var E=c,S;E!==null;){S=E;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,_!==null&&(M=ja(E,_),M!=null&&v.push(Ka(E,M,S)))),b)break;E=E.return}0<v.length&&(f=new p(f,m,null,n,d),u.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Oh&&(m=n.relatedTarget||n.fromElement)&&(to(m)||m[oi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?to(m):null,m!==null&&(b=Co(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Yg,M="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=Qg,M="onPointerLeave",_="onPointerEnter",E="pointer"),b=p==null?f:Qo(p),S=m==null?f:Qo(m),f=new v(M,E+"leave",p,n,d),f.target=b,f.relatedTarget=S,M=null,to(d)===c&&(v=new v(_,E+"enter",m,n,d),v.target=S,v.relatedTarget=b,M=v),b=M,p&&m)t:{for(v=p,_=m,E=0,S=v;S;S=Do(S))E++;for(S=0,M=_;M;M=Do(M))S++;for(;0<E-S;)v=Do(v),E--;for(;0<S-E;)_=Do(_),S--;for(;E--;){if(v===_||_!==null&&v===_.alternate)break t;v=Do(v),_=Do(_)}v=null}else v=null;p!==null&&uy(u,f,p,v,!1),m!==null&&b!==null&&uy(u,b,m,v,!0)}}e:{if(f=c?Qo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var O=OA;else if(ty(f))if(u_)O=jA;else{O=DA;var $=FA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=UA);if(O&&(O=O(t,c))){l_(u,O,n,d);break e}$&&$(t,f,c),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&Mh(f,"number",f.value)}switch($=c?Qo(c):window,t){case"focusin":(ty($)||$.contentEditable==="true")&&(Yo=$,zh=c,Ea=null);break;case"focusout":Ea=zh=Yo=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,sy(u,n,d);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":sy(u,n,d)}var U;if(k0)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Zo?s_(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(o_&&n.locale!=="ko"&&(Zo||V!=="onCompositionStart"?V==="onCompositionEnd"&&Zo&&(U=i_()):(Ei=d,b0="value"in Ei?Ei.value:Ei.textContent,Zo=!0)),$=$u(c,V),0<$.length&&(V=new Xg(V,t,null,n,d),u.push({event:V,listeners:$}),U?V.data=U:(U=a_(n),U!==null&&(V.data=U)))),(U=MA?IA(t,n):PA(t,n))&&(c=$u(c,"onBeforeInput"),0<c.length&&(d=new Xg("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=U))}v_(u,e)})}function Ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $u(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ja(t,n),o!=null&&r.unshift(Ka(t,o,i)),o=ja(t,e),o!=null&&r.push(Ka(t,o,i))),t=t.return}return r}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ja(n,o),l!=null&&s.unshift(Ka(n,l,a))):i||(l=ja(n,o),l!=null&&s.push(Ka(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var KA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(KA,`
`).replace(GA,"")}function ql(t,e,n){if(e=cy(e),cy(t)!==e&&n)throw Error(ne(425))}function Vu(){}var Wh=null,qh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(t){return fy.resolve(null).then(t).catch(XA)}:Gh;function XA(t){setTimeout(function(){throw t})}function _d(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),za(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);za(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $s=Math.random().toString(36).slice(2),Cr="__reactFiber$"+$s,Ga="__reactProps$"+$s,oi="__reactContainer$"+$s,Zh="__reactEvents$"+$s,QA="__reactListeners$"+$s,JA="__reactHandles$"+$s;function to(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dy(t);t!==null;){if(n=t[Cr])return n;t=dy(t)}return e}t=n,n=t.parentNode}return null}function hl(t){return t=t[Cr]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Oc(t){return t[Ga]||null}var Yh=[],Jo=-1;function Hi(t){return{current:t}}function We(t){0>Jo||(t.current=Yh[Jo],Yh[Jo]=null,Jo--)}function je(t,e){Jo++,Yh[Jo]=t.current,t.current=e}var Ui={},hn=Hi(Ui),Cn=Hi(!1),yo=Ui;function Es(t,e){var n=t.type.contextTypes;if(!n)return Ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function zu(){We(Cn),We(hn)}function hy(t,e,n){if(hn.current!==Ui)throw Error(ne(168));je(hn,e),je(Cn,n)}function x_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,Fk(t)||"Unknown",i));return et({},n,r)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ui,yo=hn.current,je(hn,t),je(Cn,Cn.current),!0}function py(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=x_(t,e,yo),r.__reactInternalMemoizedMergedChildContext=t,We(Cn),We(hn),je(hn,t)):We(Cn),je(Cn,n)}var qr=null,Fc=!1,xd=!1;function b_(t){qr===null?qr=[t]:qr.push(t)}function eT(t){Fc=!0,b_(t)}function Wi(){if(!xd&&qr!==null){xd=!0;var t=0,e=Fe;try{var n=qr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,Fc=!1}catch(i){throw qr!==null&&(qr=qr.slice(t+1)),Kv(w0,Wi),i}finally{Fe=e,xd=!1}}return null}var es=[],ts=0,Wu=null,qu=0,er=[],tr=0,wo=null,Xr=1,Qr="";function Gi(t,e){es[ts++]=qu,es[ts++]=Wu,Wu=t,qu=e}function S_(t,e,n){er[tr++]=Xr,er[tr++]=Qr,er[tr++]=wo,wo=t;var r=Xr;t=Qr;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var o=32-mr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-mr(e)+i|n<<i|r,Qr=o+t}else Xr=1<<o|n<<i|r,Qr=t}function T0(t){t.return!==null&&(Gi(t,1),S_(t,1,0))}function C0(t){for(;t===Wu;)Wu=es[--ts],es[ts]=null,qu=es[--ts],es[ts]=null;for(;t===wo;)wo=er[--tr],er[tr]=null,Qr=er[--tr],er[tr]=null,Xr=er[--tr],er[tr]=null}var Un=null,Dn=null,Ge=!1,dr=null;function E_(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function my(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Dn=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wo!==null?{id:Xr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Dn=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qh(t){if(Ge){var e=Dn;if(e){var n=e;if(!my(t,e)){if(Xh(t))throw Error(ne(418));e=Mi(n.nextSibling);var r=Un;e&&my(t,e)?E_(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Un=t)}}else{if(Xh(t))throw Error(ne(418));t.flags=t.flags&-4097|2,Ge=!1,Un=t}}}function gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Kl(t){if(t!==Un)return!1;if(!Ge)return gy(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=Dn)){if(Xh(t))throw k_(),Error(ne(418));for(;e;)E_(t,e),e=Mi(e.nextSibling)}if(gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Un?Mi(t.stateNode.nextSibling):null;return!0}function k_(){for(var t=Dn;t;)t=Mi(t.nextSibling)}function ks(){Dn=Un=null,Ge=!1}function R0(t){dr===null?dr=[t]:dr.push(t)}var tT=ui.ReactCurrentBatchConfig;function ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Gl(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yy(t){var e=t._init;return e(t._payload)}function A_(t){function e(_,E){if(t){var S=_.deletions;S===null?(_.deletions=[E],_.flags|=16):S.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=Ni(_,E),_.index=0,_.sibling=null,_}function o(_,E,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<E?(_.flags|=2,E):S):(_.flags|=2,E)):(_.flags|=1048576,E)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,S,M){return E===null||E.tag!==6?(E=Cd(S,_.mode,M),E.return=_,E):(E=i(E,S),E.return=_,E)}function l(_,E,S,M){var O=S.type;return O===Go?d(_,E,S.props.children,M,S.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===vi&&yy(O)===E.type)?(M=i(E,S.props),M.ref=ia(_,E,S),M.return=_,M):(M=Eu(S.type,S.key,S.props,null,_.mode,M),M.ref=ia(_,E,S),M.return=_,M)}function c(_,E,S,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Rd(S,_.mode,M),E.return=_,E):(E=i(E,S.children||[]),E.return=_,E)}function d(_,E,S,M,O){return E===null||E.tag!==7?(E=co(S,_.mode,M,O),E.return=_,E):(E=i(E,S),E.return=_,E)}function u(_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Cd(""+E,_.mode,S),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fl:return S=Eu(E.type,E.key,E.props,null,_.mode,S),S.ref=ia(_,null,E),S.return=_,S;case Ko:return E=Rd(E,_.mode,S),E.return=_,E;case vi:var M=E._init;return u(_,M(E._payload),S)}if(ha(E)||Js(E))return E=co(E,_.mode,S,null),E.return=_,E;Gl(_,E)}return null}function f(_,E,S,M){var O=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:a(_,E,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fl:return S.key===O?l(_,E,S,M):null;case Ko:return S.key===O?c(_,E,S,M):null;case vi:return O=S._init,f(_,E,O(S._payload),M)}if(ha(S)||Js(S))return O!==null?null:d(_,E,S,M,null);Gl(_,S)}return null}function p(_,E,S,M,O){if(typeof M=="string"&&M!==""||typeof M=="number")return _=_.get(S)||null,a(E,_,""+M,O);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Fl:return _=_.get(M.key===null?S:M.key)||null,l(E,_,M,O);case Ko:return _=_.get(M.key===null?S:M.key)||null,c(E,_,M,O);case vi:var $=M._init;return p(_,E,S,$(M._payload),O)}if(ha(M)||Js(M))return _=_.get(S)||null,d(E,_,M,O,null);Gl(E,M)}return null}function m(_,E,S,M){for(var O=null,$=null,U=E,V=E=0,F=null;U!==null&&V<S.length;V++){U.index>V?(F=U,U=null):F=U.sibling;var Z=f(_,U,S[V],M);if(Z===null){U===null&&(U=F);break}t&&U&&Z.alternate===null&&e(_,U),E=o(Z,E,V),$===null?O=Z:$.sibling=Z,$=Z,U=F}if(V===S.length)return n(_,U),Ge&&Gi(_,V),O;if(U===null){for(;V<S.length;V++)U=u(_,S[V],M),U!==null&&(E=o(U,E,V),$===null?O=U:$.sibling=U,$=U);return Ge&&Gi(_,V),O}for(U=r(_,U);V<S.length;V++)F=p(U,_,V,S[V],M),F!==null&&(t&&F.alternate!==null&&U.delete(F.key===null?V:F.key),E=o(F,E,V),$===null?O=F:$.sibling=F,$=F);return t&&U.forEach(function(Y){return e(_,Y)}),Ge&&Gi(_,V),O}function v(_,E,S,M){var O=Js(S);if(typeof O!="function")throw Error(ne(150));if(S=O.call(S),S==null)throw Error(ne(151));for(var $=O=null,U=E,V=E=0,F=null,Z=S.next();U!==null&&!Z.done;V++,Z=S.next()){U.index>V?(F=U,U=null):F=U.sibling;var Y=f(_,U,Z.value,M);if(Y===null){U===null&&(U=F);break}t&&U&&Y.alternate===null&&e(_,U),E=o(Y,E,V),$===null?O=Y:$.sibling=Y,$=Y,U=F}if(Z.done)return n(_,U),Ge&&Gi(_,V),O;if(U===null){for(;!Z.done;V++,Z=S.next())Z=u(_,Z.value,M),Z!==null&&(E=o(Z,E,V),$===null?O=Z:$.sibling=Z,$=Z);return Ge&&Gi(_,V),O}for(U=r(_,U);!Z.done;V++,Z=S.next())Z=p(U,_,V,Z.value,M),Z!==null&&(t&&Z.alternate!==null&&U.delete(Z.key===null?V:Z.key),E=o(Z,E,V),$===null?O=Z:$.sibling=Z,$=Z);return t&&U.forEach(function(X){return e(_,X)}),Ge&&Gi(_,V),O}function b(_,E,S,M){if(typeof S=="object"&&S!==null&&S.type===Go&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Fl:e:{for(var O=S.key,$=E;$!==null;){if($.key===O){if(O=S.type,O===Go){if($.tag===7){n(_,$.sibling),E=i($,S.props.children),E.return=_,_=E;break e}}else if($.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===vi&&yy(O)===$.type){n(_,$.sibling),E=i($,S.props),E.ref=ia(_,$,S),E.return=_,_=E;break e}n(_,$);break}else e(_,$);$=$.sibling}S.type===Go?(E=co(S.props.children,_.mode,M,S.key),E.return=_,_=E):(M=Eu(S.type,S.key,S.props,null,_.mode,M),M.ref=ia(_,E,S),M.return=_,_=M)}return s(_);case Ko:e:{for($=S.key;E!==null;){if(E.key===$)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(_,E.sibling),E=i(E,S.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=Rd(S,_.mode,M),E.return=_,_=E}return s(_);case vi:return $=S._init,b(_,E,$(S._payload),M)}if(ha(S))return m(_,E,S,M);if(Js(S))return v(_,E,S,M);Gl(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,S),E.return=_,_=E):(n(_,E),E=Cd(S,_.mode,M),E.return=_,_=E),s(_)):n(_,E)}return b}var As=A_(!0),T_=A_(!1),Ku=Hi(null),Gu=null,ns=null,B0=null;function M0(){B0=ns=Gu=null}function I0(t){var e=Ku.current;We(Ku),t._currentValue=e}function Jh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gs(t,e){Gu=t,B0=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(B0!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(Gu===null)throw Error(ne(308));ns=t,Gu.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var no=null;function P0(t){no===null?no=[t]:no.push(t)}function C_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,P0(e)):(n.next=i.next,i.next=n),e.interleaved=n,si(t,r)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _i=!1;function L0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,si(t,n)}return i=r.interleaved,i===null?(e.next=e,P0(r)):(e.next=i.next,i.next=e),r.interleaved=e,si(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v0(t,n)}}function wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,r){var i=t.updateQueue;_i=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var u=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(f=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){u=m.call(p,u,f);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,u,f):m,f==null)break e;u=et({},u,f);break e;case 2:_i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=u):d=d.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_o|=s,t.lanes=s,t.memoizedState=u}}function vy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var pl={},Lr=Hi(pl),Za=Hi(pl),Ya=Hi(pl);function ro(t){if(t===pl)throw Error(ne(174));return t}function N0(t,e){switch(je(Ya,e),je(Za,t),je(Lr,pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ph(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ph(e,t)}We(Lr),je(Lr,e)}function Ts(){We(Lr),We(Za),We(Ya)}function B_(t){ro(Ya.current);var e=ro(Lr.current),n=Ph(e,t.type);e!==n&&(je(Za,t),je(Lr,n))}function O0(t){Za.current===t&&(We(Lr),We(Za))}var Ye=Hi(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bd=[];function F0(){for(var t=0;t<bd.length;t++)bd[t]._workInProgressVersionPrimary=null;bd.length=0}var vu=ui.ReactCurrentDispatcher,Sd=ui.ReactCurrentBatchConfig,vo=0,Je=null,Ft=null,Vt=null,Xu=!1,ka=!1,Xa=0,nT=0;function en(){throw Error(ne(321))}function D0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function U0(t,e,n,r,i,o){if(vo=o,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vu.current=t===null||t.memoizedState===null?sT:aT,t=n(r,i),ka){o=0;do{if(ka=!1,Xa=0,25<=o)throw Error(ne(301));o+=1,Vt=Ft=null,e.updateQueue=null,vu.current=lT,t=n(r,i)}while(ka)}if(vu.current=Qu,e=Ft!==null&&Ft.next!==null,vo=0,Vt=Ft=Je=null,Xu=!1,e)throw Error(ne(300));return t}function j0(){var t=Xa!==0;return Xa=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Je.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function sr(){if(Ft===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Vt===null?Je.memoizedState:Vt.next;if(e!==null)Vt=e,Ft=t;else{if(t===null)throw Error(ne(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Vt===null?Je.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Qa(t,e){return typeof e=="function"?e(t):e}function Ed(t){var e=sr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((vo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=r):l=l.next=u,Je.lanes|=d,_o|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,wr(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Je.lanes|=o,_o|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kd(t){var e=sr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);wr(o,e.memoizedState)||(kn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function M_(){}function I_(t,e){var n=Je,r=sr(),i=e(),o=!wr(r.memoizedState,i);if(o&&(r.memoizedState=i,kn=!0),r=r.queue,$0(N_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Ja(9,L_.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(ne(349));vo&30||P_(n,e,i)}return i}function P_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L_(t,e,n,r){e.value=n,e.getSnapshot=r,O_(e)&&F_(t)}function N_(t,e,n){return n(function(){O_(e)&&F_(t)})}function O_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function F_(t){var e=si(t,1);e!==null&&gr(e,t,1,-1)}function _y(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=oT.bind(null,Je,t),[e.memoizedState,t]}function Ja(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function D_(){return sr().memoizedState}function _u(t,e,n,r){var i=Tr();Je.flags|=t,i.memoizedState=Ja(1|e,n,void 0,r===void 0?null:r)}function Dc(t,e,n,r){var i=sr();r=r===void 0?null:r;var o=void 0;if(Ft!==null){var s=Ft.memoizedState;if(o=s.destroy,r!==null&&D0(r,s.deps)){i.memoizedState=Ja(e,n,o,r);return}}Je.flags|=t,i.memoizedState=Ja(1|e,n,o,r)}function xy(t,e){return _u(8390656,8,t,e)}function $0(t,e){return Dc(2048,8,t,e)}function U_(t,e){return Dc(4,2,t,e)}function j_(t,e){return Dc(4,4,t,e)}function $_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V_(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4,4,$_.bind(null,e,t),n)}function V0(){}function z_(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H_(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W_(t,e,n){return vo&21?(wr(n,e)||(n=Yv(),Je.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function rT(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Sd.transition;Sd.transition={};try{t(!1),e()}finally{Fe=n,Sd.transition=r}}function q_(){return sr().memoizedState}function iT(t,e,n){var r=Li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K_(t))G_(e,n);else if(n=C_(t,e,n,r),n!==null){var i=wn();gr(n,t,r,i),Z_(n,e,r)}}function oT(t,e,n){var r=Li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K_(t))G_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wr(a,s)){var l=e.interleaved;l===null?(i.next=i,P0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=C_(t,e,i,r),n!==null&&(i=wn(),gr(n,t,r,i),Z_(n,e,r))}}function K_(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function G_(t,e){ka=Xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v0(t,n)}}var Qu={readContext:or,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},sT={readContext:or,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:xy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_u(4194308,4,$_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _u(4194308,4,t,e)},useInsertionEffect:function(t,e){return _u(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iT.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:_y,useDebugValue:V0,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=_y(!1),e=t[0];return t=rT.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=Tr();if(Ge){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),zt===null)throw Error(ne(349));vo&30||P_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xy(N_.bind(null,r,o,t),[t]),r.flags|=2048,Ja(9,L_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tr(),e=zt.identifierPrefix;if(Ge){var n=Qr,r=Xr;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aT={readContext:or,useCallback:z_,useContext:or,useEffect:$0,useImperativeHandle:V_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:H_,useReducer:Ed,useRef:D_,useState:function(){return Ed(Qa)},useDebugValue:V0,useDeferredValue:function(t){var e=sr();return W_(e,Ft.memoizedState,t)},useTransition:function(){var t=Ed(Qa)[0],e=sr().memoizedState;return[t,e]},useMutableSource:M_,useSyncExternalStore:I_,useId:q_,unstable_isNewReconciler:!1},lT={readContext:or,useCallback:z_,useContext:or,useEffect:$0,useImperativeHandle:V_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:H_,useReducer:kd,useRef:D_,useState:function(){return kd(Qa)},useDebugValue:V0,useDeferredValue:function(t){var e=sr();return Ft===null?e.memoizedState=t:W_(e,Ft.memoizedState,t)},useTransition:function(){var t=kd(Qa)[0],e=sr().memoizedState;return[t,e]},useMutableSource:M_,useSyncExternalStore:I_,useId:q_,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uc={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wn(),i=Li(t),o=ti(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(gr(e,t,i,r),wu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wn(),i=Li(t),o=ti(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(gr(e,t,i,r),wu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wn(),r=Li(t),i=ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(gr(e,t,r,n),wu(e,t,r))}};function by(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Wa(n,r)||!Wa(i,o):!0}function Y_(t,e,n){var r=!1,i=Ui,o=e.contextType;return typeof o=="object"&&o!==null?o=or(o):(i=Rn(e)?yo:hn.current,r=e.contextTypes,o=(r=r!=null)?Es(t,i):Ui),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uc.enqueueReplaceState(e,e.state,null)}function tp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},L0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=or(o):(o=Rn(e)?yo:hn.current,i.context=Es(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ep(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uc.enqueueReplaceState(i,i.state,null),Zu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,e){try{var n="",r=e;do n+=Ok(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ad(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uT=typeof WeakMap=="function"?WeakMap:Map;function X_(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ec||(ec=!0,dp=r),np(t,e)},n}function Q_(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){np(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){np(t,e),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ey(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ST.bind(null,t,e,n),e.then(t,t))}function ky(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ay(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ti(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var cT=ui.ReactCurrentOwner,kn=!1;function mn(t,e,n,r){e.child=t===null?T_(e,null,n,r):As(e,t.child,n,r)}function Ty(t,e,n,r,i){n=n.render;var o=e.ref;return gs(e,i),r=U0(t,e,n,r,o,i),n=j0(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(Ge&&n&&T0(e),e.flags|=1,mn(t,e,r,i),e.child)}function Cy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Y0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,J_(t,e,o,r,i)):(t=Eu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wa,n(s,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=Ni(o,r),t.ref=e.ref,t.return=e,e.child=t}function J_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Wa(o,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return rp(t,e,n,r,i)}function ex(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(is,On),On|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(is,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(is,On),On|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,je(is,On),On|=r;return mn(t,e,i,n),e.child}function tx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rp(t,e,n,r,i){var o=Rn(n)?yo:hn.current;return o=Es(e,o),gs(e,i),n=U0(t,e,n,r,o,i),r=j0(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(Ge&&r&&T0(e),e.flags|=1,mn(t,e,n,i),e.child)}function Ry(t,e,n,r,i){if(Rn(n)){var o=!0;Hu(e)}else o=!1;if(gs(e,i),e.stateNode===null)xu(t,e),Y_(e,n,r),tp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=or(c):(c=Rn(n)?yo:hn.current,c=Es(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Sy(e,s,r,c),_i=!1;var f=e.memoizedState;s.state=f,Zu(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Cn.current||_i?(typeof d=="function"&&(ep(e,n,d,r),l=e.memoizedState),(a=_i||by(e,n,a,r,f,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,R_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:cr(e.type,a),s.props=c,u=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Rn(n)?yo:hn.current,l=Es(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||f!==l)&&Sy(e,s,r,l),_i=!1,f=e.memoizedState,s.state=f,Zu(e,r,s,i);var m=e.memoizedState;a!==u||f!==m||Cn.current||_i?(typeof p=="function"&&(ep(e,n,p,r),m=e.memoizedState),(c=_i||by(e,n,c,r,f,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ip(t,e,n,r,o,i)}function ip(t,e,n,r,i,o){tx(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&py(e,n,!1),ai(t,e,o);r=e.stateNode,cT.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=As(e,t.child,null,o),e.child=As(e,null,a,o)):mn(t,e,a,o),e.memoizedState=r.state,i&&py(e,n,!0),e.child}function nx(t){var e=t.stateNode;e.pendingContext?hy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hy(t,e.context,!1),N0(t,e.containerInfo)}function By(t,e,n,r,i){return ks(),R0(i),e.flags|=256,mn(t,e,n,r),e.child}var op={dehydrated:null,treeContext:null,retryLane:0};function sp(t){return{baseLanes:t,cachePool:null,transitions:null}}function rx(t,e,n){var r=e.pendingProps,i=Ye.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Ye,i&1),t===null)return Qh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Vc(s,r,0,null),t=co(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sp(n),e.memoizedState=op,t):z0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fT(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ni(a,o):(o=co(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?sp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=op,r}return o=t.child,t=o.sibling,r=Ni(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function z0(t,e){return e=Vc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zl(t,e,n,r){return r!==null&&R0(r),As(e,t.child,null,n),t=z0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fT(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ad(Error(ne(422))),Zl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Vc({mode:"visible",children:r.children},i,0,null),o=co(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&As(e,t.child,null,s),e.child.memoizedState=sp(s),e.memoizedState=op,o);if(!(e.mode&1))return Zl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ne(419)),r=Ad(o,r,void 0),Zl(t,e,s,r)}if(a=(s&t.childLanes)!==0,kn||a){if(r=zt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,si(t,i),gr(r,t,i,-1))}return Z0(),r=Ad(Error(ne(421))),Zl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ET.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dn=Mi(i.nextSibling),Un=e,Ge=!0,dr=null,t!==null&&(er[tr++]=Xr,er[tr++]=Qr,er[tr++]=wo,Xr=t.id,Qr=t.overflow,wo=e),e=z0(e,r.children),e.flags|=4096,e)}function My(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jh(t.return,e,n)}function Td(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ix(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&My(t,n,e);else if(t.tag===19)My(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Td(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Td(e,!0,n,null,o);break;case"together":Td(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dT(t,e,n){switch(e.tag){case 3:nx(e),ks();break;case 5:B_(e);break;case 1:Rn(e.type)&&Hu(e);break;case 4:N0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Ku,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?rx(t,e,n):(je(Ye,Ye.current&1),t=ai(t,e,n),t!==null?t.sibling:null);je(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ix(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,ex(t,e,n)}return ai(t,e,n)}var ox,ap,sx,ax;ox=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ap=function(){};sx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ro(Lr.current);var o=null;switch(n){case"input":i=Rh(t,i),r=Rh(t,r),o=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),o=[];break;case"textarea":i=Ih(t,i),r=Ih(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vu)}Lh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Da.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Da.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&He("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};ax=function(t,e,n,r){n!==r&&(e.flags|=4)};function oa(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hT(t,e,n){var r=e.pendingProps;switch(C0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Rn(e.type)&&zu(),tn(e),null;case 3:return r=e.stateNode,Ts(),We(Cn),We(hn),F0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dr!==null&&(mp(dr),dr=null))),ap(t,e),tn(e),null;case 5:O0(e);var i=ro(Ya.current);if(n=e.type,t!==null&&e.stateNode!=null)sx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return tn(e),null}if(t=ro(Lr.current),Kl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cr]=e,r[Ga]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)He(ma[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":jg(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":Vg(r,o),He("invalid",r)}Lh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ql(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ql(r.textContent,a,t),i=["children",""+a]):Da.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&He("scroll",r)}switch(n){case"input":Dl(r),$g(r,o,!0);break;case"textarea":Dl(r),zg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Cr]=e,t[Ga]=r,ox(t,e,!1,!1),e.stateNode=t;e:{switch(s=Nh(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)He(ma[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":jg(t,r),i=Rh(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),He("invalid",t);break;case"textarea":Vg(t,r),i=Ih(t,r),He("invalid",t);break;default:i=r}Lh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Dv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ov(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ua(t,l):typeof l=="number"&&Ua(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Da.hasOwnProperty(o)?l!=null&&o==="onScroll"&&He("scroll",t):l!=null&&h0(t,o,l,s))}switch(n){case"input":Dl(t),$g(t,r,!1);break;case"textarea":Dl(t),zg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ds(t,!!r.multiple,o,!1):r.defaultValue!=null&&ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)ax(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=ro(Ya.current),ro(Lr.current),Kl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(o=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:ql(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ql(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return tn(e),null;case 13:if(We(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Dn!==null&&e.mode&1&&!(e.flags&128))k_(),ks(),e.flags|=98560,o=!1;else if(o=Kl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[Cr]=e}else ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),o=!1}else dr!==null&&(mp(dr),dr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?Dt===0&&(Dt=3):Z0())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return Ts(),ap(t,e),t===null&&qa(e.stateNode.containerInfo),tn(e),null;case 10:return I0(e.type._context),tn(e),null;case 17:return Rn(e.type)&&zu(),tn(e),null;case 19:if(We(Ye),o=e.memoizedState,o===null)return tn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)oa(o,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Yu(t),s!==null){for(e.flags|=128,oa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ye,Ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&dt()>Rs&&(e.flags|=128,r=!0,oa(o,!1),e.lanes=4194304)}else{if(!r)if(t=Yu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ge)return tn(e),null}else 2*dt()-o.renderingStartTime>Rs&&n!==1073741824&&(e.flags|=128,r=!0,oa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=dt(),e.sibling=null,n=Ye.current,je(Ye,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return G0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function pT(t,e){switch(C0(e),e.tag){case 1:return Rn(e.type)&&zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ts(),We(Cn),We(hn),F0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return O0(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return Ts(),null;case 10:return I0(e.type._context),null;case 22:case 23:return G0(),null;case 24:return null;default:return null}}var Yl=!1,cn=!1,mT=typeof WeakSet=="function"?WeakSet:Set,le=null;function rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function lp(t,e,n){try{n()}catch(r){ut(t,e,r)}}var Iy=!1;function gT(t,e){if(Wh=Uu,t=d_(),A0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=t,f=null;t:for(;;){for(var p;u!==n||i!==0&&u.nodeType!==3||(a=s+i),u!==o||r!==0&&u.nodeType!==3||(l=s+r),u.nodeType===3&&(s+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++d===r&&(l=s),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:t,selectionRange:n},Uu=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,b=m.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:cr(e.type,v),b);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(M){ut(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=Iy,Iy=!1,m}function Aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&lp(e,n,o)}i=i.next}while(i!==r)}}function jc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lx(t){var e=t.alternate;e!==null&&(t.alternate=null,lx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[Ga],delete e[Zh],delete e[QA],delete e[JA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ux(t){return t.tag===5||t.tag===3||t.tag===4}function Py(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ux(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vu));else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}var qt=null,fr=!1;function fi(t,e,n){for(n=n.child;n!==null;)cx(t,e,n),n=n.sibling}function cx(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Ic,n)}catch{}switch(n.tag){case 5:cn||rs(n,e);case 6:var r=qt,i=fr;qt=null,fi(t,e,n),qt=r,fr=i,qt!==null&&(fr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(fr?(t=qt,n=n.stateNode,t.nodeType===8?_d(t.parentNode,n):t.nodeType===1&&_d(t,n),za(t)):_d(qt,n.stateNode));break;case 4:r=qt,i=fr,qt=n.stateNode.containerInfo,fr=!0,fi(t,e,n),qt=r,fr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&lp(n,e,s),i=i.next}while(i!==r)}fi(t,e,n);break;case 1:if(!cn&&(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,fi(t,e,n),cn=r):fi(t,e,n);break;default:fi(t,e,n)}}function Ly(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mT),e.forEach(function(r){var i=kT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,fr=!1;break e;case 3:qt=a.stateNode.containerInfo,fr=!0;break e;case 4:qt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(qt===null)throw Error(ne(160));cx(o,s,i),qt=null,fr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fx(e,t),e=e.sibling}function fx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Er(t),r&4){try{Aa(3,t,t.return),jc(3,t)}catch(v){ut(t,t.return,v)}try{Aa(5,t,t.return)}catch(v){ut(t,t.return,v)}}break;case 1:lr(e,t),Er(t),r&512&&n!==null&&rs(n,n.return);break;case 5:if(lr(e,t),Er(t),r&512&&n!==null&&rs(n,n.return),t.flags&32){var i=t.stateNode;try{Ua(i,"")}catch(v){ut(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Pv(i,o),Nh(a,s);var c=Nh(a,o);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?Dv(i,u):d==="dangerouslySetInnerHTML"?Ov(i,u):d==="children"?Ua(i,u):h0(i,d,u,c)}switch(a){case"input":Bh(i,o);break;case"textarea":Lv(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ds(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?ds(i,!!o.multiple,o.defaultValue,!0):ds(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ga]=o}catch(v){ut(t,t.return,v)}}break;case 6:if(lr(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){ut(t,t.return,v)}}break;case 3:if(lr(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{za(e.containerInfo)}catch(v){ut(t,t.return,v)}break;case 4:lr(e,t),Er(t);break;case 13:lr(e,t),Er(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(q0=dt())),r&4&&Ly(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(c=cn)||d,lr(e,t),cn=c):lr(e,t),Er(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(u=le=d;le!==null;){switch(f=le,p=f.child,f.tag){case 0:case 11:case 14:case 15:Aa(4,f,f.return);break;case 1:rs(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){ut(r,n,v)}}break;case 5:rs(f,f.return);break;case 22:if(f.memoizedState!==null){Oy(u);continue}}p!==null?(p.return=f,le=p):Oy(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fv("display",s))}catch(v){ut(t,t.return,v)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(v){ut(t,t.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:lr(e,t),Er(t),r&4&&Ly(t);break;case 21:break;default:lr(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ux(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ua(i,""),r.flags&=-33);var o=Py(t);fp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Py(t);cp(t,a,s);break;default:throw Error(ne(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yT(t,e,n){le=t,dx(t)}function dx(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Yl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=Yl;var c=cn;if(Yl=s,(cn=l)&&!c)for(le=i;le!==null;)s=le,l=s.child,s.tag===22&&s.memoizedState!==null?Fy(i):l!==null?(l.return=s,le=l):Fy(i);for(;o!==null;)le=o,dx(o),o=o.sibling;le=i,Yl=a,cn=c}Ny(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):Ny(t)}}function Ny(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||jc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&za(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}cn||e.flags&512&&up(e)}catch(f){ut(e,e.return,f)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function Oy(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Fy(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jc(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ut(e,i,l)}}var o=e.return;try{up(e)}catch(l){ut(e,o,l)}break;case 5:var s=e.return;try{up(e)}catch(l){ut(e,s,l)}}}catch(l){ut(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var wT=Math.ceil,Ju=ui.ReactCurrentDispatcher,H0=ui.ReactCurrentOwner,rr=ui.ReactCurrentBatchConfig,Ie=0,zt=null,Ot=null,Yt=0,On=0,is=Hi(0),Dt=0,el=null,_o=0,$c=0,W0=0,Ta=null,bn=null,q0=0,Rs=1/0,Wr=null,ec=!1,dp=null,Pi=null,Xl=!1,ki=null,tc=0,Ca=0,hp=null,bu=-1,Su=0;function wn(){return Ie&6?dt():bu!==-1?bu:bu=dt()}function Li(t){return t.mode&1?Ie&2&&Yt!==0?Yt&-Yt:tT.transition!==null?(Su===0&&(Su=Yv()),Su):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:r_(t.type)),t):1}function gr(t,e,n,r){if(50<Ca)throw Ca=0,hp=null,Error(ne(185));fl(t,n,r),(!(Ie&2)||t!==zt)&&(t===zt&&(!(Ie&2)&&($c|=n),Dt===4&&Si(t,Yt)),Bn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Rs=dt()+500,Fc&&Wi()))}function Bn(t,e){var n=t.callbackNode;tA(t,e);var r=Du(t,t===zt?Yt:0);if(r===0)n!==null&&qg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qg(n),e===1)t.tag===0?eT(Dy.bind(null,t)):b_(Dy.bind(null,t)),YA(function(){!(Ie&6)&&Wi()}),n=null;else{switch(Xv(r)){case 1:n=w0;break;case 4:n=Gv;break;case 16:n=Fu;break;case 536870912:n=Zv;break;default:n=Fu}n=_x(n,hx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hx(t,e){if(bu=-1,Su=0,Ie&6)throw Error(ne(327));var n=t.callbackNode;if(ys()&&t.callbackNode!==n)return null;var r=Du(t,t===zt?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nc(t,r);else{e=r;var i=Ie;Ie|=2;var o=mx();(zt!==t||Yt!==e)&&(Wr=null,Rs=dt()+500,uo(t,e));do try{xT();break}catch(a){px(t,a)}while(!0);M0(),Ju.current=o,Ie=i,Ot!==null?e=0:(zt=null,Yt=0,e=Dt)}if(e!==0){if(e===2&&(i=jh(t),i!==0&&(r=i,e=pp(t,i))),e===1)throw n=el,uo(t,0),Si(t,r),Bn(t,dt()),n;if(e===6)Si(t,r);else{if(i=t.current.alternate,!(r&30)&&!vT(i)&&(e=nc(t,r),e===2&&(o=jh(t),o!==0&&(r=o,e=pp(t,o))),e===1))throw n=el,uo(t,0),Si(t,r),Bn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Zi(t,bn,Wr);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=q0+500-dt(),10<e)){if(Du(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gh(Zi.bind(null,t,bn,Wr),e);break}Zi(t,bn,Wr);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-mr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wT(r/1960))-r,10<r){t.timeoutHandle=Gh(Zi.bind(null,t,bn,Wr),r);break}Zi(t,bn,Wr);break;case 5:Zi(t,bn,Wr);break;default:throw Error(ne(329))}}}return Bn(t,dt()),t.callbackNode===n?hx.bind(null,t):null}function pp(t,e){var n=Ta;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=nc(t,e),t!==2&&(e=bn,bn=n,e!==null&&mp(e)),t}function mp(t){bn===null?bn=t:bn.push.apply(bn,t)}function vT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~W0,e&=~$c,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function Dy(t){if(Ie&6)throw Error(ne(327));ys();var e=Du(t,0);if(!(e&1))return Bn(t,dt()),null;var n=nc(t,e);if(t.tag!==0&&n===2){var r=jh(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=el,uo(t,0),Si(t,e),Bn(t,dt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,bn,Wr),Bn(t,dt()),null}function K0(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Rs=dt()+500,Fc&&Wi())}}function xo(t){ki!==null&&ki.tag===0&&!(Ie&6)&&ys();var e=Ie;Ie|=1;var n=rr.transition,r=Fe;try{if(rr.transition=null,Fe=1,t)return t()}finally{Fe=r,rr.transition=n,Ie=e,!(Ie&6)&&Wi()}}function G0(){On=is.current,We(is)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZA(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(C0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:Ts(),We(Cn),We(hn),F0();break;case 5:O0(r);break;case 4:Ts();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:I0(r.type._context);break;case 22:case 23:G0()}n=n.return}if(zt=t,Ot=t=Ni(t.current,null),Yt=On=e,Dt=0,el=null,W0=$c=_o=0,bn=Ta=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}no=null}return t}function px(t,e){do{var n=Ot;try{if(M0(),vu.current=Qu,Xu){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xu=!1}if(vo=0,Vt=Ft=Je=null,ka=!1,Xa=0,H0.current=null,n===null||n.return===null){Dt=1,el=e,Ot=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ky(s);if(p!==null){p.flags&=-257,Ay(p,s,a,o,e),p.mode&1&&Ey(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){Ey(o,c,e),Z0();break e}l=Error(ne(426))}}else if(Ge&&a.mode&1){var b=ky(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ay(b,s,a,o,e),R0(Cs(l,a));break e}}o=l=Cs(l,a),Dt!==4&&(Dt=2),Ta===null?Ta=[o]:Ta.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=X_(o,l,e);wy(o,_);break e;case 1:a=l;var E=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Pi===null||!Pi.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=Q_(o,a,e);wy(o,M);break e}}o=o.return}while(o!==null)}yx(n)}catch(O){e=O,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function mx(){var t=Ju.current;return Ju.current=Qu,t===null?Qu:t}function Z0(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),zt===null||!(_o&268435455)&&!($c&268435455)||Si(zt,Yt)}function nc(t,e){var n=Ie;Ie|=2;var r=mx();(zt!==t||Yt!==e)&&(Wr=null,uo(t,e));do try{_T();break}catch(i){px(t,i)}while(!0);if(M0(),Ie=n,Ju.current=r,Ot!==null)throw Error(ne(261));return zt=null,Yt=0,Dt}function _T(){for(;Ot!==null;)gx(Ot)}function xT(){for(;Ot!==null&&!qk();)gx(Ot)}function gx(t){var e=vx(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?yx(t):Ot=e,H0.current=null}function yx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pT(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Ot=null;return}}else if(n=hT(n,e,On),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Dt===0&&(Dt=5)}function Zi(t,e,n){var r=Fe,i=rr.transition;try{rr.transition=null,Fe=1,bT(t,e,n,r)}finally{rr.transition=i,Fe=r}return null}function bT(t,e,n,r){do ys();while(ki!==null);if(Ie&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(nA(t,o),t===zt&&(Ot=zt=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xl||(Xl=!0,_x(Fu,function(){return ys(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var s=Fe;Fe=1;var a=Ie;Ie|=4,H0.current=null,gT(t,n),fx(n,t),VA(qh),Uu=!!Wh,qh=Wh=null,t.current=n,yT(n),Kk(),Ie=a,Fe=s,rr.transition=o}else t.current=n;if(Xl&&(Xl=!1,ki=t,tc=i),o=t.pendingLanes,o===0&&(Pi=null),Yk(n.stateNode),Bn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ec)throw ec=!1,t=dp,dp=null,t;return tc&1&&t.tag!==0&&ys(),o=t.pendingLanes,o&1?t===hp?Ca++:(Ca=0,hp=t):Ca=0,Wi(),null}function ys(){if(ki!==null){var t=Xv(tc),e=rr.transition,n=Fe;try{if(rr.transition=null,Fe=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,tc=0,Ie&6)throw Error(ne(331));var i=Ie;for(Ie|=4,le=t.current;le!==null;){var o=le,s=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(le=c;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Aa(8,d,o)}var u=d.child;if(u!==null)u.return=d,le=u;else for(;le!==null;){d=le;var f=d.sibling,p=d.return;if(lx(d),d===c){le=null;break}if(f!==null){f.return=p,le=f;break}le=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,le=s;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Aa(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,le=_;break e}le=o.return}}var E=t.current;for(le=E;le!==null;){s=le;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,le=S;else e:for(s=E;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jc(9,a)}}catch(O){ut(a,a.return,O)}if(a===s){le=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,le=M;break e}le=a.return}}if(Ie=i,Wi(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Ic,t)}catch{}r=!0}return r}finally{Fe=n,rr.transition=e}}return!1}function Uy(t,e,n){e=Cs(n,e),e=X_(t,e,1),t=Ii(t,e,1),e=wn(),t!==null&&(fl(t,1,e),Bn(t,e))}function ut(t,e,n){if(t.tag===3)Uy(t,t,n);else for(;e!==null;){if(e.tag===3){Uy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=Cs(n,t),t=Q_(e,t,1),e=Ii(e,t,1),t=wn(),e!==null&&(fl(e,1,t),Bn(e,t));break}}e=e.return}}function ST(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Yt&n)===n&&(Dt===4||Dt===3&&(Yt&130023424)===Yt&&500>dt()-q0?uo(t,0):W0|=n),Bn(t,e)}function wx(t,e){e===0&&(t.mode&1?(e=$l,$l<<=1,!($l&130023424)&&($l=4194304)):e=1);var n=wn();t=si(t,e),t!==null&&(fl(t,e,n),Bn(t,n))}function ET(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wx(t,n)}function kT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),wx(t,n)}var vx;vx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,dT(t,e,n);kn=!!(t.flags&131072)}else kn=!1,Ge&&e.flags&1048576&&S_(e,qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xu(t,e),t=e.pendingProps;var i=Es(e,hn.current);gs(e,n),i=U0(null,e,r,t,i,n);var o=j0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(o=!0,Hu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,L0(e),i.updater=Uc,e.stateNode=i,i._reactInternals=e,tp(e,r,t,n),e=ip(null,e,r,!0,o,n)):(e.tag=0,Ge&&o&&T0(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TT(r),t=cr(r,t),i){case 0:e=rp(null,e,r,t,n);break e;case 1:e=Ry(null,e,r,t,n);break e;case 11:e=Ty(null,e,r,t,n);break e;case 14:e=Cy(null,e,r,cr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),rp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Ry(t,e,r,i,n);case 3:e:{if(nx(e),t===null)throw Error(ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,R_(t,e),Zu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Cs(Error(ne(423)),e),e=By(t,e,r,n,i);break e}else if(r!==i){i=Cs(Error(ne(424)),e),e=By(t,e,r,n,i);break e}else for(Dn=Mi(e.stateNode.containerInfo.firstChild),Un=e,Ge=!0,dr=null,n=T_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),r===i){e=ai(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return B_(e),t===null&&Qh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Kh(r,i)?s=null:o!==null&&Kh(r,o)&&(e.flags|=32),tx(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&Qh(e),null;case 13:return rx(t,e,n);case 4:return N0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Ty(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,je(Ku,r._currentValue),r._currentValue=s,o!==null)if(wr(o.value,s)){if(o.children===i.children&&!Cn.current){e=ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ti(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Jh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Jh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gs(e,n),i=or(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=cr(r,e.pendingProps),i=cr(r.type,i),Cy(t,e,r,i,n);case 15:return J_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),xu(t,e),e.tag=1,Rn(r)?(t=!0,Hu(e)):t=!1,gs(e,n),Y_(e,r,i),tp(e,r,i,n),ip(null,e,r,!0,t,n);case 19:return ix(t,e,n);case 22:return ex(t,e,n)}throw Error(ne(156,e.tag))};function _x(t,e){return Kv(t,e)}function AT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new AT(t,e,n,r)}function Y0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TT(t){if(typeof t=="function")return Y0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===m0)return 11;if(t===g0)return 14}return 2}function Ni(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Y0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Go:return co(n.children,i,o,e);case p0:s=8,i|=8;break;case kh:return t=nr(12,n,e,i|2),t.elementType=kh,t.lanes=o,t;case Ah:return t=nr(13,n,e,i),t.elementType=Ah,t.lanes=o,t;case Th:return t=nr(19,n,e,i),t.elementType=Th,t.lanes=o,t;case Bv:return Vc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cv:s=10;break e;case Rv:s=9;break e;case m0:s=11;break e;case g0:s=14;break e;case vi:s=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=nr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function co(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function Vc(t,e,n,r){return t=nr(22,t,r,e),t.elementType=Bv,t.lanes=n,t.stateNode={isHidden:!1},t}function Cd(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function Rd(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function X0(t,e,n,r,i,o,s,a,l){return t=new CT(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},L0(o),t}function RT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xx(t){if(!t)return Ui;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Rn(n))return x_(t,n,e)}return e}function bx(t,e,n,r,i,o,s,a,l){return t=X0(n,r,!0,t,i,o,s,a,l),t.context=xx(null),n=t.current,r=wn(),i=Li(n),o=ti(r,i),o.callback=e??null,Ii(n,o,i),t.current.lanes=i,fl(t,i,r),Bn(t,r),t}function zc(t,e,n,r){var i=e.current,o=wn(),s=Li(i);return n=xx(n),e.context===null?e.context=n:e.pendingContext=n,e=ti(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,s),t!==null&&(gr(t,i,s,o),wu(t,i,s)),s}function rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Q0(t,e){jy(t,e),(t=t.alternate)&&jy(t,e)}function BT(){return null}var Sx=typeof reportError=="function"?reportError:function(t){console.error(t)};function J0(t){this._internalRoot=t}Hc.prototype.render=J0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));zc(t,e,null,null)};Hc.prototype.unmount=J0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){zc(null,t,null,null)}),e[oi]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var e=e_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&n_(t)}};function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $y(){}function MT(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=rc(s);o.call(c)}}var s=bx(e,r,t,0,null,!1,!1,"",$y);return t._reactRootContainer=s,t[oi]=s.current,qa(t.nodeType===8?t.parentNode:t),xo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=rc(l);a.call(c)}}var l=X0(t,0,!1,null,null,!1,!1,"",$y);return t._reactRootContainer=l,t[oi]=l.current,qa(t.nodeType===8?t.parentNode:t),xo(function(){zc(e,l,n,r)}),l}function qc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=rc(s);a.call(l)}}zc(e,s,t,i)}else s=MT(n,e,t,i,r);return rc(s)}Qv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pa(e.pendingLanes);n!==0&&(v0(e,n|1),Bn(e,dt()),!(Ie&6)&&(Rs=dt()+500,Wi()))}break;case 13:xo(function(){var r=si(t,1);if(r!==null){var i=wn();gr(r,t,1,i)}}),Q0(t,1)}};_0=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=wn();gr(e,t,134217728,n)}Q0(t,134217728)}};Jv=function(t){if(t.tag===13){var e=Li(t),n=si(t,e);if(n!==null){var r=wn();gr(n,t,e,r)}Q0(t,e)}};e_=function(){return Fe};t_=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Fh=function(t,e,n){switch(e){case"input":if(Bh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Oc(r);if(!i)throw Error(ne(90));Iv(r),Bh(r,i)}}}break;case"textarea":Lv(t,n);break;case"select":e=n.value,e!=null&&ds(t,!!n.multiple,e,!1)}};$v=K0;Vv=xo;var IT={usingClientEntryPoint:!1,Events:[hl,Qo,Oc,Uv,jv,K0]},sa={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PT={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wv(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||BT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Ic=Ql.inject(PT),Pr=Ql}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IT;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(e))throw Error(ne(200));return RT(t,e,null,n)};Vn.createRoot=function(t,e){if(!em(t))throw Error(ne(299));var n=!1,r="",i=Sx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=X0(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,qa(t.nodeType===8?t.parentNode:t),new J0(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=Wv(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return xo(t)};Vn.hydrate=function(t,e,n){if(!Wc(e))throw Error(ne(200));return qc(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!em(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Sx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=bx(e,null,t,1,n??null,i,!1,o,s),t[oi]=e.current,qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hc(e)};Vn.render=function(t,e,n){if(!Wc(e))throw Error(ne(200));return qc(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(ne(40));return t._reactRootContainer?(xo(function(){qc(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Vn.unstable_batchedUpdates=K0;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wc(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return qc(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function Ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ex)}catch(t){console.error(t)}}Ex(),Ev.exports=Vn;var LT=Ev.exports,Vy=LT;Sh.createRoot=Vy.createRoot,Sh.hydrateRoot=Vy.hydrateRoot;const Ra={dark:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#22d3ee",background:"#0a0a0f",surface:"#1a1a2e",text:"#ffffff",textMuted:"#9ca3af",gradient:"from-indigo-600/20 via-purple-600/10 to-transparent",glow:"rgba(99, 102, 241, 0.4)"},surf:{primary:"#0891b2",secondary:"#06b6d4",accent:"#64ffda",background:"#0c1929",surface:"#162d50",text:"#ffffff",textMuted:"#94a3b8",gradient:"from-cyan-600/20 via-teal-600/10 to-transparent",glow:"rgba(100, 255, 218, 0.4)"},cyber:{primary:"#f43f5e",secondary:"#ec4899",accent:"#fbbf24",background:"#0f0515",surface:"#1f0a2e",text:"#ffffff",textMuted:"#a78bfa",gradient:"from-rose-600/20 via-pink-600/10 to-transparent",glow:"rgba(244, 63, 94, 0.4)"},gamble:{primary:"#16a34a",secondary:"#22c55e",accent:"#fbbf24",background:"#0a1a0f",surface:"#1a2f1f",text:"#ffffff",textMuted:"#86efac",gradient:"from-green-600/20 via-emerald-600/10 to-transparent",glow:"rgba(34, 197, 94, 0.4)"}},kx=G.createContext(void 0),NT=({children:t})=>{const[e,n]=G.useState(()=>{const i=localStorage.getItem("surfsol_theme");return i&&Ra[i]?i:"surf"}),r=i=>{n(i),localStorage.setItem("surfsol_theme",i)};return G.useEffect(()=>{const i=document.documentElement,o=Ra[e];i.style.setProperty("--color-primary",o.primary),i.style.setProperty("--color-secondary",o.secondary),i.style.setProperty("--color-accent",o.accent),i.style.setProperty("--color-background",o.background),i.style.setProperty("--color-surface",o.surface),i.style.setProperty("--color-text",o.text),i.style.setProperty("--color-text-muted",o.textMuted),i.style.setProperty("--color-glow",o.glow),document.body.style.backgroundColor=o.background},[e]),D.jsx(kx.Provider,{value:{theme:e,colors:Ra[e],setTheme:r},children:t})},Ax=()=>{const t=G.useContext(kx);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t};var OT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ut=(t,e)=>{const n=G.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>G.createElement("svg",{ref:c,...OT,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${FT(t)}`,...l},[...e.map(([d,u])=>G.createElement(d,u)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},DT=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),UT=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),jT=Ut("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),zy=Ut("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),$T=Ut("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),VT=Ut("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),zT=Ut("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),gp=Ut("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),HT=Ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),WT=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Hy=Ut("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),qT=Ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),KT=Ut("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),GT=Ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Wy=Ut("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),ZT=Ut("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),YT=Ut("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),XT=Ut("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),yp=Ut("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Tx=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Kc=G.createContext({}),Gc=G.createContext(null),Zc=typeof document<"u",tm=Zc?G.useLayoutEffect:G.useEffect,Cx=G.createContext({strict:!1}),nm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),QT="framerAppearId",Rx="data-"+nm(QT);function JT(t,e,n,r){const{visualElement:i}=G.useContext(Kc),o=G.useContext(Cx),s=G.useContext(Gc),a=G.useContext(Tx).reducedMotion,l=G.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;G.useInsertionEffect(()=>{c&&c.update(n,s)});const d=G.useRef(!!(n[Rx]&&!window.HandoffComplete));return tm(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),G.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function os(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function e3(t,e,n){return G.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):os(n)&&(n.current=r))},[e])}function tl(t){return typeof t=="string"||Array.isArray(t)}function Yc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const rm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],im=["initial",...rm];function Xc(t){return Yc(t.animate)||im.some(e=>tl(t[e]))}function Bx(t){return!!(Xc(t)||t.variants)}function t3(t,e){if(Xc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tl(n)?n:void 0,animate:tl(r)?r:void 0}}return t.inherit!==!1?e:{}}function n3(t){const{initial:e,animate:n}=t3(t,G.useContext(Kc));return G.useMemo(()=>({initial:e,animate:n}),[qy(e),qy(n)])}function qy(t){return Array.isArray(t)?t.join(" "):t}const Ky={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nl={};for(const t in Ky)nl[t]={isEnabled:e=>Ky[t].some(n=>!!e[n])};function r3(t){for(const e in t)nl[e]={...nl[e],...t[e]}}const om=G.createContext({}),Mx=G.createContext({}),i3=Symbol.for("motionComponentSymbol");function o3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&r3(t);function o(a,l){let c;const d={...G.useContext(Tx),...a,layoutId:s3(a)},{isStatic:u}=d,f=n3(a),p=r(a,u);if(!u&&Zc){f.visualElement=JT(i,p,d,e);const m=G.useContext(Mx),v=G.useContext(Cx).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,v,t,m))}return G.createElement(Kc.Provider,{value:f},c&&f.visualElement?G.createElement(c,{visualElement:f.visualElement,...d}):null,n(i,a,e3(p,f.visualElement,l),p,u,f.visualElement))}const s=G.forwardRef(o);return s[i3]=i,s}function s3({layoutId:t}){const e=G.useContext(om).id;return e&&t!==void 0?e+"-"+t:t}function a3(t){function e(r,i={}){return o3(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const l3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sm(t){return typeof t!="string"||t.includes("-")?!1:!!(l3.indexOf(t)>-1||/[A-Z]/.test(t))}const ic={};function u3(t){Object.assign(ic,t)}const ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ro=new Set(ml);function Ix(t,{layout:e,layoutId:n}){return Ro.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ic[t]||t==="opacity")}const Pn=t=>!!(t&&t.getVelocity),c3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f3=ml.length;function d3(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<f3;s++){const a=ml[s];if(t[a]!==void 0){const l=c3[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const Px=t=>e=>typeof e=="string"&&e.startsWith(t),Lx=Px("--"),wp=Px("var(--"),h3=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,p3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ji=(t,e,n)=>Math.min(Math.max(n,t),e),Bo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ba={...Bo,transform:t=>ji(0,1,t)},Jl={...Bo,default:1},Ma=t=>Math.round(t*1e5)/1e5,Qc=/(-)?([\d]*\.?[\d])+/g,Nx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,m3=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gl(t){return typeof t=="string"}const yl=t=>({test:e=>gl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wi=yl("deg"),Nr=yl("%"),ye=yl("px"),g3=yl("vh"),y3=yl("vw"),Gy={...Nr,parse:t=>Nr.parse(t)/100,transform:t=>Nr.transform(t*100)},Zy={...Bo,transform:Math.round},Ox={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,size:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,rotate:wi,rotateX:wi,rotateY:wi,rotateZ:wi,scale:Jl,scaleX:Jl,scaleY:Jl,scaleZ:Jl,skew:wi,skewX:wi,skewY:wi,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Ba,originX:Gy,originY:Gy,originZ:ye,zIndex:Zy,fillOpacity:Ba,strokeOpacity:Ba,numOctaves:Zy};function am(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const u in e){const f=e[u];if(Lx(u)){o[u]=f;continue}const p=Ox[u],m=p3(f,p);if(Ro.has(u)){if(l=!0,s[u]=m,!d)continue;f!==(p.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,a[u]=m):i[u]=m}if(e.transform||(l||r?i.transform=d3(t.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${u} ${f} ${p}`}}const lm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fx(t,e,n){for(const r in e)!Pn(e[r])&&!Ix(r,n)&&(t[r]=e[r])}function w3({transformTemplate:t},e,n){return G.useMemo(()=>{const r=lm();return am(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function v3(t,e,n){const r=t.style||{},i={};return Fx(i,r,t),Object.assign(i,w3(t,e,n)),t.transformValues?t.transformValues(i):i}function _3(t,e,n){const r={},i=v3(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const x3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x3.has(t)}let Dx=t=>!oc(t);function b3(t){t&&(Dx=e=>e.startsWith("on")?!oc(e):t(e))}try{b3(require("@emotion/is-prop-valid").default)}catch{}function S3(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Dx(i)||n===!0&&oc(i)||!e&&!oc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Yy(t,e,n){return typeof t=="string"?t:ye.transform(e+n*t)}function E3(t,e,n){const r=Yy(e,t.x,t.width),i=Yy(n,t.y,t.height);return`${r} ${i}`}const k3={offset:"stroke-dashoffset",array:"stroke-dasharray"},A3={offset:"strokeDashoffset",array:"strokeDasharray"};function T3(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?k3:A3;t[o.offset]=ye.transform(-r);const s=ye.transform(e),a=ye.transform(n);t[o.array]=`${s} ${a}`}function um(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,u,f){if(am(t,c,d,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=E3(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&T3(p,s,a,l,!1)}const Ux=()=>({...lm(),attrs:{}}),cm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function C3(t,e,n,r){const i=G.useMemo(()=>{const o=Ux();return um(o,e,{enableHardwareAcceleration:!1},cm(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Fx(o,t.style,t),i.style={...o,...i.style}}return i}function R3(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(sm(n)?C3:_3)(r,o,s,n),d={...S3(r,typeof n=="string",t),...l,ref:i},{children:u}=r,f=G.useMemo(()=>Pn(u)?u.get():u,[u]);return G.createElement(n,{...d,children:f})}}function jx(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const $x=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vx(t,e,n,r){jx(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($x.has(i)?i:nm(i),e.attrs[i])}function fm(t,e){const{style:n}=t,r={};for(const i in n)(Pn(n[i])||e.style&&Pn(e.style[i])||Ix(i,t))&&(r[i]=n[i]);return r}function zx(t,e){const n=fm(t,e);for(const r in t)if(Pn(t[r])||Pn(e[r])){const i=ml.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function dm(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Hx(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const sc=t=>Array.isArray(t),B3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),M3=t=>sc(t)?t[t.length-1]||0:t;function ku(t){const e=Pn(t)?t.get():t;return B3(e)?e.toValue():e}function I3({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:P3(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const Wx=t=>(e,n)=>{const r=G.useContext(Kc),i=G.useContext(Gc),o=()=>I3(t,e,r,i);return n?o():Hx(o)};function P3(t,e,n,r){const i={},o=r(t,{});for(const f in o)i[f]=ku(o[f]);let{initial:s,animate:a}=t;const l=Xc(t),c=Bx(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const u=d?a:s;return u&&typeof u!="boolean"&&!Yc(u)&&(Array.isArray(u)?u:[u]).forEach(p=>{const m=dm(t,p);if(!m)return;const{transitionEnd:v,transition:b,..._}=m;for(const E in _){let S=_[E];if(Array.isArray(S)){const M=d?S.length-1:0;S=S[M]}S!==null&&(i[E]=S)}for(const E in v)i[E]=v[E]}),i}const ht=t=>t;class Xy{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function L3(t){let e=new Xy,n=new Xy,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&i,f=u?e:n;return c&&s.add(l),f.add(l)&&u&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),s.has(d)&&(a.schedule(d),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const eu=["prepare","read","update","preRender","render","postRender"],N3=40;function O3(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=eu.reduce((u,f)=>(u[f]=L3(()=>n=!0),u),{}),s=u=>o[u].process(i),a=()=>{const u=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(u-i.timestamp,N3),1),i.timestamp=u,i.isProcessing=!0,eu.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:eu.reduce((u,f)=>{const p=o[f];return u[f]=(m,v=!1,b=!1)=>(n||l(),p.schedule(m,v,b)),u},{}),cancel:u=>eu.forEach(f=>o[f].cancel(u)),state:i,steps:o}}const{schedule:$e,cancel:li,state:un,steps:Bd}=O3(typeof requestAnimationFrame<"u"?requestAnimationFrame:ht,!0),F3={useVisualState:Wx({scrapeMotionValuesFromProps:zx,createRenderState:Ux,onMount:(t,e,{renderState:n,latestValues:r})=>{$e.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),$e.render(()=>{um(n,r,{enableHardwareAcceleration:!1},cm(e.tagName),t.transformTemplate),Vx(e,n)})}})},D3={useVisualState:Wx({scrapeMotionValuesFromProps:fm,createRenderState:lm})};function U3(t,{forwardMotionProps:e=!1},n,r){return{...sm(t)?F3:D3,preloadedFeatures:n,useRender:R3(e),createVisualElement:r,Component:t}}function Jr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const qx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Jc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const j3=t=>e=>qx(e)&&t(e,Jc(e));function ni(t,e,n,r){return Jr(t,e,j3(n),r)}const $3=(t,e)=>n=>e(t(n)),Oi=(...t)=>t.reduce($3);function Kx(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Qy=Kx("dragHorizontal"),Jy=Kx("dragVertical");function Gx(t){let e=!1;if(t==="y")e=Jy();else if(t==="x")e=Qy();else{const n=Qy(),r=Jy();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Zx(){const t=Gx(!0);return t?(t(),!1):!0}class qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function e1(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||Zx())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&$e.update(()=>a[r](o,s))};return ni(t.current,n,i,{passive:!t.getProps()[r]})}class V3 extends qi{mount(){this.unmount=Oi(e1(this.node,!0),e1(this.node,!1))}unmount(){}}class z3 extends qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oi(Jr(this.node.current,"focus",()=>this.onFocus()),Jr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Yx=(t,e)=>e?t===e?!0:Yx(t,e.parentElement):!1;function Md(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Jc(n))}class H3 extends qi{constructor(){super(...arguments),this.removeStartListeners=ht,this.removeEndListeners=ht,this.removeAccessibleListeners=ht,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=ni(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps();$e.update(()=>{!u&&!Yx(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=ni(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Oi(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Md("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&$e.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Jr(this.node.current,"keyup",s),Md("down",(a,l)=>{this.startPress(a,l)})},n=Jr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Md("cancel",(o,s)=>this.cancelPress(o,s))},i=Jr(this.node.current,"blur",r);this.removeAccessibleListeners=Oi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&$e.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Zx()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&$e.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ni(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Jr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Oi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const vp=new WeakMap,Id=new WeakMap,W3=t=>{const e=vp.get(t.target);e&&e(t)},q3=t=>{t.forEach(W3)};function K3({root:t,...e}){const n=t||document;Id.has(n)||Id.set(n,{});const r=Id.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(q3,{root:t,...e})),r[i]}function G3(t,e,n){const r=K3(e);return vp.set(t,n),r.observe(t),()=>{vp.delete(t),r.unobserve(t)}}const Z3={some:0,all:1};class Y3 extends qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Z3[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),f=c?d:u;f&&f(l)};return G3(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X3(e,n))&&this.startObserver()}unmount(){}}function X3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Q3={inView:{Feature:Y3},tap:{Feature:H3},focus:{Feature:z3},hover:{Feature:V3}};function Xx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function J3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function eC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function ef(t,e,n){const r=t.getProps();return dm(r,e,n!==void 0?n:r.custom,J3(t),eC(t))}let hm=ht;const fo=t=>t*1e3,ri=t=>t/1e3,tC={current:!1},Qx=t=>Array.isArray(t)&&typeof t[0]=="number";function Jx(t){return!!(!t||typeof t=="string"&&eb[t]||Qx(t)||Array.isArray(t)&&t.every(Jx))}const ga=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function tb(t){if(t)return Qx(t)?ga(t):Array.isArray(t)?t.map(tb):eb[t]}function nC(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=tb(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function rC(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const nb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iC=1e-7,oC=12;function sC(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=nb(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>iC&&++a<oC);return s}function wl(t,e,n,r){if(t===e&&n===r)return ht;const i=o=>sC(o,0,1,t,n);return o=>o===0||o===1?o:nb(i(o),e,r)}const aC=wl(.42,0,1,1),lC=wl(0,0,.58,1),rb=wl(.42,0,.58,1),uC=t=>Array.isArray(t)&&typeof t[0]!="number",ib=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ob=t=>e=>1-t(1-e),pm=t=>1-Math.sin(Math.acos(t)),sb=ob(pm),cC=ib(pm),ab=wl(.33,1.53,.69,.99),mm=ob(ab),fC=ib(mm),dC=t=>(t*=2)<1?.5*mm(t):.5*(2-Math.pow(2,-10*(t-1))),hC={linear:ht,easeIn:aC,easeInOut:rb,easeOut:lC,circIn:pm,circInOut:cC,circOut:sb,backIn:mm,backInOut:fC,backOut:ab,anticipate:dC},t1=t=>{if(Array.isArray(t)){hm(t.length===4);const[e,n,r,i]=t;return wl(e,n,r,i)}else if(typeof t=="string")return hC[t];return t},gm=(t,e)=>n=>!!(gl(n)&&m3.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),lb=(t,e,n)=>r=>{if(!gl(r))return r;const[i,o,s,a]=r.match(Qc);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},pC=t=>ji(0,255,t),Pd={...Bo,transform:t=>Math.round(pC(t))},io={test:gm("rgb","red"),parse:lb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pd.transform(t)+", "+Pd.transform(e)+", "+Pd.transform(n)+", "+Ma(Ba.transform(r))+")"};function mC(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _p={test:gm("#"),parse:mC,transform:io.transform},ss={test:gm("hsl","hue"),parse:lb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Nr.transform(Ma(e))+", "+Nr.transform(Ma(n))+", "+Ma(Ba.transform(r))+")"},pn={test:t=>io.test(t)||_p.test(t)||ss.test(t),parse:t=>io.test(t)?io.parse(t):ss.test(t)?ss.parse(t):_p.parse(t),transform:t=>gl(t)?t:t.hasOwnProperty("red")?io.transform(t):ss.transform(t)},Qe=(t,e,n)=>-n*t+n*e+t;function Ld(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gC({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Ld(l,a,t+1/3),o=Ld(l,a,t),s=Ld(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const Nd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},yC=[_p,io,ss],wC=t=>yC.find(e=>e.test(t));function n1(t){const e=wC(t);let n=e.parse(t);return e===ss&&(n=gC(n)),n}const ub=(t,e)=>{const n=n1(t),r=n1(e),i={...n};return o=>(i.red=Nd(n.red,r.red,o),i.green=Nd(n.green,r.green,o),i.blue=Nd(n.blue,r.blue,o),i.alpha=Qe(n.alpha,r.alpha,o),io.transform(i))};function vC(t){var e,n;return isNaN(t)&&gl(t)&&(((e=t.match(Qc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Nx))===null||n===void 0?void 0:n.length)||0)>0}const cb={regex:h3,countKey:"Vars",token:"${v}",parse:ht},fb={regex:Nx,countKey:"Colors",token:"${c}",parse:pn.parse},db={regex:Qc,countKey:"Numbers",token:"${n}",parse:Bo.parse};function Od(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function ac(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Od(n,cb),Od(n,fb),Od(n,db),n}function hb(t){return ac(t).values}function pb(t){const{values:e,numColors:n,numVars:r,tokenised:i}=ac(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(cb.token,s[l]):l<r+n?a=a.replace(fb.token,pn.transform(s[l])):a=a.replace(db.token,Ma(s[l]));return a}}const _C=t=>typeof t=="number"?0:t;function xC(t){const e=hb(t);return pb(t)(e.map(_C))}const $i={test:vC,parse:hb,createTransformer:pb,getAnimatableNone:xC},mb=(t,e)=>n=>`${n>0?e:t}`;function gb(t,e){return typeof t=="number"?n=>Qe(t,e,n):pn.test(t)?ub(t,e):t.startsWith("var(")?mb(t,e):wb(t,e)}const yb=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>gb(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},bC=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=gb(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},wb=(t,e)=>{const n=$i.createTransformer(e),r=ac(t),i=ac(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Oi(yb(r.values,i.values),n):mb(t,e)},rl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},r1=(t,e)=>n=>Qe(t,e,n);function SC(t){return typeof t=="number"?r1:typeof t=="string"?pn.test(t)?ub:wb:Array.isArray(t)?yb:typeof t=="object"?bC:r1}function EC(t,e,n){const r=[],i=n||SC(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||ht:e;a=Oi(l,a)}r.push(a)}return r}function vb(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(hm(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=EC(e,r,i),a=s.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const u=rl(t[d],t[d+1],c);return s[d](u)};return n?c=>l(ji(t[0],t[o-1],c)):l}function kC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=rl(0,e,r);t.push(Qe(n,1,i))}}function AC(t){const e=[0];return kC(e,t.length-1),e}function TC(t,e){return t.map(n=>n*e)}function CC(t,e){return t.map(()=>e||rb).splice(0,t.length-1)}function lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=uC(r)?r.map(t1):t1(r),o={done:!1,value:e[0]},s=TC(n&&n.length===e.length?n:AC(e),t),a=vb(s,e,{ease:Array.isArray(i)?i:CC(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function _b(t,e){return e?t*(1e3/e):0}const RC=5;function xb(t,e,n){const r=Math.max(e-RC,0);return _b(n-t(r),e-r)}const Fd=.001,BC=.01,MC=10,IC=.05,PC=1;function LC({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=ji(IC,PC,s),t=ji(BC,MC,ri(t)),s<1?(i=c=>{const d=c*s,u=d*t,f=d-n,p=xp(c,s),m=Math.exp(-u);return Fd-f/p*m},o=c=>{const u=c*s*t,f=u*n+n,p=Math.pow(s,2)*Math.pow(c,2)*t,m=Math.exp(-u),v=xp(Math.pow(c,2),s);return(-i(c)+Fd>0?-1:1)*((f-p)*m)/v}):(i=c=>{const d=Math.exp(-c*t),u=(c-n)*t+1;return-Fd+d*u},o=c=>{const d=Math.exp(-c*t),u=(n-c)*(t*t);return d*u});const a=5/t,l=OC(i,o,a);if(t=fo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const NC=12;function OC(t,e,n){let r=n;for(let i=1;i<NC;i++)r=r-t(r)/e(r);return r}function xp(t,e){return t*Math.sqrt(1-e*e)}const FC=["duration","bounce"],DC=["stiffness","damping","mass"];function i1(t,e){return e.some(n=>t[n]!==void 0)}function UC(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!i1(t,DC)&&i1(t,FC)){const n=LC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function bb({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:u,isResolvedFromDuration:f}=UC({...r,velocity:-ri(r.velocity||0)}),p=u||0,m=l/(2*Math.sqrt(a*c)),v=o-i,b=ri(Math.sqrt(a/c)),_=Math.abs(v)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let E;if(m<1){const S=xp(b,m);E=M=>{const O=Math.exp(-m*b*M);return o-O*((p+m*b*v)/S*Math.sin(S*M)+v*Math.cos(S*M))}}else if(m===1)E=S=>o-Math.exp(-b*S)*(v+(p+b*v)*S);else{const S=b*Math.sqrt(m*m-1);E=M=>{const O=Math.exp(-m*b*M),$=Math.min(S*M,300);return o-O*((p+m*b*v)*Math.sinh($)+S*v*Math.cosh($))/S}}return{calculatedDuration:f&&d||null,next:S=>{const M=E(S);if(f)s.done=S>=d;else{let O=p;S!==0&&(m<1?O=xb(E,S,M):O=0);const $=Math.abs(O)<=n,U=Math.abs(o-M)<=e;s.done=$&&U}return s.value=s.done?o:M,s}}}function o1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=t[0],f={done:!1,value:u},p=V=>a!==void 0&&V<a||l!==void 0&&V>l,m=V=>a===void 0?l:l===void 0||Math.abs(a-V)<Math.abs(l-V)?a:l;let v=n*e;const b=u+v,_=s===void 0?b:s(b);_!==b&&(v=_-u);const E=V=>-v*Math.exp(-V/r),S=V=>_+E(V),M=V=>{const F=E(V),Z=S(V);f.done=Math.abs(F)<=c,f.value=f.done?_:Z};let O,$;const U=V=>{p(f.value)&&(O=V,$=bb({keyframes:[f.value,m(f.value)],velocity:xb(S,V,f.value),damping:i,stiffness:o,restDelta:c,restSpeed:d}))};return U(0),{calculatedDuration:null,next:V=>{let F=!1;return!$&&O===void 0&&(F=!0,M(V),U(V)),O!==void 0&&V>O?$.next(V-O):(!F&&M(V),f)}}}const jC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>$e.update(e,!0),stop:()=>li(e),now:()=>un.isProcessing?un.timestamp:performance.now()}},s1=2e4;function a1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<s1;)e+=n,r=t.next(e);return e>=s1?1/0:e}const $C={decay:o1,inertia:o1,tween:lc,keyframes:lc,spring:bb};function uc({autoplay:t=!0,delay:e=0,driver:n=jC,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:u,...f}){let p=1,m=!1,v,b;const _=()=>{b=new Promise(A=>{v=A})};_();let E;const S=$C[i]||lc;let M;S!==lc&&typeof r[0]!="number"&&(M=vb([0,100],r,{clamp:!1}),r=[0,100]);const O=S({...f,keyframes:r});let $;a==="mirror"&&($=S({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let U="idle",V=null,F=null,Z=null;O.calculatedDuration===null&&o&&(O.calculatedDuration=a1(O));const{calculatedDuration:Y}=O;let X=1/0,C=1/0;Y!==null&&(X=Y+s,C=X*(o+1)-s);let h=0;const y=A=>{if(F===null)return;p>0&&(F=Math.min(F,A)),p<0&&(F=Math.min(A-C/p,F)),V!==null?h=V:h=Math.round(A-F)*p;const g=h-e*(p>=0?1:-1),L=p>=0?g<0:g>C;h=Math.max(g,0),U==="finished"&&V===null&&(h=C);let J=h,te=O;if(o){const fe=Math.min(h,C)/X;let Ae=Math.floor(fe),Te=fe%1;!Te&&fe>=1&&(Te=1),Te===1&&Ae--,Ae=Math.min(Ae,o+1),!!(Ae%2)&&(a==="reverse"?(Te=1-Te,s&&(Te-=s/X)):a==="mirror"&&(te=$)),J=ji(0,1,Te)*X}const re=L?{done:!1,value:r[0]}:te.next(J);M&&(re.value=M(re.value));let{done:he}=re;!L&&Y!==null&&(he=p>=0?h>=C:h<=0);const pe=V===null&&(U==="finished"||U==="running"&&he);return u&&u(re.value),pe&&T(),re},k=()=>{E&&E.stop(),E=void 0},B=()=>{U="idle",k(),v(),_(),F=Z=null},T=()=>{U="finished",d&&d(),k(),v()},I=()=>{if(m)return;E||(E=n(y));const A=E.now();l&&l(),V!==null?F=A-V:(!F||U==="finished")&&(F=A),U==="finished"&&_(),Z=F,V=null,U="running",E.start()};t&&I();const N={then(A,g){return b.then(A,g)},get time(){return ri(h)},set time(A){A=fo(A),h=A,V!==null||!E||p===0?V=A:F=E.now()-A/p},get duration(){const A=O.calculatedDuration===null?a1(O):O.calculatedDuration;return ri(A)},get speed(){return p},set speed(A){A===p||!E||(p=A,N.time=ri(h))},get state(){return U},play:I,pause:()=>{U="paused",V=h},stop:()=>{m=!0,U!=="idle"&&(U="idle",c&&c(),B())},cancel:()=>{Z!==null&&y(Z),B()},complete:()=>{U="finished"},sample:A=>(F=0,y(A))};return N}function VC(t){let e;return()=>(e===void 0&&(e=t()),e)}const zC=VC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),tu=10,WC=2e4,qC=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Jx(e.ease);function KC(t,e,{onUpdate:n,onComplete:r,...i}){if(!(zC()&&HC.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const d=()=>{l=new Promise(S=>{a=S})};d();let{keyframes:u,duration:f=300,ease:p,times:m}=i;if(qC(e,i)){const S=uc({...i,repeat:0,delay:0});let M={done:!1,value:u[0]};const O=[];let $=0;for(;!M.done&&$<WC;)M=S.sample($),O.push(M.value),$+=tu;m=void 0,u=O,f=$-tu,p="linear"}const v=nC(t.owner.current,e,u,{...i,duration:f,ease:p,times:m}),b=()=>{c=!1,v.cancel()},_=()=>{c=!0,$e.update(b),a(),d()};return v.onfinish=()=>{c||(t.set(rC(u,i)),r&&r(),_())},{then(S,M){return l.then(S,M)},attachTimeline(S){return v.timeline=S,v.onfinish=null,ht},get time(){return ri(v.currentTime||0)},set time(S){v.currentTime=fo(S)},get speed(){return v.playbackRate},set speed(S){v.playbackRate=S},get duration(){return ri(f)},play:()=>{s||(v.play(),li(b))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:S}=v;if(S){const M=uc({...i,autoplay:!1});t.setWithVelocity(M.sample(S-tu).value,M.sample(S).value,tu)}_()},complete:()=>{c||v.finish()},cancel:_}}function GC({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ht,pause:ht,stop:ht,then:o=>(o(),Promise.resolve()),cancel:ht,complete:ht});return e?uc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const ZC={type:"spring",stiffness:500,damping:25,restSpeed:10},YC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XC={type:"keyframes",duration:.8},QC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JC=(t,{keyframes:e})=>e.length>2?XC:Ro.has(t)?t.startsWith("scale")?YC(e[1]):ZC:QC,bp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($i.test(e)||e==="0")&&!e.startsWith("url(")),eR=new Set(["brightness","contrast","saturate","opacity"]);function tR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qc)||[];if(!r)return t;const i=n.replace(r,"");let o=eR.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const nR=/([a-z-]*)\(.*?\)/g,Sp={...$i,getAnimatableNone:t=>{const e=t.match(nR);return e?e.map(tR).join(" "):t}},rR={...Ox,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Sp,WebkitFilter:Sp},ym=t=>rR[t];function Sb(t,e){let n=ym(t);return n!==Sp&&(n=$i),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Eb=t=>/^0[^.\s]+$/.test(t);function iR(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Eb(t)}function oR(t,e,n,r){const i=bp(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),iR(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];o[d]=Sb(e,a)}return o}function sR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function wm(t,e){return t[e]||t.default||t}const aR={skipAnimations:!1},vm=(t,e,n,r={})=>i=>{const o=wm(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-fo(s);const l=oR(e,t,n,o),c=l[0],d=l[l.length-1],u=bp(t,c),f=bp(t,d);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(sR(o)||(p={...p,...JC(t,p)}),p.duration&&(p.duration=fo(p.duration)),p.repeatDelay&&(p.repeatDelay=fo(p.repeatDelay)),!u||!f||tC.current||o.type===!1||aR.skipAnimations)return GC(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=KC(e,t,p);if(m)return m}return uc(p)};function cc(t){return!!(Pn(t)&&t.add)}const kb=t=>/^\-?\d*\.?\d+$/.test(t);function _m(t,e){t.indexOf(e)===-1&&t.push(e)}function xm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bm{constructor(){this.subscriptions=[]}add(e){return _m(this.subscriptions,e),()=>xm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lR=t=>!isNaN(parseFloat(t));class uR{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=un;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,$e.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>$e.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=lR(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new bm);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_b(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bs(t,e){return new uR(t,e)}const Ab=t=>e=>e.test(t),cR={test:t=>t==="auto",parse:t=>t},Tb=[Bo,ye,Nr,wi,y3,g3,cR],aa=t=>Tb.find(Ab(t)),fR=[...Tb,pn,$i],dR=t=>fR.find(Ab(t));function hR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bs(n))}function pR(t,e){const n=ef(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=M3(o[s]);hR(t,s,a)}}function mR(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(kb(d)||Eb(d))?d=parseFloat(d):!dR(d)&&$i.test(c)&&(d=Sb(l,c)),t.addValue(l,Bs(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function gR(t,e){return e?(e[t]||e.default||e).from:void 0}function yR(t,e,n){const r={};for(const i in t){const o=gR(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function wR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vR(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Cb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const f=t.getValue(u),p=a[u];if(!f||p===void 0||d&&wR(d,u))continue;const m={delay:n,elapsed:0,...wm(o||{},u)};if(window.HandoffAppearAnimations){const _=t.getProps()[Rx];if(_){const E=window.HandoffAppearAnimations(_,u,f,$e);E!==null&&(m.elapsed=E,m.isHandoff=!0)}}let v=!m.isHandoff&&!vR(f,p);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(vm(u,f,p,t.shouldReduceMotion&&Ro.has(u)?{type:!1}:m));const b=f.animation;cc(l)&&(l.add(u),b.then(()=>l.remove(u))),c.push(b)}return s&&Promise.all(c).then(()=>{s&&pR(t,s)}),c}function Ep(t,e,n={}){const r=ef(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Cb(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:u}=i;return _R(t,e,c+l,d,u,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function _R(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(xR).forEach((c,d)=>{c.notify("AnimationStart",e),s.push(Ep(c,e,{...o,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function xR(t,e){return t.sortNodePosition(e)}function bR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Ep(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Ep(t,e,n);else{const i=typeof e=="function"?ef(t,e,n.custom):e;r=Promise.all(Cb(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const SR=[...rm].reverse(),ER=rm.length;function kR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>bR(t,n,r)))}function AR(t){let e=kR(t);const n=CR();let r=!0;const i=(l,c)=>{const d=ef(t,c);if(d){const{transition:u,transitionEnd:f,...p}=d;l={...l,...p,...f}}return l};function o(l){e=l(t)}function s(l,c){const d=t.getProps(),u=t.getVariantContext(!0)||{},f=[],p=new Set;let m={},v=1/0;for(let _=0;_<ER;_++){const E=SR[_],S=n[E],M=d[E]!==void 0?d[E]:u[E],O=tl(M),$=E===c?S.isActive:null;$===!1&&(v=_);let U=M===u[E]&&M!==d[E]&&O;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),S.protectedKeys={...m},!S.isActive&&$===null||!M&&!S.prevProp||Yc(M)||typeof M=="boolean")continue;let F=TR(S.prevProp,M)||E===c&&S.isActive&&!U&&O||_>v&&O,Z=!1;const Y=Array.isArray(M)?M:[M];let X=Y.reduce(i,{});$===!1&&(X={});const{prevResolvedValues:C={}}=S,h={...C,...X},y=k=>{F=!0,p.has(k)&&(Z=!0,p.delete(k)),S.needsAnimating[k]=!0};for(const k in h){const B=X[k],T=C[k];if(m.hasOwnProperty(k))continue;let I=!1;sc(B)&&sc(T)?I=!Xx(B,T):I=B!==T,I?B!==void 0?y(k):p.add(k):B!==void 0&&p.has(k)?y(k):S.protectedKeys[k]=!0}S.prevProp=M,S.prevResolvedValues=X,S.isActive&&(m={...m,...X}),r&&t.blockInitialAnimation&&(F=!1),F&&(!U||Z)&&f.push(...Y.map(k=>({animation:k,options:{type:E,...l}})))}if(p.size){const _={};p.forEach(E=>{const S=t.getBaseTarget(E);S!==void 0&&(_[E]=S)}),f.push({animation:_})}let b=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(f):Promise.resolve()}function a(l,c,d){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=s(d,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function TR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xx(e,t):!1}function Ki(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CR(){return{animate:Ki(!0),whileInView:Ki(),whileHover:Ki(),whileTap:Ki(),whileDrag:Ki(),whileFocus:Ki(),exit:Ki()}}class RR extends qi{constructor(e){super(e),e.animationState||(e.animationState=AR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Yc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let BR=0;class MR extends qi{constructor(){super(...arguments),this.id=BR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const IR={animation:{Feature:RR},exit:{Feature:MR}},l1=(t,e)=>Math.abs(t-e);function PR(t,e){const n=l1(t.x,e.x),r=l1(t.y,e.y);return Math.sqrt(n**2+r**2)}class Rb{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ud(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=PR(u.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=u,{timestamp:v}=un;this.history.push({...m,timestamp:v});const{onStart:b,onMove:_}=this.handlers;f||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Dd(f,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ud(u.type==="pointercancel"?this.lastMoveEventInfo:Dd(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(u,b),m&&m(u,b)},!qx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Jc(e),a=Dd(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=un;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Ud(a,this.history)),this.removeListeners=Oi(ni(this.contextWindow,"pointermove",this.handlePointerMove),ni(this.contextWindow,"pointerup",this.handlePointerUp),ni(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),li(this.updatePoint)}}function Dd(t,e){return e?{point:e(t.point)}:t}function u1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ud({point:t},e){return{point:t,delta:u1(t,Bb(e)),offset:u1(t,LR(e)),velocity:NR(e,.1)}}function LR(t){return t[0]}function Bb(t){return t[t.length-1]}function NR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Bb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>fo(e)));)n--;if(!r)return{x:0,y:0};const o=ri(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function $n(t){return t.max-t.min}function kp(t,e=0,n=.01){return Math.abs(t-e)<=n}function c1(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=$n(n)/$n(e),(kp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(kp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ia(t,e,n,r){c1(t.x,e.x,n.x,r?r.originX:void 0),c1(t.y,e.y,n.y,r?r.originY:void 0)}function f1(t,e,n){t.min=n.min+e.min,t.max=t.min+$n(e)}function OR(t,e,n){f1(t.x,e.x,n.x),f1(t.y,e.y,n.y)}function d1(t,e,n){t.min=e.min-n.min,t.max=t.min+$n(e)}function Pa(t,e,n){d1(t.x,e.x,n.x),d1(t.y,e.y,n.y)}function FR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function h1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DR(t,{top:e,left:n,bottom:r,right:i}){return{x:h1(t.x,n,i),y:h1(t.y,e,r)}}function p1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UR(t,e){return{x:p1(t.x,e.x),y:p1(t.y,e.y)}}function jR(t,e){let n=.5;const r=$n(t),i=$n(e);return i>r?n=rl(e.min,e.max-r,t.min):r>i&&(n=rl(t.min,t.max-i,e.min)),ji(0,1,n)}function $R(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ap=.35;function VR(t=Ap){return t===!1?t=0:t===!0&&(t=Ap),{x:m1(t,"left","right"),y:m1(t,"top","bottom")}}function m1(t,e,n){return{min:g1(t,e),max:g1(t,n)}}function g1(t,e){return typeof t=="number"?t:t[e]||0}const y1=()=>({translate:0,scale:1,origin:0,originPoint:0}),as=()=>({x:y1(),y:y1()}),w1=()=>({min:0,max:0}),Pt=()=>({x:w1(),y:w1()});function Gn(t){return[t("x"),t("y")]}function Mb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function zR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function HR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jd(t){return t===void 0||t===1}function Tp({scale:t,scaleX:e,scaleY:n}){return!jd(t)||!jd(e)||!jd(n)}function Yi(t){return Tp(t)||Ib(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Ib(t){return v1(t.x)||v1(t.y)}function v1(t){return t&&t!=="0%"}function fc(t,e,n){const r=t-n,i=e*r;return n+i}function _1(t,e,n,r,i){return i!==void 0&&(t=fc(t,i,r)),fc(t,n,r)+e}function Cp(t,e=0,n=1,r,i){t.min=_1(t.min,e,n,r,i),t.max=_1(t.max,e,n,r,i)}function Pb(t,{x:e,y:n}){Cp(t.x,e.translate,e.scale,e.originPoint),Cp(t.y,n.translate,n.scale,n.originPoint)}function WR(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ls(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Pb(t,s)),r&&Yi(o.latestValues)&&ls(t,o.latestValues))}e.x=x1(e.x),e.y=x1(e.y)}function x1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function xi(t,e){t.min=t.min+e,t.max=t.max+e}function b1(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=Qe(t.min,t.max,o);Cp(t,e[n],e[r],s,e.scale)}const qR=["x","scaleX","originX"],KR=["y","scaleY","originY"];function ls(t,e){b1(t.x,e,qR),b1(t.y,e,KR)}function Lb(t,e){return Mb(HR(t.getBoundingClientRect(),e))}function GR(t,e,n){const r=Lb(t,n),{scroll:i}=e;return i&&(xi(r.x,i.offset.x),xi(r.y,i.offset.y)),r}const Nb=({current:t})=>t?t.ownerDocument.defaultView:null,ZR=new WeakMap;class YR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jc(d,"page").point)},o=(d,u)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gx(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(b=>{let _=this.getAxisMotionValue(b).get()||0;if(Nr.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const S=E.layout.layoutBox[b];S&&(_=$n(S)*(parseFloat(_)/100))}}this.originPoint[b]=_}),m&&$e.update(()=>m(d,u),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(d,u)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=u;if(p&&this.currentDirection===null){this.currentDirection=XR(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),v&&v(d,u)},a=(d,u)=>this.stop(d,u),l=()=>Gn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Rb(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Nb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&$e.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nu(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=FR(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&os(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=DR(i.layoutBox,n):this.constraints=!1,this.elastic=VR(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=$R(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!os(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=GR(r,i.root,this.visualElement.getTransformPagePoint());let s=UR(i.layout.layoutBox,o);if(n){const a=n(zR(s));this.hasMutatedConstraints=!!a,a&&(s=Mb(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Gn(d=>{if(!nu(d,n,this.currentDirection))return;let u=l&&l[d]||{};s&&(u={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...u};return this.startAxisValueAnimation(d,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(vm(e,r,0,n))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:r}=this.getProps();if(!nu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-Qe(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!os(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gn(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=jR({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(s=>{if(!nu(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Qe(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;ZR.set(this.visualElement,this);const e=this.visualElement.current,n=ni(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();os(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Jr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Gn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ap,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function nu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QR extends qi{constructor(e){super(e),this.removeGroupControls=ht,this.removeListeners=ht,this.controls=new YR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const S1=t=>(e,n)=>{t&&$e.update(()=>t(e,n))};class JR extends qi{constructor(){super(...arguments),this.removePointerDownListener=ht}onPointerDown(e){this.session=new Rb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:S1(e),onStart:S1(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&$e.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=ni(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function eB(){const t=G.useContext(Gc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=G.useId();return G.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Au={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const la={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=E1(t,e.target.x),r=E1(t,e.target.y);return`${n}% ${r}%`}},tB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$i.parse(t);if(i.length>5)return r;const o=$i.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=Qe(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class nB extends Nn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;u3(rB),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Au.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||$e.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ob(t){const[e,n]=eB(),r=G.useContext(om);return Nn.createElement(nB,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(Mx),isPresent:e,safeToRemove:n})}const rB={borderRadius:{...la,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:la,borderTopRightRadius:la,borderBottomLeftRadius:la,borderBottomRightRadius:la,boxShadow:tB},Fb=["TopLeft","TopRight","BottomLeft","BottomRight"],iB=Fb.length,k1=t=>typeof t=="string"?parseFloat(t):t,A1=t=>typeof t=="number"||ye.test(t);function oB(t,e,n,r,i,o){i?(t.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,sB(r)),t.opacityExit=Qe(e.opacity!==void 0?e.opacity:1,0,aB(r))):o&&(t.opacity=Qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<iB;s++){const a=`border${Fb[s]}Radius`;let l=T1(e,a),c=T1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||A1(l)===A1(c)?(t[a]=Math.max(Qe(k1(l),k1(c),r),0),(Nr.test(c)||Nr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function T1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sB=Db(0,.5,sb),aB=Db(.5,.95,ht);function Db(t,e,n){return r=>r<t?0:r>e?1:n(rl(t,e,r))}function C1(t,e){t.min=e.min,t.max=e.max}function Wn(t,e){C1(t.x,e.x),C1(t.y,e.y)}function R1(t,e,n,r,i){return t-=e,t=fc(t,1/n,r),i!==void 0&&(t=fc(t,1/i,r)),t}function lB(t,e=0,n=1,r=.5,i,o=t,s=t){if(Nr.test(e)&&(e=parseFloat(e),e=Qe(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Qe(o.min,o.max,r);t===o&&(a-=e),t.min=R1(t.min,e,n,a,i),t.max=R1(t.max,e,n,a,i)}function B1(t,e,[n,r,i],o,s){lB(t,e[n],e[r],e[i],e.scale,o,s)}const uB=["x","scaleX","originX"],cB=["y","scaleY","originY"];function M1(t,e,n,r){B1(t.x,e,uB,n?n.x:void 0,r?r.x:void 0),B1(t.y,e,cB,n?n.y:void 0,r?r.y:void 0)}function I1(t){return t.translate===0&&t.scale===1}function Ub(t){return I1(t.x)&&I1(t.y)}function fB(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function jb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function P1(t){return $n(t.x)/$n(t.y)}class dB{constructor(){this.members=[]}add(e){_m(this.members,e),e.scheduleRender()}remove(e){if(xm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L1(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const hB=(t,e)=>t.depth-e.depth;class pB{constructor(){this.children=[],this.isDirty=!1}add(e){_m(this.children,e),this.isDirty=!0}remove(e){xm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hB),this.isDirty=!1,this.children.forEach(e)}}function mB(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(li(r),t(o-e))};return $e.read(r,!0),()=>li(r)}function gB(t){window.MotionDebug&&window.MotionDebug.record(t)}function yB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function wB(t,e,n){const r=Pn(t)?t:Bs(t);return r.start(vm("",r,e,n)),r.animation}const N1=["","X","Y","Z"],vB={visibility:"hidden"},O1=1e3;let _B=0;const Xi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $b({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=_B++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xi.totalNodes=Xi.resolvedTargetDeltas=Xi.recalculatedProjection=0,this.nodes.forEach(SB),this.nodes.forEach(CB),this.nodes.forEach(RB),this.nodes.forEach(EB),gB(Xi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pB)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new bm),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yB(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=mB(f,250),Au.hasAnimatedSinceResize&&(Au.hasAnimatedSinceResize=!1,this.nodes.forEach(D1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||LB,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=d.getProps(),E=!this.targetLayout||!jb(this.targetLayout,m)||p,S=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,S);const M={...wm(v,"layout"),onPlay:b,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else f||D1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BB),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F1);return}this.isUpdating||this.nodes.forEach(AB),this.isUpdating=!1,this.nodes.forEach(TB),this.nodes.forEach(xB),this.nodes.forEach(bB),this.clearAllSnapshots();const a=performance.now();un.delta=ji(0,1e3/60,a-un.timestamp),un.timestamp=a,un.isProcessing=!0,Bd.update.process(un),Bd.preRender.process(un),Bd.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kB),this.sharedNodes.forEach(MB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ub(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(a||Yi(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),NB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Pt();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(xi(a.x,l.offset.x),xi(a.y,l.offset.y)),a}removeElementScroll(s){const a=Pt();Wn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:u}=c;if(c!==this.root&&d&&u.layoutScroll){if(d.isRoot){Wn(a,s);const{scroll:f}=this.root;f&&(xi(a.x,-f.offset.x),xi(a.y,-f.offset.y))}xi(a.x,d.offset.x),xi(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=Pt();Wn(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ls(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Yi(d.latestValues)&&ls(l,d.latestValues)}return Yi(this.latestValues)&&ls(l,this.latestValues),l}removeTransform(s){const a=Pt();Wn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Yi(c.latestValues))continue;Tp(c.latestValues)&&c.updateSnapshot();const d=Pt(),u=c.measurePageBox();Wn(d,u),M1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Yi(this.latestValues)&&M1(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Pa(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),Pb(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Pa(this.relativeTargetOrigin,this.target,p.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tp(this.parent.latestValues)||Ib(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===un.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Wn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;WR(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=as(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=as(),this.projectionDeltaWithTransform=as());const v=this.projectionTransform;Ia(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=L1(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Xi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=as();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Pt(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,b=this.getStack(),_=!b||b.members.length<=1,E=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(PB));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const O=M/1e3;U1(u.x,s.x,O),U1(u.y,s.y,O),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pa(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IB(this.relativeTarget,this.relativeTargetOrigin,f,O),S&&fB(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Pt()),Wn(S,this.relativeTarget)),v&&(this.animationValues=d,oB(d,c,this.latestValues,O,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{Au.hasAnimatedSinceResize=!0,this.currentAnimation=wB(0,O1,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Vb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Pt();const u=$n(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;const f=$n(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}Wn(a,l),ls(a,d),Ia(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new dB),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<N1.length;d++){const u="rotate"+N1[d];l[u]&&(c[u]=l[u],s.setStaticValue(u,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vB;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ku(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ku(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=L1(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in ic){if(f[v]===void 0)continue;const{correct:b,applyTo:_}=ic[v],E=c.transform==="none"?f[v]:b(f[v],u);if(_){const S=_.length;for(let M=0;M<S;M++)c[_[M]]=E}else c[v]=E}return this.options.layoutId&&(c.pointerEvents=u===this?ku(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(F1),this.root.sharedNodes.clear()}}}function xB(t){t.updateLayout()}function bB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Gn(u=>{const f=s?n.measuredBox[u]:n.layoutBox[u],p=$n(f);f.min=r[u].min,f.max=f.min+p}):Vb(o,n.layoutBox,r)&&Gn(u=>{const f=s?n.measuredBox[u]:n.layoutBox[u],p=$n(r[u]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+p)});const a=as();Ia(a,r,n.layoutBox);const l=as();s?Ia(l,t.applyTransform(i,!0),n.measuredBox):Ia(l,r,n.layoutBox);const c=!Ub(a);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:p}=u;if(f&&p){const m=Pt();Pa(m,n.layoutBox,f.layoutBox);const v=Pt();Pa(v,r,p.layoutBox),jb(m,v)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=m,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function SB(t){Xi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function EB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kB(t){t.clearSnapshot()}function F1(t){t.clearMeasurements()}function AB(t){t.isLayoutDirty=!1}function TB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function D1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CB(t){t.resolveTargetDelta()}function RB(t){t.calcProjection()}function BB(t){t.resetRotation()}function MB(t){t.removeLeadSnapshot()}function U1(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function j1(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function IB(t,e,n,r){j1(t.x,e.x,n.x,r),j1(t.y,e.y,n.y,r)}function PB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LB={duration:.45,ease:[.4,0,.1,1]},$1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),V1=$1("applewebkit/")&&!$1("chrome/")?Math.round:ht;function z1(t){t.min=V1(t.min),t.max=V1(t.max)}function NB(t){z1(t.x),z1(t.y)}function Vb(t,e,n){return t==="position"||t==="preserve-aspect"&&!kp(P1(e),P1(n),.2)}const OB=$b({attachResizeListener:(t,e)=>Jr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$d={current:void 0},zb=$b({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$d.current){const t=new OB({});t.mount(window),t.setOptions({layoutScroll:!0}),$d.current=t}return $d.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FB={pan:{Feature:JR},drag:{Feature:QR,ProjectionNode:zb,MeasureLayout:Ob}},DB=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function UB(t){const e=DB.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Rp(t,e,n=1){const[r,i]=UB(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return kb(s)?parseFloat(s):s}else return wp(i)?Rp(i,e,n+1):i}function jB(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!wp(o))return;const s=Rp(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!wp(o))continue;const s=Rp(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const $B=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Hb=t=>$B.has(t),VB=t=>Object.keys(t).some(Hb),H1=t=>t===Bo||t===ye,W1=(t,e)=>parseFloat(t.split(", ")[e]),q1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return W1(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?W1(o[1],t):0}},zB=new Set(["x","y","z"]),HB=ml.filter(t=>!zB.has(t));function WB(t){const e=[];return HB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ms={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:q1(4,13),y:q1(5,14)};Ms.translateX=Ms.x;Ms.translateY=Ms.y;const qB=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ms[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Ms[c](l,o)}),t},KB=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Hb);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],u=aa(d);const f=e[l];let p;if(sc(f)){const m=f.length,v=f[0]===null?1:0;d=f[v],u=aa(d);for(let b=v;b<m&&f[b]!==null;b++)p?hm(aa(f[b])===p):p=aa(f[b])}else p=aa(f);if(u!==p)if(H1(u)&&H1(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===ye&&(e[l]=f.map(parseFloat))}else u!=null&&u.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?c.set(p.transform(d)):e[l]=u.transform(f):(s||(o=WB(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=qB(e,t,a);return o.length&&o.forEach(([d,u])=>{t.getValue(d).set(u)}),t.render(),Zc&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function GB(t,e,n,r){return VB(e)?KB(t,e,n,r):{target:e,transitionEnd:r}}const ZB=(t,e,n,r)=>{const i=jB(t,e,r);return e=i.target,r=i.transitionEnd,GB(t,e,n,r)},Bp={current:null},Wb={current:!1};function YB(){if(Wb.current=!0,!!Zc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bp.current=t.matches;t.addListener(e),e()}else Bp.current=!1}function XB(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Pn(o))t.addValue(i,o),cc(r)&&r.add(i);else if(Pn(s))t.addValue(i,Bs(o,{owner:t})),cc(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,Bs(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const K1=new WeakMap,qb=Object.keys(nl),QB=qb.length,G1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],JB=im.length;class eM{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$e.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Xc(n),this.isVariantNode=Bx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const u in d){const f=d[u];a[u]!==void 0&&Pn(f)&&(f.set(a[u],!1),cc(c)&&c.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,K1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wb.current||YB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K1.delete(this.current),this.projection&&this.projection.unmount(),li(this.notifyUpdate),li(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ro.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&$e.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<QB;l++){const c=qb[l],{isEnabled:d,Feature:u,ProjectionNode:f,MeasureLayout:p}=nl[c];f&&(s=f),d(n)&&(!this.features[c]&&u&&(this.features[c]=new u(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:u,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||u&&os(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<G1.length;r++){const i=G1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=XB(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<JB;r++){const i=im[r],o=this.props[i];(tl(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bs(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=dm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Pn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new bm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Kb extends eM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=yR(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){mR(this,r,s);const a=ZB(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function tM(t){return window.getComputedStyle(t)}class nM extends Kb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ro.has(n)){const r=ym(n);return r&&r.default||0}else{const r=tM(e),i=(Lx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Lb(e,n)}build(e,n,r,i){am(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return fm(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){jx(e,n,r,i)}}class rM extends Kb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ro.has(n)){const r=ym(n);return r&&r.default||0}return n=$x.has(n)?n:nm(n),e.getAttribute(n)}measureInstanceViewportBox(){return Pt()}scrapeMotionValuesFromProps(e,n){return zx(e,n)}build(e,n,r,i){um(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Vx(e,n,r,i)}mount(e){this.isSVGTag=cm(e.tagName),super.mount(e)}}const iM=(t,e)=>sm(t)?new rM(e,{enableHardwareAcceleration:!1}):new nM(e,{enableHardwareAcceleration:!0}),oM={layout:{ProjectionNode:zb,MeasureLayout:Ob}},sM={...IR,...Q3,...FB,...oM},Me=a3((t,e)=>U3(t,e,sM,iM));function Gb(){const t=G.useRef(!1);return tm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function aM(){const t=Gb(),[e,n]=G.useState(0),r=G.useCallback(()=>{t.current&&n(e+1)},[e]);return[G.useCallback(()=>$e.postRender(r),[r]),e]}class lM extends G.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uM({children:t,isPresent:e}){const n=G.useId(),r=G.useRef(null),i=G.useRef({width:0,height:0,top:0,left:0});return G.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),G.createElement(lM,{isPresent:e,childRef:r,sizeRef:i},G.cloneElement(t,{ref:r}))}const Vd=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=Hx(cM),l=G.useId(),c=G.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const u of a.values())if(!u)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),o?void 0:[n]);return G.useMemo(()=>{a.forEach((d,u)=>a.set(u,!1))},[n]),G.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=G.createElement(uM,{isPresent:n},t)),G.createElement(Gc.Provider,{value:c},t)};function cM(){return new Map}function fM(t){return G.useEffect(()=>()=>t(),[])}const Qi=t=>t.key||"";function dM(t,e){t.forEach(n=>{const r=Qi(n);e.set(r,n)})}function hM(t){const e=[];return G.Children.forEach(t,n=>{G.isValidElement(n)&&e.push(n)}),e}const La=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=G.useContext(om).forceRender||aM()[0],l=Gb(),c=hM(t);let d=c;const u=G.useRef(new Map).current,f=G.useRef(d),p=G.useRef(new Map).current,m=G.useRef(!0);if(tm(()=>{m.current=!1,dM(c,p),f.current=d}),fM(()=>{m.current=!0,p.clear(),u.clear()}),m.current)return G.createElement(G.Fragment,null,d.map(E=>G.createElement(Vd,{key:Qi(E),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},E)));d=[...d];const v=f.current.map(Qi),b=c.map(Qi),_=v.length;for(let E=0;E<_;E++){const S=v[E];b.indexOf(S)===-1&&!u.has(S)&&u.set(S,void 0)}return s==="wait"&&u.size&&(d=[]),u.forEach((E,S)=>{if(b.indexOf(S)!==-1)return;const M=p.get(S);if(!M)return;const O=v.indexOf(S);let $=E;if(!$){const U=()=>{u.delete(S);const V=Array.from(p.keys()).filter(F=>!b.includes(F));if(V.forEach(F=>p.delete(F)),f.current=c.filter(F=>{const Z=Qi(F);return Z===S||V.includes(Z)}),!u.size){if(l.current===!1)return;a(),r&&r()}};$=G.createElement(Vd,{key:Qi(M),isPresent:!1,onExitComplete:U,custom:e,presenceAffectsLayout:o,mode:s},M),u.set(S,$)}d.splice(O,0,$)}),d=d.map(E=>{const S=E.key;return u.has(S)?E:G.createElement(Vd,{key:Qi(E),isPresent:!0,presenceAffectsLayout:o,mode:s},E)}),G.createElement(G.Fragment,null,u.size?d:d.map(E=>G.cloneElement(E)))};var pM=Object.defineProperty,dc=Object.getOwnPropertySymbols,Zb=Object.prototype.hasOwnProperty,Yb=Object.prototype.propertyIsEnumerable,Z1=(t,e,n)=>e in t?pM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y1=(t,e)=>{for(var n in e||(e={}))Zb.call(e,n)&&Z1(t,n,e[n]);if(dc)for(var n of dc(e))Yb.call(e,n)&&Z1(t,n,e[n]);return t},mM=(t,e)=>{var n={};for(var r in t)Zb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&dc)for(var r of dc(t))e.indexOf(r)<0&&Yb.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var bo;(t=>{const e=class{constructor(l,c,d,u){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),u==-1){let m=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const b=this.getPenaltyScore();b<m&&(u=v,m=b),this.applyMask(v)}}o(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}static encodeText(l,c){const d=t.QrSegment.makeSegments(l);return e.encodeSegments(d,c)}static encodeBinary(l,c){const d=t.QrSegment.makeBytes(l);return e.encodeSegments([d],c)}static encodeSegments(l,c,d=1,u=40,f=-1,p=!0){if(!(e.MIN_VERSION<=d&&d<=u&&u<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,v;for(m=d;;m++){const S=e.getNumDataCodewords(m,c)*8,M=a.getTotalBits(l,m);if(M<=S){v=M;break}if(m>=u)throw new RangeError("Data too long")}for(const S of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])p&&v<=e.getNumDataCodewords(m,S)*8&&(c=S);let b=[];for(const S of l){r(S.mode.modeBits,4,b),r(S.numChars,S.mode.numCharCountBits(m),b);for(const M of S.getData())b.push(M)}o(b.length==v);const _=e.getNumDataCodewords(m,c)*8;o(b.length<=_),r(0,Math.min(4,_-b.length),b),r(0,(8-b.length%8)%8,b),o(b.length%8==0);for(let S=236;b.length<_;S^=253)r(S,8,b);let E=[];for(;E.length*8<b.length;)E.push(0);return b.forEach((S,M)=>E[M>>>3]|=S<<7-(M&7)),new e(m,c,E,f)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let d=0;d<c;d++)for(let u=0;u<c;u++)d==0&&u==0||d==0&&u==c-1||d==c-1&&u==0||this.drawAlignmentPattern(l[d],l[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let d=c;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const u=(c<<10|d)^21522;o(u>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,i(u,f));this.setFunctionModule(8,7,i(u,6)),this.setFunctionModule(8,8,i(u,7)),this.setFunctionModule(7,8,i(u,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,i(u,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,i(u,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,i(u,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;o(c>>>18==0);for(let d=0;d<18;d++){const u=i(c,d),f=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(f,p,u),this.setFunctionModule(p,f,u)}}drawFinderPattern(l,c){for(let d=-4;d<=4;d++)for(let u=-4;u<=4;u++){const f=Math.max(Math.abs(u),Math.abs(d)),p=l+u,m=c+d;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,f!=2&&f!=4)}}drawAlignmentPattern(l,c){for(let d=-2;d<=2;d++)for(let u=-2;u<=2;u++)this.setFunctionModule(l+u,c+d,Math.max(Math.abs(u),Math.abs(d))!=1)}setFunctionModule(l,c,d){this.modules[c][l]=d,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,d=this.errorCorrectionLevel;if(l.length!=e.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const u=e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],f=e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],p=Math.floor(e.getNumRawDataModules(c)/8),m=u-p%u,v=Math.floor(p/u);let b=[];const _=e.reedSolomonComputeDivisor(f);for(let S=0,M=0;S<u;S++){let O=l.slice(M,M+v-f+(S<m?0:1));M+=O.length;const $=e.reedSolomonComputeRemainder(O,_);S<m&&O.push(0),b.push(O.concat($))}let E=[];for(let S=0;S<b[0].length;S++)b.forEach((M,O)=>{(S!=v-f||O>=m)&&E.push(M[S])});return o(E.length==p),E}drawCodewords(l){if(l.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let u=0;u<this.size;u++)for(let f=0;f<2;f++){const p=d-f,v=(d+1&2)==0?this.size-1-u:u;!this.isFunction[v][p]&&c<l.length*8&&(this.modules[v][p]=i(l[c>>>3],7-(c&7)),c++)}}o(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let u;switch(l){case 0:u=(d+c)%2==0;break;case 1:u=c%2==0;break;case 2:u=d%3==0;break;case 3:u=(d+c)%3==0;break;case 4:u=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:u=d*c%2+d*c%3==0;break;case 6:u=(d*c%2+d*c%3)%2==0;break;case 7:u=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&u&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let p=!1,m=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[f][b]==p?(m++,m==5?l+=e.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,v),p||(l+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),p=this.modules[f][b],m=1);l+=this.finderPenaltyTerminateAndCount(p,m,v)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,m=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][f]==p?(m++,m==5?l+=e.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,v),p||(l+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),p=this.modules[b][f],m=1);l+=this.finderPenaltyTerminateAndCount(p,m,v)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const m=this.modules[f][p];m==this.modules[f][p+1]&&m==this.modules[f+1][p]&&m==this.modules[f+1][p+1]&&(l+=e.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((p,m)=>p+(m?1:0),c);const d=this.size*this.size,u=Math.ceil(Math.abs(c*20-d*10)/d)-1;return o(0<=u&&u<=9),l+=u*e.PENALTY_N4,o(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let u=this.size-7;d.length<l;u-=c)d.splice(1,0,u);return d}}static getNumRawDataModules(l){if(l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;c-=(25*d-10)*d-55,l>=7&&(c-=36)}return o(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(e.getNumRawDataModules(l)/8)-e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let u=0;u<l-1;u++)c.push(0);c.push(1);let d=1;for(let u=0;u<l;u++){for(let f=0;f<c.length;f++)c[f]=e.reedSolomonMultiply(c[f],d),f+1<c.length&&(c[f]^=c[f+1]);d=e.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(l,c){let d=c.map(u=>0);for(const u of l){const f=u^d.shift();d.push(0),c.forEach((p,m)=>d[m]^=e.reedSolomonMultiply(p,f))}return d}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let u=7;u>=0;u--)d=d<<1^(d>>>7)*285,d^=(c>>>u&1)*l;return o(d>>>8==0),d}finderPenaltyCountPatterns(l){const c=l[1];o(c<=this.size*3);const d=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(d&&l[0]>=c*4&&l[6]>=c?1:0)+(d&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,d){return l&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function i(l,c){return(l>>>c&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const s=class{constructor(l,c,d){if(this.mode=l,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let c=[];for(const d of l)r(d,8,c);return new s(s.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!s.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<l.length;){const u=Math.min(l.length-d,3);r(parseInt(l.substr(d,u),10),u*3+1,c),d+=u}return new s(s.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!s.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=l.length;d+=2){let u=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;u+=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),r(u,11,c)}return d<l.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,c),new s(s.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:s.isNumeric(l)?[s.makeNumeric(l)]:s.isAlphanumeric(l)?[s.makeAlphanumeric(l)]:[s.makeBytes(s.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,c)}static isNumeric(l){return s.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return s.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let d=0;for(const u of l){const f=u.mode.numCharCountBits(c);if(u.numChars>=1<<f)return 1/0;d+=4+f+u.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?c.push(l.charCodeAt(d)):(c.push(parseInt(l.substr(d+1,2),16)),d+=2);return c}};let a=s;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(bo||(bo={}));(t=>{(e=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(bo||(bo={}));(t=>{(e=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(bo||(bo={}));var ya=bo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var gM={L:ya.QrCode.Ecc.LOW,M:ya.QrCode.Ecc.MEDIUM,Q:ya.QrCode.Ecc.QUARTILE,H:ya.QrCode.Ecc.HIGH},yM=128,wM="L",vM="#FFFFFF",_M="#000000",xM=!1,Xb=4,bM=.1;function SM(t,e=0){const n=[];return t.forEach(function(r,i){let o=null;r.forEach(function(s,a){if(!s&&o!==null){n.push(`M${o+e} ${i+e}h${a-o}v1H${o+e}z`),o=null;return}if(a===r.length-1){if(!s)return;o===null?n.push(`M${a+e},${i+e} h1v1H${a+e}z`):n.push(`M${o+e},${i+e} h${a+1-o}v1H${o+e}z`);return}s&&o===null&&(o=a)})}),n.join("")}function EM(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,o)=>o<e.x||o>=e.x+e.w?i:!1))}function kM(t,e,n,r){if(r==null)return null;const i=n?Xb:0,o=t.length+i*2,s=Math.floor(e*bM),a=o/e,l=(r.width||s)*a,c=(r.height||s)*a,d=r.x==null?t.length/2-l/2:r.x*a,u=r.y==null?t.length/2-c/2:r.y*a;let f=null;if(r.excavate){let p=Math.floor(d),m=Math.floor(u),v=Math.ceil(l+d-p),b=Math.ceil(c+u-m);f={x:p,y:m,w:v,h:b}}return{x:d,y:u,h:c,w:l,excavation:f}}var AM=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function TM(t){const e=t,{value:n,size:r=yM,level:i=wM,bgColor:o=vM,fgColor:s=_M,includeMargin:a=xM,style:l,imageSettings:c}=e,d=mM(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),u=c==null?void 0:c.src,f=Nn.useRef(null),p=Nn.useRef(null),[m,v]=Nn.useState(!1);Nn.useEffect(()=>{if(f.current!=null){const E=f.current,S=E.getContext("2d");if(!S)return;let M=ya.QrCode.encodeText(n,gM[i]).getModules();const O=a?Xb:0,$=M.length+O*2,U=kM(M,r,a,c),V=p.current,F=U!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;F&&U.excavation!=null&&(M=EM(M,U.excavation));const Z=window.devicePixelRatio||1;E.height=E.width=r*Z;const Y=r/$*Z;S.scale(Y,Y),S.fillStyle=o,S.fillRect(0,0,$,$),S.fillStyle=s,AM?S.fill(new Path2D(SM(M,O))):M.forEach(function(X,C){X.forEach(function(h,y){h&&S.fillRect(y+O,C+O,1,1)})}),F&&S.drawImage(V,U.x+O,U.y+O,U.w,U.h)}}),Nn.useEffect(()=>{v(!1)},[u]);const b=Y1({height:r,width:r},l);let _=null;return u!=null&&(_=Nn.createElement("img",{src:u,key:u,style:{display:"none"},onLoad:()=>{v(!0)},ref:p})),Nn.createElement(Nn.Fragment,null,Nn.createElement("canvas",Y1({style:b,height:r,width:r,ref:f},d)),_)}var Kr={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var u=this||n;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var f=this||n;if(u=parseFloat(u),f.ctx||d(),typeof u<"u"&&u>=0&&u<=1){if(f._volume=u,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(u,n.ctx.currentTime);for(var p=0;p<f._howls.length;p++)if(!f._howls[p]._webAudio)for(var m=f._howls[p]._getSoundIds(),v=0;v<m.length;v++){var b=f._howls[p]._soundById(m[v]);b&&b._node&&(b._node.volume=b._volume*u)}return f}return f._volume},mute:function(u){var f=this||n;f.ctx||d(),f._muted=u,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(u?0:f._volume,n.ctx.currentTime);for(var p=0;p<f._howls.length;p++)if(!f._howls[p]._webAudio)for(var m=f._howls[p]._getSoundIds(),v=0;v<m.length;v++){var b=f._howls[p]._soundById(m[v]);b&&b._node&&(b._node.muted=u?!0:b._muted)}return f},stop:function(){for(var u=this||n,f=0;f<u._howls.length;f++)u._howls[f].stop();return u},unload:function(){for(var u=this||n,f=u._howls.length-1;f>=0;f--)u._howls[f].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,d()),u},codecs:function(u){return(this||n)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||n;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var f=new Audio;f.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||n,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return u}if(!f||typeof f.canPlayType!="function")return u;var p=f.canPlayType("audio/mpeg;").replace(/^no$/,""),m=u._navigator?u._navigator.userAgent:"",v=m.match(/OPR\/(\d+)/g),b=v&&parseInt(v[0].split("/")[1],10)<33,_=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,E=m.match(/Version\/(.*?) /),S=_&&E&&parseInt(E[1],10)<15;return u._codecs={mp3:!!(!b&&(p||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||n;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var f=function(p){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,u._releaseHtml5Audio(m)}catch{u.noAudio=!0;break}for(var v=0;v<u._howls.length;v++)if(!u._howls[v]._webAudio)for(var b=u._howls[v]._getSoundIds(),_=0;_<b.length;_++){var E=u._howls[v]._soundById(b[_]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}u._autoResume();var S=u.ctx.createBufferSource();S.buffer=u._scratchBuffer,S.connect(u.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),S.onended=function(){S.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var M=0;M<u._howls.length;M++)u._howls[M]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),u}},_obtainHtml5Audio:function(){var u=this||n;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var f=this||n;return u._unlocked&&f._html5AudioPool.push(u),f},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!n.usingWebAudio)){for(var f=0;f<u._howls.length;f++)if(u._howls[f]._webAudio){for(var p=0;p<u._howls[f]._sounds.length;p++)if(!u._howls[f]._sounds[p]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var m=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(m,m)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!n.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var f=0;f<u._howls.length;f++)u._howls[f]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var n=new e,r=function(u){var f=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(u)};r.prototype={init:function(u){var f=this;return n.ctx||d(),f._autoplay=u.autoplay||!1,f._format=typeof u.format!="string"?u.format:[u.format],f._html5=u.html5||!1,f._muted=u.mute||!1,f._loop=u.loop||!1,f._pool=u.pool||5,f._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,f._rate=u.rate||1,f._sprite=u.sprite||{},f._src=typeof u.src!="string"?u.src:[u.src],f._volume=u.volume!==void 0?u.volume:1,f._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=u.onend?[{fn:u.onend}]:[],f._onfade=u.onfade?[{fn:u.onfade}]:[],f._onload=u.onload?[{fn:u.onload}]:[],f._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],f._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],f._onpause=u.onpause?[{fn:u.onpause}]:[],f._onplay=u.onplay?[{fn:u.onplay}]:[],f._onstop=u.onstop?[{fn:u.onstop}]:[],f._onmute=u.onmute?[{fn:u.onmute}]:[],f._onvolume=u.onvolume?[{fn:u.onvolume}]:[],f._onrate=u.onrate?[{fn:u.onrate}]:[],f._onseek=u.onseek?[{fn:u.onseek}]:[],f._onunlock=u.onunlock?[{fn:u.onunlock}]:[],f._onresume=[],f._webAudio=n.usingWebAudio&&!f._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var u=this,f=null;if(n.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var p=0;p<u._src.length;p++){var m,v;if(u._format&&u._format[p])m=u._format[p];else{if(v=u._src[p],typeof v!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(v),m||(m=/\.([^.]+)$/.exec(v.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&n.codecs(m)){f=u._src[p];break}}if(!f){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=f,u._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new i(u),u._webAudio&&s(u),u},play:function(u,f){var p=this,m=null;if(typeof u=="number")m=u,u=null;else{if(typeof u=="string"&&p._state==="loaded"&&!p._sprite[u])return null;if(typeof u>"u"&&(u="__default",!p._playLock)){for(var v=0,b=0;b<p._sounds.length;b++)p._sounds[b]._paused&&!p._sounds[b]._ended&&(v++,m=p._sounds[b]._id);v===1?u=null:m=null}}var _=m?p._soundById(m):p._inactiveSound();if(!_)return null;if(m&&!u&&(u=_._sprite||"__default"),p._state!=="loaded"){_._sprite=u,_._ended=!1;var E=_._id;return p._queue.push({event:"play",action:function(){p.play(E)}}),E}if(m&&!_._paused)return f||p._loadQueue("play"),_._id;p._webAudio&&n._autoResume();var S=Math.max(0,_._seek>0?_._seek:p._sprite[u][0]/1e3),M=Math.max(0,(p._sprite[u][0]+p._sprite[u][1])/1e3-S),O=M*1e3/Math.abs(_._rate),$=p._sprite[u][0]/1e3,U=(p._sprite[u][0]+p._sprite[u][1])/1e3;_._sprite=u,_._ended=!1;var V=function(){_._paused=!1,_._seek=S,_._start=$,_._stop=U,_._loop=!!(_._loop||p._sprite[u][2])};if(S>=U){p._ended(_);return}var F=_._node;if(p._webAudio){var Z=function(){p._playLock=!1,V(),p._refreshBuffer(_);var h=_._muted||p._muted?0:_._volume;F.gain.setValueAtTime(h,n.ctx.currentTime),_._playStart=n.ctx.currentTime,typeof F.bufferSource.start>"u"?_._loop?F.bufferSource.noteGrainOn(0,S,86400):F.bufferSource.noteGrainOn(0,S,M):_._loop?F.bufferSource.start(0,S,86400):F.bufferSource.start(0,S,M),O!==1/0&&(p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),O)),f||setTimeout(function(){p._emit("play",_._id),p._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?Z():(p._playLock=!0,p.once("resume",Z),p._clearTimer(_._id))}else{var Y=function(){F.currentTime=S,F.muted=_._muted||p._muted||n._muted||F.muted,F.volume=_._volume*n.volume(),F.playbackRate=_._rate;try{var h=F.play();if(h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")?(p._playLock=!0,V(),h.then(function(){p._playLock=!1,F._unlocked=!0,f?p._loadQueue():p._emit("play",_._id)}).catch(function(){p._playLock=!1,p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):f||(p._playLock=!1,V(),p._emit("play",_._id)),F.playbackRate=_._rate,F.paused){p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||_._loop?p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),O):(p._endTimers[_._id]=function(){p._ended(_),F.removeEventListener("ended",p._endTimers[_._id],!1)},F.addEventListener("ended",p._endTimers[_._id],!1))}catch(y){p._emit("playerror",_._id,y)}};F.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(F.src=p._src,F.load());var X=window&&window.ejecta||!F.readyState&&n._navigator.isCocoonJS;if(F.readyState>=3||X)Y();else{p._playLock=!0,p._state="loading";var C=function(){p._state="loaded",Y(),F.removeEventListener(n._canPlayEvent,C,!1)};F.addEventListener(n._canPlayEvent,C,!1),p._clearTimer(_._id)}}return _._id},pause:function(u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(u)}}),f;for(var p=f._getSoundIds(u),m=0;m<p.length;m++){f._clearTimer(p[m]);var v=f._soundById(p[m]);if(v&&!v._paused&&(v._seek=f.seek(p[m]),v._rateSeek=0,v._paused=!0,f._stopFade(p[m]),v._node))if(f._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),f._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||f._emit("pause",v?v._id:null)}return f},stop:function(u,f){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(u)}}),p;for(var m=p._getSoundIds(u),v=0;v<m.length;v++){p._clearTimer(m[v]);var b=p._soundById(m[v]);b&&(b._seek=b._start||0,b._rateSeek=0,b._paused=!0,b._ended=!0,p._stopFade(m[v]),b._node&&(p._webAudio?b._node.bufferSource&&(typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),p._cleanBuffer(b._node)):(!isNaN(b._node.duration)||b._node.duration===1/0)&&(b._node.currentTime=b._start||0,b._node.pause(),b._node.duration===1/0&&p._clearSound(b._node))),f||p._emit("stop",b._id))}return p},mute:function(u,f){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(u,f)}}),p;if(typeof f>"u")if(typeof u=="boolean")p._muted=u;else return p._muted;for(var m=p._getSoundIds(f),v=0;v<m.length;v++){var b=p._soundById(m[v]);b&&(b._muted=u,b._interval&&p._stopFade(b._id),p._webAudio&&b._node?b._node.gain.setValueAtTime(u?0:b._volume,n.ctx.currentTime):b._node&&(b._node.muted=n._muted?!0:u),p._emit("mute",b._id))}return p},volume:function(){var u=this,f=arguments,p,m;if(f.length===0)return u._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var v=u._getSoundIds(),b=v.indexOf(f[0]);b>=0?m=parseInt(f[0],10):p=parseFloat(f[0])}else f.length>=2&&(p=parseFloat(f[0]),m=parseInt(f[1],10));var _;if(typeof p<"u"&&p>=0&&p<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,f)}}),u;typeof m>"u"&&(u._volume=p),m=u._getSoundIds(m);for(var E=0;E<m.length;E++)_=u._soundById(m[E]),_&&(_._volume=p,f[2]||u._stopFade(m[E]),u._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(p,n.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=p*n.volume()),u._emit("volume",_._id))}else return _=m?u._soundById(m):u._sounds[0],_?_._volume:0;return u},fade:function(u,f,p,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(u,f,p,m)}}),v;u=Math.min(Math.max(0,parseFloat(u)),1),f=Math.min(Math.max(0,parseFloat(f)),1),p=parseFloat(p),v.volume(u,m);for(var b=v._getSoundIds(m),_=0;_<b.length;_++){var E=v._soundById(b[_]);if(E){if(m||v._stopFade(b[_]),v._webAudio&&!E._muted){var S=n.ctx.currentTime,M=S+p/1e3;E._volume=u,E._node.gain.setValueAtTime(u,S),E._node.gain.linearRampToValueAtTime(f,M)}v._startFadeInterval(E,u,f,p,b[_],typeof m>"u")}}return v},_startFadeInterval:function(u,f,p,m,v,b){var _=this,E=f,S=p-f,M=Math.abs(S/.01),O=Math.max(4,M>0?m/M:m),$=Date.now();u._fadeTo=p,u._interval=setInterval(function(){var U=(Date.now()-$)/m;$=Date.now(),E+=S*U,E=Math.round(E*100)/100,S<0?E=Math.max(p,E):E=Math.min(p,E),_._webAudio?u._volume=E:_.volume(E,u._id,!0),b&&(_._volume=E),(p<f&&E<=p||p>f&&E>=p)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,_.volume(p,u._id),_._emit("fade",u._id))},O)},_stopFade:function(u){var f=this,p=f._soundById(u);return p&&p._interval&&(f._webAudio&&p._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(p._interval),p._interval=null,f.volume(p._fadeTo,u),p._fadeTo=null,f._emit("fade",u)),f},loop:function(){var u=this,f=arguments,p,m,v;if(f.length===0)return u._loop;if(f.length===1)if(typeof f[0]=="boolean")p=f[0],u._loop=p;else return v=u._soundById(parseInt(f[0],10)),v?v._loop:!1;else f.length===2&&(p=f[0],m=parseInt(f[1],10));for(var b=u._getSoundIds(m),_=0;_<b.length;_++)v=u._soundById(b[_]),v&&(v._loop=p,u._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=p,p&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,u.playing(b[_])&&(u.pause(b[_],!0),u.play(b[_],!0)))));return u},rate:function(){var u=this,f=arguments,p,m;if(f.length===0)m=u._sounds[0]._id;else if(f.length===1){var v=u._getSoundIds(),b=v.indexOf(f[0]);b>=0?m=parseInt(f[0],10):p=parseFloat(f[0])}else f.length===2&&(p=parseFloat(f[0]),m=parseInt(f[1],10));var _;if(typeof p=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,f)}}),u;typeof m>"u"&&(u._rate=p),m=u._getSoundIds(m);for(var E=0;E<m.length;E++)if(_=u._soundById(m[E]),_){u.playing(m[E])&&(_._rateSeek=u.seek(m[E]),_._playStart=u._webAudio?n.ctx.currentTime:_._playStart),_._rate=p,u._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(p,n.ctx.currentTime):_._node&&(_._node.playbackRate=p);var S=u.seek(m[E]),M=(u._sprite[_._sprite][0]+u._sprite[_._sprite][1])/1e3-S,O=M*1e3/Math.abs(_._rate);(u._endTimers[m[E]]||!_._paused)&&(u._clearTimer(m[E]),u._endTimers[m[E]]=setTimeout(u._ended.bind(u,_),O)),u._emit("rate",_._id)}}else return _=u._soundById(m),_?_._rate:u._rate;return u},seek:function(){var u=this,f=arguments,p,m;if(f.length===0)u._sounds.length&&(m=u._sounds[0]._id);else if(f.length===1){var v=u._getSoundIds(),b=v.indexOf(f[0]);b>=0?m=parseInt(f[0],10):u._sounds.length&&(m=u._sounds[0]._id,p=parseFloat(f[0]))}else f.length===2&&(p=parseFloat(f[0]),m=parseInt(f[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,f)}}),u;var _=u._soundById(m);if(_)if(typeof p=="number"&&p>=0){var E=u.playing(m);E&&u.pause(m,!0),_._seek=p,_._ended=!1,u._clearTimer(m),!u._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=p);var S=function(){E&&u.play(m,!0),u._emit("seek",m)};if(E&&!u._webAudio){var M=function(){u._playLock?setTimeout(M,0):S()};setTimeout(M,0)}else S()}else if(u._webAudio){var O=u.playing(m)?n.ctx.currentTime-_._playStart:0,$=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+($+O*Math.abs(_._rate))}else return _._node.currentTime;return u},playing:function(u){var f=this;if(typeof u=="number"){var p=f._soundById(u);return p?!p._paused:!1}for(var m=0;m<f._sounds.length;m++)if(!f._sounds[m]._paused)return!0;return!1},duration:function(u){var f=this,p=f._duration,m=f._soundById(u);return m&&(p=f._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var u=this,f=u._sounds,p=0;p<f.length;p++)f[p]._paused||u.stop(f[p]._id),u._webAudio||(u._clearSound(f[p]._node),f[p]._node.removeEventListener("error",f[p]._errorFn,!1),f[p]._node.removeEventListener(n._canPlayEvent,f[p]._loadFn,!1),f[p]._node.removeEventListener("ended",f[p]._endFn,!1),n._releaseHtml5Audio(f[p]._node)),delete f[p]._node,u._clearTimer(f[p]._id);var m=n._howls.indexOf(u);m>=0&&n._howls.splice(m,1);var v=!0;for(p=0;p<n._howls.length;p++)if(n._howls[p]._src===u._src||u._src.indexOf(n._howls[p]._src)>=0){v=!1;break}return o&&v&&delete o[u._src],n.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,f,p,m){var v=this,b=v["_on"+u];return typeof f=="function"&&b.push(m?{id:p,fn:f,once:m}:{id:p,fn:f}),v},off:function(u,f,p){var m=this,v=m["_on"+u],b=0;if(typeof f=="number"&&(p=f,f=null),f||p)for(b=0;b<v.length;b++){var _=p===v[b].id;if(f===v[b].fn&&_||!f&&_){v.splice(b,1);break}}else if(u)m["_on"+u]=[];else{var E=Object.keys(m);for(b=0;b<E.length;b++)E[b].indexOf("_on")===0&&Array.isArray(m[E[b]])&&(m[E[b]]=[])}return m},once:function(u,f,p){var m=this;return m.on(u,f,p,1),m},_emit:function(u,f,p){for(var m=this,v=m["_on"+u],b=v.length-1;b>=0;b--)(!v[b].id||v[b].id===f||u==="load")&&(setTimeout((function(_){_.call(this,f,p)}).bind(m,v[b].fn),0),v[b].once&&m.off(u,v[b].fn,v[b].id));return m._loadQueue(u),m},_loadQueue:function(u){var f=this;if(f._queue.length>0){var p=f._queue[0];p.event===u&&(f._queue.shift(),f._loadQueue()),u||p.action()}return f},_ended:function(u){var f=this,p=u._sprite;if(!f._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(f._ended.bind(f,u),100),f;var m=!!(u._loop||f._sprite[p][2]);if(f._emit("end",u._id),!f._webAudio&&m&&f.stop(u._id,!0).play(u._id),f._webAudio&&m){f._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=n.ctx.currentTime;var v=(u._stop-u._start)*1e3/Math.abs(u._rate);f._endTimers[u._id]=setTimeout(f._ended.bind(f,u),v)}return f._webAudio&&!m&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,f._clearTimer(u._id),f._cleanBuffer(u._node),n._autoSuspend()),!f._webAudio&&!m&&f.stop(u._id,!0),f},_clearTimer:function(u){var f=this;if(f._endTimers[u]){if(typeof f._endTimers[u]!="function")clearTimeout(f._endTimers[u]);else{var p=f._soundById(u);p&&p._node&&p._node.removeEventListener("ended",f._endTimers[u],!1)}delete f._endTimers[u]}return f},_soundById:function(u){for(var f=this,p=0;p<f._sounds.length;p++)if(u===f._sounds[p]._id)return f._sounds[p];return null},_inactiveSound:function(){var u=this;u._drain();for(var f=0;f<u._sounds.length;f++)if(u._sounds[f]._ended)return u._sounds[f].reset();return new i(u)},_drain:function(){var u=this,f=u._pool,p=0,m=0;if(!(u._sounds.length<f)){for(m=0;m<u._sounds.length;m++)u._sounds[m]._ended&&p++;for(m=u._sounds.length-1;m>=0;m--){if(p<=f)return;u._sounds[m]._ended&&(u._webAudio&&u._sounds[m]._node&&u._sounds[m]._node.disconnect(0),u._sounds.splice(m,1),p--)}}},_getSoundIds:function(u){var f=this;if(typeof u>"u"){for(var p=[],m=0;m<f._sounds.length;m++)p.push(f._sounds[m]._id);return p}else return[u]},_refreshBuffer:function(u){var f=this;return u._node.bufferSource=n.ctx.createBufferSource(),u._node.bufferSource.buffer=o[f._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,n.ctx.currentTime),f},_cleanBuffer:function(u){var f=this,p=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return f;if(n._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),p))try{u.bufferSource.buffer=n._scratchBuffer}catch{}return u.bufferSource=null,f},_clearSound:function(u){var f=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);f||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(u){this._parent=u,this.init()};i.prototype={init:function(){var u=this,f=u._parent;return u._muted=f._muted,u._loop=f._loop,u._volume=f._volume,u._rate=f._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,f._sounds.push(u),u.create(),u},create:function(){var u=this,f=u._parent,p=n._muted||u._muted||u._parent._muted?0:u._volume;return f._webAudio?(u._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),u._node.gain.setValueAtTime(p,n.ctx.currentTime),u._node.paused=!0,u._node.connect(n.masterGain)):n.noAudio||(u._node=n._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(n._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=f._src,u._node.preload=f._preload===!0?"auto":f._preload,u._node.volume=p*n.volume(),u._node.load()),u},reset:function(){var u=this,f=u._parent;return u._muted=f._muted,u._loop=f._loop,u._volume=f._volume,u._rate=f._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,f=u._parent;f._duration=Math.ceil(u._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),u._node.removeEventListener(n._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,f=u._parent;f._duration===1/0&&(f._duration=Math.ceil(u._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var o={},s=function(u){var f=u._src;if(o[f]){u._duration=o[f].duration,c(u);return}if(/^data:[^;]+;base64,/.test(f)){for(var p=atob(f.split(",")[1]),m=new Uint8Array(p.length),v=0;v<p.length;++v)m[v]=p.charCodeAt(v);l(m.buffer,u)}else{var b=new XMLHttpRequest;b.open(u._xhr.method,f,!0),b.withCredentials=u._xhr.withCredentials,b.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(_){b.setRequestHeader(_,u._xhr.headers[_])}),b.onload=function(){var _=(b.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+b.status+".");return}l(b.response,u)},b.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete o[f],u.load())},a(b)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,f){var p=function(){f._emit("loaderror",null,"Decoding audio data failed.")},m=function(v){v&&f._sounds.length>0?(o[f._src]=v,c(f,v)):p()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(u).then(m).catch(p):n.ctx.decodeAudioData(u,m,p)},c=function(u,f){f&&!u._duration&&(u._duration=f.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},d=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),f=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=f?parseInt(f[1],10):null;if(u&&p&&p<9){var m=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!m&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof fn<"u"?(fn.HowlerGlobal=e,fn.Howler=n,fn.Howl=r,fn.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(r=typeof r!="number"?o._pos[1]:r,i=typeof i!="number"?o._pos[2]:i,typeof n=="number")o._pos=[n,r,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(n,r,i,o,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;if(r=typeof r!="number"?c[1]:r,i=typeof i!="number"?c[2]:i,o=typeof o!="number"?c[3]:o,s=typeof s!="number"?c[4]:s,a=typeof a!="number"?c[5]:a,typeof n=="number")l._orientation=[n,r,i,o,s,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,i,o,s,a);else return c;return l},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var s=i._getSoundIds(r),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,o),o==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(n,r,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(n,r,i,o)}}),s;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof n=="number")s._pos=[n,r,i];else return s._pos;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var c=s._soundById(a[l]);if(c)if(typeof n=="number")c._pos=[n,r,i],c._node&&((!c._panner||c._panner.pan)&&e(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setPosition(n,r,i)),s._emit("pos",c._id);else return c._pos}return s},Howl.prototype.orientation=function(n,r,i,o){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(n,r,i,o)}}),s;if(r=typeof r!="number"?s._orientation[1]:r,i=typeof i!="number"?s._orientation[2]:i,typeof o>"u")if(typeof n=="number")s._orientation=[n,r,i];else return s._orientation;for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var c=s._soundById(a[l]);if(c)if(typeof n=="number")c._orientation=[n,r,i],c._node&&(c._panner||(c._pos||(c._pos=s._pos||[0,0,-.5]),e(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setOrientation(n,r,i)),s._emit("orientation",c._id);else return c._orientation}return s},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,o,s;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return s=n._soundById(parseInt(r[0],10)),s?s._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],o=parseInt(r[1],10));for(var a=n._getSoundIds(o),l=0;l<a.length;l++)if(s=n._soundById(a[l]),s){var c=s._pannerAttr;c={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:c.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:c.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:c.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:c.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:c.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:c.panningModel};var d=s._panner;d||(s._pos||(s._pos=n._pos||[0,0,-.5]),e(s,"spatial"),d=s._panner),d.coneInnerAngle=c.coneInnerAngle,d.coneOuterAngle=c.coneOuterAngle,d.coneOuterGain=c.coneOuterGain,d.distanceModel=c.distanceModel,d.maxDistance=c.maxDistance,d.refDistance=c.refDistance,d.rolloffFactor=c.rolloffFactor,d.panningModel=c.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Kr);const ws={drop:new Kr.Howl({src:["https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"],volume:.3}),peg:new Kr.Howl({src:["https://assets.mixkit.co/active_storage/sfx/2570/2570-preview.mp3"],volume:.15,rate:1.5}),win:new Kr.Howl({src:["https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"],volume:.75}),bigWin:new Kr.Howl({src:["https://assets.mixkit.co/active_storage/sfx/2020/2020-preview.mp3"],volume:.85}),lose:new Kr.Howl({src:["https://assets.mixkit.co/active_storage/sfx/2656/2656-preview.mp3"],volume:.25}),click:new Kr.Howl({src:["https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3"],volume:.2})},CM={dark:"https://assets.mixkit.co/music/preview/mixkit-deep-urban-623.mp3",surf:"https://assets.mixkit.co/music/preview/mixkit-driving-ambition-32.mp3",cyber:"https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3",gamble:"https://assets.mixkit.co/music/preview/mixkit-hip-hop-02-738.mp3"};let $t=null,Mp="",X1=!1,tf=!0;const Qb=async()=>{try{if(X1)return!0;const t=Kr.Howler.ctx;return t&&t.state==="suspended"&&await t.resume(),X1=!0,!0}catch(t){return console.warn("Audio unlock failed:",t),!1}},RM=t=>{tf=t},BM=t=>{if(tf)try{ws[t].play()}catch(e){console.warn("Sound play failed:",e)}},MM=()=>{tf&&(ws.peg.rate(1.3+Math.random()*.4),ws.peg.play())},IM=t=>{tf&&(t>=10?ws.bigWin.play():t>=1?ws.win.play():ws.lose.play())},PM=(t,e=.15)=>{if(Mp===t&&$t)return;Qb(),$t&&($t.fade($t.volume(),0,500),setTimeout(()=>{$t==null||$t.stop(),$t=null},500));const n=CM[t];if(n){Mp=t,$t=new Kr.Howl({src:[n],volume:0,loop:!0,html5:!0});try{$t.play()}catch(r){console.warn("Music play failed:",r)}$t.fade(0,e,1e3)}},LM=()=>{$t&&($t.fade($t.volume(),0,500),setTimeout(()=>{$t==null||$t.stop(),$t=null,Mp=""},500))},NM={low:{8:[5.6,2.1,1.1,1,.5,1,1.1,2.1,5.6],12:[8.9,3,1.4,1.1,1,.5,.3,.5,1,1.1,1.4,3,8.9],16:[16,9,2,1.4,1.1,1,.5,.3,.2,.3,.5,1,1.1,1.4,2,9,16]},medium:{8:[13,3,1.3,.7,.4,.7,1.3,3,13],12:[33,11,4,2,.6,.4,.2,.4,.6,2,4,11,33],16:[110,41,10,5,3,1.5,.5,.3,.2,.3,.5,1.5,3,5,10,41,110]},high:{8:[29,4,1.5,.3,.2,.3,1.5,4,29],12:[170,24,8.1,2,.7,.2,.1,.2,.7,2,8.1,24,170],16:[1e3,130,26,9,4,2,.2,.1,.1,.1,.2,2,4,9,26,130,1e3]}},OM=({demoBalance:t,setDemoBalance:e,onLoss:n})=>{const{colors:r}=Ax(),[i,o]=G.useState(.01),[s,a]=G.useState(8),[l,c]=G.useState("low"),[d,u]=G.useState(1),[f,p]=G.useState([]),[m,v]=G.useState(null),[b,_]=G.useState(!1),[E,S]=G.useState(!1),[M,O]=G.useState([]),$=G.useRef(0),U=G.useMemo(()=>NM[l][s],[l,s]);U.length;const V=i*d<=t&&!b&&i>=.001,F=G.useCallback(h=>{const y=[0];let k=0;for(let B=0;B<h;B++){const T=Math.random()<.5;k+=T?1:0,y.push(k)}return y},[]),Z=G.useCallback(()=>{const h=++$.current,y=F(s),k=y[y.length-1],B=U[k]??.1,T={id:h,x:0,y:0,path:y,step:0,done:!1,multiplier:B};p(A=>[...A,T]),BM("drop");let I=0;const N=setInterval(()=>{if(I++,I>=y.length){clearInterval(N),p(L=>L.map(J=>J.id===h?{...J,done:!0,step:y.length-1}:J));const A=i*B,g=B>=1;e(L=>L+A),v({amount:A,multiplier:B,isWin:g}),O(L=>[{mult:B,isWin:g},...L].slice(0,20)),IM(B),!g&&n&&n(i-A),setTimeout(()=>{p(L=>L.filter(J=>J.id!==h))},1500)}else MM(),p(A=>A.map(g=>g.id===h?{...g,step:I}:g))},100);return()=>clearInterval(N)},[i,U,s,e,F,n]),Y=()=>{if(!V)return;_(!0),v(null);const h=i*d;e(y=>y-h);for(let y=0;y<d;y++)setTimeout(()=>{Z()},y*200);setTimeout(()=>{_(!1)},d*200+s*120+500)},X=h=>h>=100?"from-yellow-300 via-yellow-400 to-amber-500":h>=10?"from-orange-400 to-red-500":h>=2?"from-green-400 to-emerald-500":h>=1?"from-cyan-400 to-blue-500":h>=.5?"from-purple-400 to-indigo-500":"from-gray-500 to-gray-700",C=h=>h==="low"?D.jsx(KT,{className:"w-3 h-3"}):h==="medium"?D.jsx($T,{className:"w-3 h-3"}):D.jsx(GT,{className:"w-3 h-3"});return D.jsxs("div",{className:"flex flex-col gap-3 p-3",children:[D.jsxs("div",{className:"rounded-2xl p-4 border",style:{background:`linear-gradient(135deg, ${r.surface}90, ${r.background})`,borderColor:`${r.text}10`},children:[D.jsxs("div",{className:"flex items-center justify-between mb-3",children:[D.jsxs("div",{children:[D.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:r.textMuted},children:"Balance"}),D.jsxs("div",{className:"text-2xl font-black",style:{color:r.text},children:[t.toFixed(4)," ",D.jsx("span",{className:"text-sm opacity-60",children:"SOL"})]})]}),D.jsxs(Me.button,{whileTap:{scale:.95},onClick:()=>e(()=>1),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border text-xs font-bold",style:{borderColor:`${r.text}20`,background:`${r.text}05`},children:[D.jsx(gp,{className:"w-3 h-3"}),"Reset"]})]}),M.length>0&&D.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:M.slice(0,10).map((h,y)=>D.jsxs("div",{className:`px-2 py-1 rounded text-[10px] font-bold whitespace-nowrap bg-gradient-to-b ${X(h.mult)}`,style:{opacity:1-y*.08},children:[h.mult,"x"]},y))})]}),D.jsx(La,{children:m&&D.jsxs(Me.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9},className:"text-center py-3 rounded-2xl border",style:{background:m.isWin?"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1))":"linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.1))",borderColor:m.isWin?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"},children:[D.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:m.isWin?"Win!":"Loss"}),D.jsxs("div",{className:"text-2xl font-black",style:{color:m.isWin?"#22c55e":"#ef4444"},children:[m.isWin?"+":"",m.amount.toFixed(4)," SOL"]}),D.jsxs("div",{className:"text-xs font-bold opacity-70",children:[m.multiplier,"x multiplier"]})]})}),D.jsxs("div",{className:"relative rounded-2xl overflow-hidden",style:{background:`linear-gradient(180deg, ${r.surface}, ${r.background})`,border:`1px solid ${r.text}15`,height:s===8?280:s===12?340:400},children:[D.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none",style:{background:`radial-gradient(ellipse at 50% 20%, ${r.primary}40, transparent 60%)`}}),D.jsx("div",{className:"absolute inset-x-0 top-4 bottom-16 flex flex-col items-center justify-between px-2",children:Array.from({length:s}).map((h,y)=>{const k=y+3;return D.jsx("div",{className:"relative w-full",style:{height:"10px"},children:Array.from({length:k}).map((B,T)=>{const I=k<=1?50:T/(k-1)*100;return D.jsx("div",{className:"absolute w-1.5 h-1.5 rounded-full",style:{left:`${I}%`,top:"50%",transform:"translate(-50%, -50%)",background:`radial-gradient(circle, ${r.textMuted}80, ${r.textMuted}40)`,boxShadow:`0 0 4px ${r.textMuted}30`}},T)})},y)})}),D.jsx(La,{children:f.map(h=>{const y=h.step,k=h.path[y]??0,B=Math.max(1,y+1),T=(k+.5)/B*100,I=y/s*75+5;return D.jsx(Me.div,{initial:{opacity:0,scale:0,left:"50%",top:"5%"},animate:{opacity:1,scale:1,left:`${T}%`,top:`${I}%`},exit:{opacity:0,scale:0,transition:{duration:.3}},transition:{type:"spring",damping:25,stiffness:300},className:"absolute w-3 h-3 -ml-1.5 rounded-full z-10",style:{background:`radial-gradient(circle at 30% 30%, #fff, ${r.accent})`,boxShadow:`0 0 12px ${r.accent}, 0 0 24px ${r.glow}`}},h.id)})}),D.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex px-2 pb-2",children:U.map((h,y)=>D.jsxs(Me.div,{className:`flex-1 mx-0.5 py-1.5 rounded-md text-center text-[9px] font-black bg-gradient-to-b ${X(h)}`,whileHover:{scale:1.08,y:-2},style:{textShadow:"0 1px 3px rgba(0,0,0,0.7)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:[h>=100?h:h.toFixed(1),"x"]},y))})]}),D.jsxs("div",{className:"rounded-2xl p-4 border space-y-4",style:{background:`${r.surface}50`,borderColor:`${r.text}10`},children:[D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:r.textMuted},children:"Bet Amount"}),D.jsxs("span",{className:"text-xs font-bold",style:{color:r.accent},children:[i.toFixed(4)," SOL"]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>o(h=>Math.max(.001,h/2)),className:"px-3 py-2 rounded-lg border font-bold text-sm",style:{borderColor:`${r.text}20`,background:`${r.text}05`},children:""}),D.jsx("input",{type:"number",value:i,onChange:h=>o(Math.max(.001,Math.min(t,Number(h.target.value)||0))),className:"flex-1 px-3 py-2 rounded-lg border text-center font-bold text-sm",style:{borderColor:`${r.text}20`,background:`${r.text}05`,color:r.text},step:.001,min:.001}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>o(h=>Math.min(t/d,h*2)),className:"px-3 py-2 rounded-lg border font-bold text-sm",style:{borderColor:`${r.text}20`,background:`${r.text}05`},children:"2x"})]})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1.5",style:{color:r.textMuted},children:"Risk"}),D.jsx("div",{className:"flex gap-1",children:["low","medium","high"].map(h=>D.jsxs(Me.button,{whileTap:{scale:.95},onClick:()=>c(h),className:"flex-1 px-2 py-1.5 rounded-lg border font-bold text-[10px] uppercase flex items-center justify-center gap-1",style:{borderColor:l===h?r.accent:`${r.text}20`,background:l===h?`${r.accent}20`:`${r.text}05`,color:l===h?r.accent:r.textMuted},children:[C(h),h.charAt(0)]},h))})]}),D.jsxs("div",{className:"flex-1",children:[D.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1.5",style:{color:r.textMuted},children:"Rows"}),D.jsx("div",{className:"flex gap-1",children:[8,12,16].map(h=>D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>a(h),className:"flex-1 px-2 py-1.5 rounded-lg border font-bold text-[10px]",style:{borderColor:s===h?r.accent:`${r.text}20`,background:s===h?`${r.accent}20`:`${r.text}05`,color:s===h?r.accent:r.textMuted},children:h},h))})]})]}),D.jsxs(Me.button,{whileTap:{scale:.98},onClick:()=>S(h=>!h),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg border text-xs font-bold",style:{borderColor:`${r.text}15`,background:`${r.text}05`},children:[D.jsx("span",{style:{color:r.textMuted},children:"Multi-ball & More"}),E?D.jsx(UT,{className:"w-4 h-4"}):D.jsx(DT,{className:"w-4 h-4"})]}),D.jsx(La,{children:E&&D.jsx(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:D.jsxs("div",{className:"pt-2",children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:r.textMuted},children:["Balls: ",d]}),D.jsxs("span",{className:"text-xs font-bold",style:{color:r.accent},children:["Total: ",(i*d).toFixed(4)," SOL"]})]}),D.jsx("input",{type:"range",min:1,max:5,value:d,onChange:h=>u(Number(h.target.value)),className:"w-full"})]})})}),D.jsxs(Me.button,{onClick:Y,disabled:!V,whileTap:V?{scale:.97}:{},className:"w-full py-4 rounded-xl font-black uppercase tracking-wider text-base flex items-center justify-center gap-2 transition-all",style:V?{background:`linear-gradient(135deg, ${r.primary}, ${r.secondary})`,boxShadow:`0 4px 20px ${r.glow}`,color:"#fff"}:{background:`${r.text}10`,border:`1px solid ${r.text}20`,color:r.textMuted,cursor:"not-allowed"},children:[D.jsx(yp,{className:"w-5 h-5"}),b?"Dropping...":`Drop ${d>1?`${d} Balls`:"Ball"}`]}),D.jsxs("div",{className:"text-center text-[9px] opacity-50",style:{color:r.textMuted},children:["Provably Fair  ",l==="low"?"97%":l==="medium"?"96%":"95%"," RTP  House Edge ",l==="low"?"3%":l==="medium"?"4%":"5%"]})]})]})};var xe={},nf={};nf.byteLength=UM;nf.toByteArray=$M;nf.fromByteArray=HM;var Rr=[],Zn=[],FM=typeof Uint8Array<"u"?Uint8Array:Array,zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Uo=0,DM=zd.length;Uo<DM;++Uo)Rr[Uo]=zd[Uo],Zn[zd.charCodeAt(Uo)]=Uo;Zn[45]=62;Zn[95]=63;function Jb(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function UM(t){var e=Jb(t),n=e[0],r=e[1];return(n+r)*3/4-r}function jM(t,e,n){return(e+n)*3/4-n}function $M(t){var e,n=Jb(t),r=n[0],i=n[1],o=new FM(jM(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Zn[t.charCodeAt(l)]<<18|Zn[t.charCodeAt(l+1)]<<12|Zn[t.charCodeAt(l+2)]<<6|Zn[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Zn[t.charCodeAt(l)]<<2|Zn[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=Zn[t.charCodeAt(l)]<<10|Zn[t.charCodeAt(l+1)]<<4|Zn[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function VM(t){return Rr[t>>18&63]+Rr[t>>12&63]+Rr[t>>6&63]+Rr[t&63]}function zM(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(VM(r));return i.join("")}function HM(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(zM(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Rr[e>>2]+Rr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Rr[e>>10]+Rr[e>>4&63]+Rr[e<<2&63]+"=")),i.join("")}var Sm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Sm.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,u=n?i-1:0,f=n?-1:1,p=t[e+u];for(u+=f,o=p&(1<<-d)-1,p>>=-d,d+=a;d>0;o=o*256+t[e+u],u+=f,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=s*256+t[e+u],u+=f,d-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(p?-1:1)*s*Math.pow(2,o-r)};Sm.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,d=(1<<c)-1,u=d>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+u>=1?e+=f/l:e+=f*Math.pow(2,1-u),e*l>=2&&(s++,l/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(e*l-1)*Math.pow(2,i),s=s+u):(a=e*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=a&255,p+=m,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=s&255,p+=m,s/=256,c-=8);t[n+p-m]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=nf,n=Sm,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const R=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(R,w),R.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(R){if(R>i)throw new RangeError('The value "'+R+'" is invalid for option "size"');const w=new Uint8Array(R);return Object.setPrototypeOf(w,a.prototype),w}function a(R,w,x){if(typeof R=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(R)}return l(R,w,x)}a.poolSize=8192;function l(R,w,x){if(typeof R=="string")return f(R,w);if(ArrayBuffer.isView(R))return m(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(Ln(R,ArrayBuffer)||R&&Ln(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ln(R,SharedArrayBuffer)||R&&Ln(R.buffer,SharedArrayBuffer)))return v(R,w,x);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=R.valueOf&&R.valueOf();if(P!=null&&P!==R)return a.from(P,w,x);const j=b(R);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return a.from(R[Symbol.toPrimitive]("string"),w,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}a.from=function(R,w,x){return l(R,w,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function d(R,w,x){return c(R),R<=0?s(R):w!==void 0?typeof x=="string"?s(R).fill(w,x):s(R).fill(w):s(R)}a.alloc=function(R,w,x){return d(R,w,x)};function u(R){return c(R),s(R<0?0:_(R)|0)}a.allocUnsafe=function(R){return u(R)},a.allocUnsafeSlow=function(R){return u(R)};function f(R,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const x=S(R,w)|0;let P=s(x);const j=P.write(R,w);return j!==x&&(P=P.slice(0,j)),P}function p(R){const w=R.length<0?0:_(R.length)|0,x=s(w);for(let P=0;P<w;P+=1)x[P]=R[P]&255;return x}function m(R){if(Ln(R,Uint8Array)){const w=new Uint8Array(R);return v(w.buffer,w.byteOffset,w.byteLength)}return p(R)}function v(R,w,x){if(w<0||R.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<w+(x||0))throw new RangeError('"length" is outside of buffer bounds');let P;return w===void 0&&x===void 0?P=new Uint8Array(R):x===void 0?P=new Uint8Array(R,w):P=new Uint8Array(R,w,x),Object.setPrototypeOf(P,a.prototype),P}function b(R){if(a.isBuffer(R)){const w=_(R.length)|0,x=s(w);return x.length===0||R.copy(x,0,0,w),x}if(R.length!==void 0)return typeof R.length!="number"||Ke(R.length)?s(0):p(R);if(R.type==="Buffer"&&Array.isArray(R.data))return p(R.data)}function _(R){if(R>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return R|0}function E(R){return+R!=R&&(R=0),a.alloc(+R)}a.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},a.compare=function(w,x){if(Ln(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),Ln(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(w)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===x)return 0;let P=w.length,j=x.length;for(let z=0,K=Math.min(P,j);z<K;++z)if(w[z]!==x[z]){P=w[z],j=x[z];break}return P<j?-1:j<P?1:0},a.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(w,x){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let P;if(x===void 0)for(x=0,P=0;P<w.length;++P)x+=w[P].length;const j=a.allocUnsafe(x);let z=0;for(P=0;P<w.length;++P){let K=w[P];if(Ln(K,Uint8Array))z+K.length>j.length?(a.isBuffer(K)||(K=a.from(K)),K.copy(j,z)):Uint8Array.prototype.set.call(j,K,z);else if(a.isBuffer(K))K.copy(j,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=K.length}return j};function S(R,w){if(a.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||Ln(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);const x=R.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&x===0)return 0;let j=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return qe(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return Ze(R).length;default:if(j)return P?-1:qe(R).length;w=(""+w).toLowerCase(),j=!0}}a.byteLength=S;function M(R,w,x){let P=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,w>>>=0,x<=w))return"";for(R||(R="utf8");;)switch(R){case"hex":return I(this,w,x);case"utf8":case"utf-8":return h(this,w,x);case"ascii":return B(this,w,x);case"latin1":case"binary":return T(this,w,x);case"base64":return C(this,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,w,x);default:if(P)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),P=!0}}a.prototype._isBuffer=!0;function O(R,w,x){const P=R[w];R[w]=R[x],R[x]=P}a.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<w;x+=2)O(this,x,x+1);return this},a.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<w;x+=4)O(this,x,x+3),O(this,x+1,x+2);return this},a.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<w;x+=8)O(this,x,x+7),O(this,x+1,x+6),O(this,x+2,x+5),O(this,x+3,x+4);return this},a.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?h(this,0,w):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},a.prototype.inspect=function(){let w="";const x=t.INSPECT_MAX_BYTES;return w=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(w+=" ... "),"<Buffer "+w+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(w,x,P,j,z){if(Ln(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(x===void 0&&(x=0),P===void 0&&(P=w?w.length:0),j===void 0&&(j=0),z===void 0&&(z=this.length),x<0||P>w.length||j<0||z>this.length)throw new RangeError("out of range index");if(j>=z&&x>=P)return 0;if(j>=z)return-1;if(x>=P)return 1;if(x>>>=0,P>>>=0,j>>>=0,z>>>=0,this===w)return 0;let K=z-j,Ee=P-x;const _e=Math.min(K,Ee),ve=this.slice(j,z),ze=w.slice(x,P);for(let we=0;we<_e;++we)if(ve[we]!==ze[we]){K=ve[we],Ee=ze[we];break}return K<Ee?-1:Ee<K?1:0};function $(R,w,x,P,j){if(R.length===0)return-1;if(typeof x=="string"?(P=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Ke(x)&&(x=j?0:R.length-1),x<0&&(x=R.length+x),x>=R.length){if(j)return-1;x=R.length-1}else if(x<0)if(j)x=0;else return-1;if(typeof w=="string"&&(w=a.from(w,P)),a.isBuffer(w))return w.length===0?-1:U(R,w,x,P,j);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(R,w,x):Uint8Array.prototype.lastIndexOf.call(R,w,x):U(R,[w],x,P,j);throw new TypeError("val must be string, number or Buffer")}function U(R,w,x,P,j){let z=1,K=R.length,Ee=w.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(R.length<2||w.length<2)return-1;z=2,K/=2,Ee/=2,x/=2}function _e(ze,we){return z===1?ze[we]:ze.readUInt16BE(we*z)}let ve;if(j){let ze=-1;for(ve=x;ve<K;ve++)if(_e(R,ve)===_e(w,ze===-1?0:ve-ze)){if(ze===-1&&(ze=ve),ve-ze+1===Ee)return ze*z}else ze!==-1&&(ve-=ve-ze),ze=-1}else for(x+Ee>K&&(x=K-Ee),ve=x;ve>=0;ve--){let ze=!0;for(let we=0;we<Ee;we++)if(_e(R,ve+we)!==_e(w,we)){ze=!1;break}if(ze)return ve}return-1}a.prototype.includes=function(w,x,P){return this.indexOf(w,x,P)!==-1},a.prototype.indexOf=function(w,x,P){return $(this,w,x,P,!0)},a.prototype.lastIndexOf=function(w,x,P){return $(this,w,x,P,!1)};function V(R,w,x,P){x=Number(x)||0;const j=R.length-x;P?(P=Number(P),P>j&&(P=j)):P=j;const z=w.length;P>z/2&&(P=z/2);let K;for(K=0;K<P;++K){const Ee=parseInt(w.substr(K*2,2),16);if(Ke(Ee))return K;R[x+K]=Ee}return K}function F(R,w,x,P){return Ve(qe(w,R.length-x),R,x,P)}function Z(R,w,x,P){return Ve(rt(w),R,x,P)}function Y(R,w,x,P){return Ve(Ze(w),R,x,P)}function X(R,w,x,P){return Ve(Nl(w,R.length-x),R,x,P)}a.prototype.write=function(w,x,P,j){if(x===void 0)j="utf8",P=this.length,x=0;else if(P===void 0&&typeof x=="string")j=x,P=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(P)?(P=P>>>0,j===void 0&&(j="utf8")):(j=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-x;if((P===void 0||P>z)&&(P=z),w.length>0&&(P<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let K=!1;for(;;)switch(j){case"hex":return V(this,w,x,P);case"utf8":case"utf-8":return F(this,w,x,P);case"ascii":case"latin1":case"binary":return Z(this,w,x,P);case"base64":return Y(this,w,x,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,w,x,P);default:if(K)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),K=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(R,w,x){return w===0&&x===R.length?e.fromByteArray(R):e.fromByteArray(R.slice(w,x))}function h(R,w,x){x=Math.min(R.length,x);const P=[];let j=w;for(;j<x;){const z=R[j];let K=null,Ee=z>239?4:z>223?3:z>191?2:1;if(j+Ee<=x){let _e,ve,ze,we;switch(Ee){case 1:z<128&&(K=z);break;case 2:_e=R[j+1],(_e&192)===128&&(we=(z&31)<<6|_e&63,we>127&&(K=we));break;case 3:_e=R[j+1],ve=R[j+2],(_e&192)===128&&(ve&192)===128&&(we=(z&15)<<12|(_e&63)<<6|ve&63,we>2047&&(we<55296||we>57343)&&(K=we));break;case 4:_e=R[j+1],ve=R[j+2],ze=R[j+3],(_e&192)===128&&(ve&192)===128&&(ze&192)===128&&(we=(z&15)<<18|(_e&63)<<12|(ve&63)<<6|ze&63,we>65535&&we<1114112&&(K=we))}}K===null?(K=65533,Ee=1):K>65535&&(K-=65536,P.push(K>>>10&1023|55296),K=56320|K&1023),P.push(K),j+=Ee}return k(P)}const y=4096;function k(R){const w=R.length;if(w<=y)return String.fromCharCode.apply(String,R);let x="",P=0;for(;P<w;)x+=String.fromCharCode.apply(String,R.slice(P,P+=y));return x}function B(R,w,x){let P="";x=Math.min(R.length,x);for(let j=w;j<x;++j)P+=String.fromCharCode(R[j]&127);return P}function T(R,w,x){let P="";x=Math.min(R.length,x);for(let j=w;j<x;++j)P+=String.fromCharCode(R[j]);return P}function I(R,w,x){const P=R.length;(!w||w<0)&&(w=0),(!x||x<0||x>P)&&(x=P);let j="";for(let z=w;z<x;++z)j+=it[R[z]];return j}function N(R,w,x){const P=R.slice(w,x);let j="";for(let z=0;z<P.length-1;z+=2)j+=String.fromCharCode(P[z]+P[z+1]*256);return j}a.prototype.slice=function(w,x){const P=this.length;w=~~w,x=x===void 0?P:~~x,w<0?(w+=P,w<0&&(w=0)):w>P&&(w=P),x<0?(x+=P,x<0&&(x=0)):x>P&&(x=P),x<w&&(x=w);const j=this.subarray(w,x);return Object.setPrototypeOf(j,a.prototype),j};function A(R,w,x){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+w>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(w,x,P){w=w>>>0,x=x>>>0,P||A(w,x,this.length);let j=this[w],z=1,K=0;for(;++K<x&&(z*=256);)j+=this[w+K]*z;return j},a.prototype.readUintBE=a.prototype.readUIntBE=function(w,x,P){w=w>>>0,x=x>>>0,P||A(w,x,this.length);let j=this[w+--x],z=1;for(;x>0&&(z*=256);)j+=this[w+--x]*z;return j},a.prototype.readUint8=a.prototype.readUInt8=function(w,x){return w=w>>>0,x||A(w,1,this.length),this[w]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(w,x){return w=w>>>0,x||A(w,2,this.length),this[w]|this[w+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(w,x){return w=w>>>0,x||A(w,2,this.length),this[w]<<8|this[w+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(w,x){return w=w>>>0,x||A(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(w,x){return w=w>>>0,x||A(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},a.prototype.readBigUInt64LE=ar(function(w){w=w>>>0,Ce(w,"offset");const x=this[w],P=this[w+7];(x===void 0||P===void 0)&&Ne(w,this.length-8);const j=x+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,z=this[++w]+this[++w]*2**8+this[++w]*2**16+P*2**24;return BigInt(j)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=ar(function(w){w=w>>>0,Ce(w,"offset");const x=this[w],P=this[w+7];(x===void 0||P===void 0)&&Ne(w,this.length-8);const j=x*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],z=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+P;return(BigInt(j)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(w,x,P){w=w>>>0,x=x>>>0,P||A(w,x,this.length);let j=this[w],z=1,K=0;for(;++K<x&&(z*=256);)j+=this[w+K]*z;return z*=128,j>=z&&(j-=Math.pow(2,8*x)),j},a.prototype.readIntBE=function(w,x,P){w=w>>>0,x=x>>>0,P||A(w,x,this.length);let j=x,z=1,K=this[w+--j];for(;j>0&&(z*=256);)K+=this[w+--j]*z;return z*=128,K>=z&&(K-=Math.pow(2,8*x)),K},a.prototype.readInt8=function(w,x){return w=w>>>0,x||A(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},a.prototype.readInt16LE=function(w,x){w=w>>>0,x||A(w,2,this.length);const P=this[w]|this[w+1]<<8;return P&32768?P|4294901760:P},a.prototype.readInt16BE=function(w,x){w=w>>>0,x||A(w,2,this.length);const P=this[w+1]|this[w]<<8;return P&32768?P|4294901760:P},a.prototype.readInt32LE=function(w,x){return w=w>>>0,x||A(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},a.prototype.readInt32BE=function(w,x){return w=w>>>0,x||A(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},a.prototype.readBigInt64LE=ar(function(w){w=w>>>0,Ce(w,"offset");const x=this[w],P=this[w+7];(x===void 0||P===void 0)&&Ne(w,this.length-8);const j=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(P<<24);return(BigInt(j)<<BigInt(32))+BigInt(x+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),a.prototype.readBigInt64BE=ar(function(w){w=w>>>0,Ce(w,"offset");const x=this[w],P=this[w+7];(x===void 0||P===void 0)&&Ne(w,this.length-8);const j=(x<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(j)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+P)}),a.prototype.readFloatLE=function(w,x){return w=w>>>0,x||A(w,4,this.length),n.read(this,w,!0,23,4)},a.prototype.readFloatBE=function(w,x){return w=w>>>0,x||A(w,4,this.length),n.read(this,w,!1,23,4)},a.prototype.readDoubleLE=function(w,x){return w=w>>>0,x||A(w,8,this.length),n.read(this,w,!0,52,8)},a.prototype.readDoubleBE=function(w,x){return w=w>>>0,x||A(w,8,this.length),n.read(this,w,!1,52,8)};function g(R,w,x,P,j,z){if(!a.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>j||w<z)throw new RangeError('"value" argument is out of bounds');if(x+P>R.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(w,x,P,j){if(w=+w,x=x>>>0,P=P>>>0,!j){const Ee=Math.pow(2,8*P)-1;g(this,w,x,P,Ee,0)}let z=1,K=0;for(this[x]=w&255;++K<P&&(z*=256);)this[x+K]=w/z&255;return x+P},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(w,x,P,j){if(w=+w,x=x>>>0,P=P>>>0,!j){const Ee=Math.pow(2,8*P)-1;g(this,w,x,P,Ee,0)}let z=P-1,K=1;for(this[x+z]=w&255;--z>=0&&(K*=256);)this[x+z]=w/K&255;return x+P},a.prototype.writeUint8=a.prototype.writeUInt8=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,1,255,0),this[x]=w&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,2,65535,0),this[x]=w&255,this[x+1]=w>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,2,65535,0),this[x]=w>>>8,this[x+1]=w&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,4,4294967295,0),this[x+3]=w>>>24,this[x+2]=w>>>16,this[x+1]=w>>>8,this[x]=w&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,4,4294967295,0),this[x]=w>>>24,this[x+1]=w>>>16,this[x+2]=w>>>8,this[x+3]=w&255,x+4};function L(R,w,x,P,j){ee(w,P,j,R,x,7);let z=Number(w&BigInt(4294967295));R[x++]=z,z=z>>8,R[x++]=z,z=z>>8,R[x++]=z,z=z>>8,R[x++]=z;let K=Number(w>>BigInt(32)&BigInt(4294967295));return R[x++]=K,K=K>>8,R[x++]=K,K=K>>8,R[x++]=K,K=K>>8,R[x++]=K,x}function J(R,w,x,P,j){ee(w,P,j,R,x,7);let z=Number(w&BigInt(4294967295));R[x+7]=z,z=z>>8,R[x+6]=z,z=z>>8,R[x+5]=z,z=z>>8,R[x+4]=z;let K=Number(w>>BigInt(32)&BigInt(4294967295));return R[x+3]=K,K=K>>8,R[x+2]=K,K=K>>8,R[x+1]=K,K=K>>8,R[x]=K,x+8}a.prototype.writeBigUInt64LE=ar(function(w,x=0){return L(this,w,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ar(function(w,x=0){return J(this,w,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(w,x,P,j){if(w=+w,x=x>>>0,!j){const _e=Math.pow(2,8*P-1);g(this,w,x,P,_e-1,-_e)}let z=0,K=1,Ee=0;for(this[x]=w&255;++z<P&&(K*=256);)w<0&&Ee===0&&this[x+z-1]!==0&&(Ee=1),this[x+z]=(w/K>>0)-Ee&255;return x+P},a.prototype.writeIntBE=function(w,x,P,j){if(w=+w,x=x>>>0,!j){const _e=Math.pow(2,8*P-1);g(this,w,x,P,_e-1,-_e)}let z=P-1,K=1,Ee=0;for(this[x+z]=w&255;--z>=0&&(K*=256);)w<0&&Ee===0&&this[x+z+1]!==0&&(Ee=1),this[x+z]=(w/K>>0)-Ee&255;return x+P},a.prototype.writeInt8=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,1,127,-128),w<0&&(w=255+w+1),this[x]=w&255,x+1},a.prototype.writeInt16LE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,2,32767,-32768),this[x]=w&255,this[x+1]=w>>>8,x+2},a.prototype.writeInt16BE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,2,32767,-32768),this[x]=w>>>8,this[x+1]=w&255,x+2},a.prototype.writeInt32LE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,4,2147483647,-2147483648),this[x]=w&255,this[x+1]=w>>>8,this[x+2]=w>>>16,this[x+3]=w>>>24,x+4},a.prototype.writeInt32BE=function(w,x,P){return w=+w,x=x>>>0,P||g(this,w,x,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[x]=w>>>24,this[x+1]=w>>>16,this[x+2]=w>>>8,this[x+3]=w&255,x+4},a.prototype.writeBigInt64LE=ar(function(w,x=0){return L(this,w,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ar(function(w,x=0){return J(this,w,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(R,w,x,P,j,z){if(x+P>R.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function re(R,w,x,P,j){return w=+w,x=x>>>0,j||te(R,w,x,4),n.write(R,w,x,P,23,4),x+4}a.prototype.writeFloatLE=function(w,x,P){return re(this,w,x,!0,P)},a.prototype.writeFloatBE=function(w,x,P){return re(this,w,x,!1,P)};function he(R,w,x,P,j){return w=+w,x=x>>>0,j||te(R,w,x,8),n.write(R,w,x,P,52,8),x+8}a.prototype.writeDoubleLE=function(w,x,P){return he(this,w,x,!0,P)},a.prototype.writeDoubleBE=function(w,x,P){return he(this,w,x,!1,P)},a.prototype.copy=function(w,x,P,j){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if(P||(P=0),!j&&j!==0&&(j=this.length),x>=w.length&&(x=w.length),x||(x=0),j>0&&j<P&&(j=P),j===P||w.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),w.length-x<j-P&&(j=w.length-x+P);const z=j-P;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,P,j):Uint8Array.prototype.set.call(w,this.subarray(P,j),x),z},a.prototype.fill=function(w,x,P,j){if(typeof w=="string"){if(typeof x=="string"?(j=x,x=0,P=this.length):typeof P=="string"&&(j=P,P=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(w.length===1){const K=w.charCodeAt(0);(j==="utf8"&&K<128||j==="latin1")&&(w=K)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(x<0||this.length<x||this.length<P)throw new RangeError("Out of range index");if(P<=x)return this;x=x>>>0,P=P===void 0?this.length:P>>>0,w||(w=0);let z;if(typeof w=="number")for(z=x;z<P;++z)this[z]=w;else{const K=a.isBuffer(w)?w:a.from(w,j),Ee=K.length;if(Ee===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(z=0;z<P-x;++z)this[z+x]=K[z%Ee]}return this};const pe={};function fe(R,w,x){pe[R]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(R,w){return`The "${R}" argument must be of type number. Received type ${typeof w}`},TypeError),fe("ERR_OUT_OF_RANGE",function(R,w,x){let P=`The value of "${R}" is out of range.`,j=x;return Number.isInteger(x)&&Math.abs(x)>2**32?j=Ae(String(x)):typeof x=="bigint"&&(j=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(j=Ae(j)),j+="n"),P+=` It must be ${w}. Received ${j}`,P},RangeError);function Ae(R){let w="",x=R.length;const P=R[0]==="-"?1:0;for(;x>=P+4;x-=3)w=`_${R.slice(x-3,x)}${w}`;return`${R.slice(0,x)}${w}`}function Te(R,w,x){Ce(w,"offset"),(R[w]===void 0||R[w+x]===void 0)&&Ne(w,R.length-(x+1))}function ee(R,w,x,P,j,z){if(R>x||R<w){const K=typeof w=="bigint"?"n":"";let Ee;throw w===0||w===BigInt(0)?Ee=`>= 0${K} and < 2${K} ** ${(z+1)*8}${K}`:Ee=`>= -(2${K} ** ${(z+1)*8-1}${K}) and < 2 ** ${(z+1)*8-1}${K}`,new pe.ERR_OUT_OF_RANGE("value",Ee,R)}Te(P,j,z)}function Ce(R,w){if(typeof R!="number")throw new pe.ERR_INVALID_ARG_TYPE(w,"number",R)}function Ne(R,w,x){throw Math.floor(R)!==R?(Ce(R,x),new pe.ERR_OUT_OF_RANGE("offset","an integer",R)):w<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${w}`,R)}const nt=/[^+/0-9A-Za-z-_]/g;function Ll(R){if(R=R.split("=")[0],R=R.trim().replace(nt,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function qe(R,w){w=w||1/0;let x;const P=R.length;let j=null;const z=[];for(let K=0;K<P;++K){if(x=R.charCodeAt(K),x>55295&&x<57344){if(!j){if(x>56319){(w-=3)>-1&&z.push(239,191,189);continue}else if(K+1===P){(w-=3)>-1&&z.push(239,191,189);continue}j=x;continue}if(x<56320){(w-=3)>-1&&z.push(239,191,189),j=x;continue}x=(j-55296<<10|x-56320)+65536}else j&&(w-=3)>-1&&z.push(239,191,189);if(j=null,x<128){if((w-=1)<0)break;z.push(x)}else if(x<2048){if((w-=2)<0)break;z.push(x>>6|192,x&63|128)}else if(x<65536){if((w-=3)<0)break;z.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((w-=4)<0)break;z.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return z}function rt(R){const w=[];for(let x=0;x<R.length;++x)w.push(R.charCodeAt(x)&255);return w}function Nl(R,w){let x,P,j;const z=[];for(let K=0;K<R.length&&!((w-=2)<0);++K)x=R.charCodeAt(K),P=x>>8,j=x%256,z.push(j),z.push(P);return z}function Ze(R){return e.toByteArray(Ll(R))}function Ve(R,w,x,P){let j;for(j=0;j<P&&!(j+x>=w.length||j>=R.length);++j)w[j+x]=R[j];return j}function Ln(R,w){return R instanceof w||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===w.name}function Ke(R){return R!==R}const it=function(){const R="0123456789abcdef",w=new Array(256);for(let x=0;x<16;++x){const P=x*16;for(let j=0;j<16;++j)w[P+j]=R[x]+R[j]}return w}();function ar(R){return typeof BigInt>"u"?ot:R}function ot(){throw new Error("BigInt not supported")}})(xe);const jo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ip(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Mo(t,...e){if(!vl(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function e2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ip(t.outputLen),Ip(t.blockLen)}function hc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function WM(t,e){Mo(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Is(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Hd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function kr(t,e){return t<<32-e|t>>>e}const t2=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",qM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ho(t){if(Mo(t),t2)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=qM[t[n]];return e}const zr={_0:48,_9:57,A:65,F:70,a:97,f:102};function Q1(t){if(t>=zr._0&&t<=zr._9)return t-zr._0;if(t>=zr.A&&t<=zr.F)return t-(zr.A-10);if(t>=zr.a&&t<=zr.f)return t-(zr.a-10)}function pc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t2)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=Q1(t.charCodeAt(o)),a=Q1(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function KM(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Em(t){return typeof t=="string"&&(t=KM(t)),Mo(t),t}function Br(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Mo(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class n2{}function r2(t){const e=r=>t().update(Em(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function km(t=32){if(jo&&typeof jo.getRandomValues=="function")return jo.getRandomValues(new Uint8Array(t));if(jo&&typeof jo.randomBytes=="function")return Uint8Array.from(jo.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function GM(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function ZM(t,e,n){return t&e^~t&n}function YM(t,e,n){return t&e^t&n^e&n}class i2 extends n2{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Hd(this.buffer)}update(e){hc(this),e=Em(e),Mo(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Hd(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hc(this),WM(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Is(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;GM(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Hd(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const di=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ru=BigInt(2**32-1),J1=BigInt(32);function XM(t,e=!1){return e?{h:Number(t&ru),l:Number(t>>J1&ru)}:{h:Number(t>>J1&ru)|0,l:Number(t&ru)|0}}function QM(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=XM(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const ew=(t,e,n)=>t>>>n,tw=(t,e,n)=>t<<32-n|e>>>n,$o=(t,e,n)=>t>>>n|e<<32-n,Vo=(t,e,n)=>t<<32-n|e>>>n,iu=(t,e,n)=>t<<64-n|e>>>n-32,ou=(t,e,n)=>t>>>n-32|e<<64-n;function Hr(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const JM=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),eI=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,tI=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),nI=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,rI=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),iI=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,oI=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hi=new Uint32Array(64);class sI extends i2{constructor(e=32){super(64,e,8,!1),this.A=di[0]|0,this.B=di[1]|0,this.C=di[2]|0,this.D=di[3]|0,this.E=di[4]|0,this.F=di[5]|0,this.G=di[6]|0,this.H=di[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let u=0;u<16;u++,n+=4)hi[u]=e.getUint32(n,!1);for(let u=16;u<64;u++){const f=hi[u-15],p=hi[u-2],m=kr(f,7)^kr(f,18)^f>>>3,v=kr(p,17)^kr(p,19)^p>>>10;hi[u]=v+hi[u-7]+m+hi[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const f=kr(a,6)^kr(a,11)^kr(a,25),p=d+f+ZM(a,l,c)+oI[u]+hi[u]|0,v=(kr(r,2)^kr(r,13)^kr(r,22))+YM(r,i,o)|0;d=c,c=l,l=a,a=s+p|0,s=o,o=i,i=r,r=p+v|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){Is(hi)}destroy(){this.set(0,0,0,0,0,0,0,0),Is(this.buffer)}}const o2=QM(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),aI=o2[0],lI=o2[1],pi=new Uint32Array(80),mi=new Uint32Array(80);class uI extends i2{constructor(e=64){super(128,e,16,!1),this.Ah=nn[0]|0,this.Al=nn[1]|0,this.Bh=nn[2]|0,this.Bl=nn[3]|0,this.Ch=nn[4]|0,this.Cl=nn[5]|0,this.Dh=nn[6]|0,this.Dl=nn[7]|0,this.Eh=nn[8]|0,this.El=nn[9]|0,this.Fh=nn[10]|0,this.Fl=nn[11]|0,this.Gh=nn[12]|0,this.Gl=nn[13]|0,this.Hh=nn[14]|0,this.Hl=nn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:f,Gh:p,Gl:m,Hh:v,Hl:b}=this;return[e,n,r,i,o,s,a,l,c,d,u,f,p,m,v,b]}set(e,n,r,i,o,s,a,l,c,d,u,f,p,m,v,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=v|0,this.Hl=b|0}process(e,n){for(let S=0;S<16;S++,n+=4)pi[S]=e.getUint32(n),mi[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const M=pi[S-15]|0,O=mi[S-15]|0,$=$o(M,O,1)^$o(M,O,8)^ew(M,O,7),U=Vo(M,O,1)^Vo(M,O,8)^tw(M,O,7),V=pi[S-2]|0,F=mi[S-2]|0,Z=$o(V,F,19)^iu(V,F,61)^ew(V,F,6),Y=Vo(V,F,19)^ou(V,F,61)^tw(V,F,6),X=tI(U,Y,mi[S-7],mi[S-16]),C=nI(X,$,Z,pi[S-7],pi[S-16]);pi[S]=C|0,mi[S]=X|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:f,Fh:p,Fl:m,Gh:v,Gl:b,Hh:_,Hl:E}=this;for(let S=0;S<80;S++){const M=$o(u,f,14)^$o(u,f,18)^iu(u,f,41),O=Vo(u,f,14)^Vo(u,f,18)^ou(u,f,41),$=u&p^~u&v,U=f&m^~f&b,V=rI(E,O,U,lI[S],mi[S]),F=iI(V,_,M,$,aI[S],pi[S]),Z=V|0,Y=$o(r,i,28)^iu(r,i,34)^iu(r,i,39),X=Vo(r,i,28)^ou(r,i,34)^ou(r,i,39),C=r&o^r&a^o&a,h=i&s^i&l^s&l;_=v|0,E=b|0,v=p|0,b=m|0,p=u|0,m=f|0,{h:u,l:f}=Hr(c|0,d|0,F|0,Z|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const y=JM(Z,X,h);r=eI(y,F,Y,C),i=y|0}({h:r,l:i}=Hr(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Hr(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Hr(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Hr(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:f}=Hr(this.Eh|0,this.El|0,u|0,f|0),{h:p,l:m}=Hr(this.Fh|0,this.Fl|0,p|0,m|0),{h:v,l:b}=Hr(this.Gh|0,this.Gl|0,v|0,b|0),{h:_,l:E}=Hr(this.Hh|0,this.Hl|0,_|0,E|0),this.set(r,i,o,s,a,l,c,d,u,f,p,m,v,b,_,E)}roundClean(){Is(pi,mi)}destroy(){Is(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const s2=r2(()=>new sI),cI=r2(()=>new uI);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Am=BigInt(0),Pp=BigInt(1);function So(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function pr(t,e,n=""){const r=vl(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function su(t){const e=t.toString(16);return e.length&1?"0"+e:e}function a2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Am:BigInt("0x"+t)}function rf(t){return a2(ho(t))}function il(t){return Mo(t),a2(ho(Uint8Array.from(t).reverse()))}function Tm(t,e){return pc(t.toString(16).padStart(e*2,"0"))}function l2(t,e){return Tm(t,e).reverse()}function at(t,e,n){let r;if(typeof e=="string")try{r=pc(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(vl(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function nw(t){return Uint8Array.from(t)}const Wd=t=>typeof t=="bigint"&&Am<=t;function fI(t,e,n){return Wd(t)&&Wd(e)&&Wd(n)&&e<=t&&t<n}function Lp(t,e,n,r){if(!fI(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function u2(t){let e;for(e=0;t>Am;t>>=Pp,e+=1);return e}const _l=t=>(Pp<<BigInt(t))-Pp;function dI(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...p)=>n(s,o,...p),d=(p=r(0))=>{s=c(i(0),p),o=c(),p.length!==0&&(s=c(i(1),p),o=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){o=c();const v=o.slice();m.push(v),p+=o.length}return Br(...m)};return(p,m)=>{l(),d(p);let v;for(;!(v=m(u()));)d();return l(),v}}function xl(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function mc(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const An=BigInt(0),Xt=BigInt(1),oo=BigInt(2),c2=BigInt(3),f2=BigInt(4),d2=BigInt(5),hI=BigInt(7),h2=BigInt(8),pI=BigInt(9),p2=BigInt(16);function Nt(t,e){const n=t%e;return n>=An?n:e+n}function st(t,e,n){let r=t;for(;e-- >An;)r*=r,r%=n;return r}function rw(t,e){if(t===An)throw new Error("invert: expected non-zero number");if(e<=An)throw new Error("invert: expected positive modulus, got "+e);let n=Nt(t,e),r=e,i=An,o=Xt;for(;n!==An;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Xt)throw new Error("invert: does not exist");return Nt(i,e)}function Cm(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function m2(t,e){const n=(t.ORDER+Xt)/f2,r=t.pow(e,n);return Cm(t,r,e),r}function mI(t,e){const n=(t.ORDER-d2)/h2,r=t.mul(e,oo),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,oo),i),a=t.mul(o,t.sub(s,t.ONE));return Cm(t,a,e),a}function gI(t){const e=Io(t),n=g2(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+hI)/p2;return(a,l)=>{let c=a.pow(l,s),d=a.mul(c,r);const u=a.mul(c,i),f=a.mul(c,o),p=a.eql(a.sqr(d),l),m=a.eql(a.sqr(u),l);c=a.cmov(c,d,p),d=a.cmov(f,u,m);const v=a.eql(a.sqr(d),l),b=a.cmov(c,d,v);return Cm(a,b,l),b}}function g2(t){if(t<c2)throw new Error("sqrt is not defined for small field");let e=t-Xt,n=0;for(;e%oo===An;)e/=oo,n++;let r=oo;const i=Io(t);for(;iw(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return m2;let o=i.pow(r,e);const s=(e+Xt)/oo;return function(l,c){if(l.is0(c))return c;if(iw(l,c)!==1)throw new Error("Cannot find square root");let d=n,u=l.mul(l.ONE,o),f=l.pow(c,e),p=l.pow(c,s);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let m=1,v=l.sqr(f);for(;!l.eql(v,l.ONE);)if(m++,v=l.sqr(v),m===d)throw new Error("Cannot find square root");const b=Xt<<BigInt(d-m-1),_=l.pow(u,b);d=m,u=l.sqr(_),f=l.mul(f,u),p=l.mul(p,_)}return p}}function yI(t){return t%f2===c2?m2:t%h2===d2?mI:t%p2===pI?gI(t):g2(t)}const wI=(t,e)=>(Nt(t,e)&Xt)===Xt,vI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _I(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=vI.reduce((r,i)=>(r[i]="function",r),e);return xl(t,n),t}function xI(t,e,n){if(n<An)throw new Error("invalid exponent, negatives unsupported");if(n===An)return t.ONE;if(n===Xt)return e;let r=t.ONE,i=e;for(;n>An;)n&Xt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Xt;return r}function y2(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function iw(t,e){const n=(t.ORDER-Xt)/oo,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function w2(t,e){e!==void 0&&Ip(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Io(t,e,n=!1,r={}){if(t<=An)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const f=e;f.BITS&&(i=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(n=f.isLE),typeof f.modFromBytes=="boolean"&&(s=f.modFromBytes),a=f.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=w2(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const u=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:_l(l),ZERO:An,ONE:Xt,allowedLengths:a,create:f=>Nt(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return An<=f&&f<t},is0:f=>f===An,isValidNot0:f=>!u.is0(f)&&u.isValid(f),isOdd:f=>(f&Xt)===Xt,neg:f=>Nt(-f,t),eql:(f,p)=>f===p,sqr:f=>Nt(f*f,t),add:(f,p)=>Nt(f+p,t),sub:(f,p)=>Nt(f-p,t),mul:(f,p)=>Nt(f*p,t),pow:(f,p)=>xI(u,f,p),div:(f,p)=>Nt(f*rw(p,t),t),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>rw(f,t),sqrt:o||(f=>(d||(d=yI(t)),d(u,f))),toBytes:f=>n?l2(f,c):Tm(f,c),fromBytes:(f,p=!0)=>{if(a){if(!a.includes(f.length)||f.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);const v=new Uint8Array(c);v.set(f,n?0:v.length-f.length),f=v}if(f.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+f.length);let m=n?il(f):rf(f);if(s&&(m=Nt(m,t)),!p&&!u.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:f=>y2(u,f),cmov:(f,p,m)=>m?p:f});return Object.freeze(u)}function v2(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function _2(t){const e=v2(t);return e+Math.ceil(e/2)}function bI(t,e,n=!1){const r=t.length,i=v2(e),o=_2(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?il(t):rf(t),a=Nt(s,e-Xt)+Xt;return n?l2(a,i):Tm(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ps=BigInt(0),so=BigInt(1);function gc(t,e){const n=e.negate();return t?n:e}function ao(t,e){const n=y2(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function x2(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function qd(t,e){x2(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=_l(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function ow(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=so);const c=e*r,d=c+Math.abs(a)-1,u=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:f,isNegF:p,offsetF:c}}function SI(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function EI(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Kd=new WeakMap,b2=new WeakMap;function Gd(t){return b2.get(t)||1}function sw(t){if(t!==Ps)throw new Error("invalid wNAF")}class S2{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Ps;)n&so&&(r=r.add(i)),i=i.double(),n>>=so;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=qd(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=qd(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:u,isNegF:f,offsetF:p}=ow(r,a,s);r=l,d?o=o.add(gc(f,n[p])):i=i.add(gc(u,n[c]))}return sw(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=qd(e,this.bits);for(let s=0;s<o.windows&&r!==Ps;s++){const{nextN:a,offset:l,isZero:c,isNeg:d}=ow(r,s,o);if(r=a,!c){const u=n[l];i=i.add(d?u.negate():u)}}return sw(r),i}getPrecomputes(e,n,r){let i=Kd.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Kd.set(n,i))),i}cached(e,n,r){const i=Gd(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=Gd(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){x2(n,this.bits),b2.set(e,n),Kd.delete(e)}hasCache(e){return Gd(e)!==1}}function kI(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>Ps||r>Ps;)n&so&&(o=o.add(i)),r&so&&(s=s.add(i)),i=i.double(),n>>=so,r>>=so;return{p1:o,p2:s}}function E2(t,e,n,r){SI(n,t),EI(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=u2(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=_l(l),d=new Array(Number(c)+1).fill(s),u=Math.floor((e.BITS-1)/l)*l;let f=s;for(let p=u;p>=0;p-=l){d.fill(s);for(let v=0;v<o;v++){const b=r[v],_=Number(b>>BigInt(p)&c);d[_]=d[_].add(n[v])}let m=s;for(let v=d.length-1,b=s;v>0;v--)b=b.add(d[v]),m=m.add(b);if(f=f.add(m),p!==0)for(let v=0;v<l;v++)f=f.double()}return f}function aw(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return _I(e),e}else return Io(t,{isLE:n})}function k2(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Ps))throw new Error(`CURVE.${l} must be positive bigint`)}const i=aw(e.p,n.Fp,r),o=aw(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gi=BigInt(0),jt=BigInt(1),Zd=BigInt(2),AI=BigInt(8);function TI(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function CI(t,e={}){const n=k2("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;xl(e,{},{uvRatio:"function"});const a=Zd<<BigInt(i.BYTES*8)-jt,l=b=>r.create(b),c=e.uvRatio||((b,_)=>{try{return{isValid:!0,value:r.sqrt(r.div(b,_))}}catch{return{isValid:!1,value:gi}}});if(!TI(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function d(b,_,E=!1){const S=E?jt:gi;return Lp("coordinate "+b,_,S,a),_}function u(b){if(!(b instanceof m))throw new Error("ExtendedPoint expected")}const f=mc((b,_)=>{const{X:E,Y:S,Z:M}=b,O=b.is0();_==null&&(_=O?AI:r.inv(M));const $=l(E*_),U=l(S*_),V=r.mul(M,_);if(O)return{x:gi,y:jt};if(V!==jt)throw new Error("invZ was invalid");return{x:$,y:U}}),p=mc(b=>{const{a:_,d:E}=o;if(b.is0())throw new Error("bad point: ZERO");const{X:S,Y:M,Z:O,T:$}=b,U=l(S*S),V=l(M*M),F=l(O*O),Z=l(F*F),Y=l(U*_),X=l(F*l(Y+V)),C=l(Z+l(E*l(U*V)));if(X!==C)throw new Error("bad point: equation left != right (1)");const h=l(S*M),y=l(O*$);if(h!==y)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(_,E,S,M){this.X=d("x",_),this.Y=d("y",E),this.Z=d("z",S,!0),this.T=d("t",M),Object.freeze(this)}static CURVE(){return o}static fromAffine(_){if(_ instanceof m)throw new Error("extended point not allowed");const{x:E,y:S}=_||{};return d("x",E),d("y",S),new m(E,S,jt,l(E*S))}static fromBytes(_,E=!1){const S=r.BYTES,{a:M,d:O}=o;_=nw(pr(_,S,"point")),So(E,"zip215");const $=nw(_),U=_[S-1];$[S-1]=U&-129;const V=il($),F=E?a:r.ORDER;Lp("point.y",V,gi,F);const Z=l(V*V),Y=l(Z-jt),X=l(O*Z-M);let{isValid:C,value:h}=c(Y,X);if(!C)throw new Error("bad point: invalid y coordinate");const y=(h&jt)===jt,k=(U&128)!==0;if(!E&&h===gi&&k)throw new Error("bad point: x=0 and x_0=1");return k!==y&&(h=l(-h)),m.fromAffine({x:h,y:V})}static fromHex(_,E=!1){return m.fromBytes(at("point",_),E)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(_=8,E=!0){return v.createCache(this,_),E||this.multiply(Zd),this}assertValidity(){p(this)}equals(_){u(_);const{X:E,Y:S,Z:M}=this,{X:O,Y:$,Z:U}=_,V=l(E*U),F=l(O*M),Z=l(S*U),Y=l($*M);return V===F&&Z===Y}is0(){return this.equals(m.ZERO)}negate(){return new m(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:_}=o,{X:E,Y:S,Z:M}=this,O=l(E*E),$=l(S*S),U=l(Zd*l(M*M)),V=l(_*O),F=E+S,Z=l(l(F*F)-O-$),Y=V+$,X=Y-U,C=V-$,h=l(Z*X),y=l(Y*C),k=l(Z*C),B=l(X*Y);return new m(h,y,B,k)}add(_){u(_);const{a:E,d:S}=o,{X:M,Y:O,Z:$,T:U}=this,{X:V,Y:F,Z,T:Y}=_,X=l(M*V),C=l(O*F),h=l(U*S*Y),y=l($*Z),k=l((M+O)*(V+F)-X-C),B=y-h,T=y+h,I=l(C-E*X),N=l(k*B),A=l(T*I),g=l(k*I),L=l(B*T);return new m(N,A,L,g)}subtract(_){return this.add(_.negate())}multiply(_){if(!i.isValidNot0(_))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:E,f:S}=v.cached(this,_,M=>ao(m,M));return ao(m,[E,S])[0]}multiplyUnsafe(_,E=m.ZERO){if(!i.isValid(_))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return _===gi?m.ZERO:this.is0()||_===jt?this:v.unsafe(this,_,S=>ao(m,S),E)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return v.unsafe(this,o.n).is0()}toAffine(_){return f(this,_)}clearCofactor(){return s===jt?this:this.multiplyUnsafe(s)}toBytes(){const{x:_,y:E}=this.toAffine(),S=r.toBytes(E);return S[S.length-1]|=_&jt?128:0,S}toHex(){return ho(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(_){return ao(m,_)}static msm(_,E){return E2(m,i,_,E)}_setWindowSize(_){this.precompute(_)}toRawBytes(){return this.toBytes()}}m.BASE=new m(o.Gx,o.Gy,jt,l(o.Gx*o.Gy)),m.ZERO=new m(gi,jt,jt,gi),m.Fp=r,m.Fn=i;const v=new S2(m,i.BITS);return m.BASE.precompute(8),m}function RI(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');xl(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||km,l=n.adjustScalarBytes||(F=>F),c=n.domain||((F,Z,Y)=>{if(So(Y,"phflag"),Z.length||Y)throw new Error("Contexts/pre-hash are not supported");return F});function d(F){return s.create(il(F))}function u(F){const Z=S.secretKey;F=at("private key",F,Z);const Y=at("hashed private key",e(F),2*Z),X=l(Y.slice(0,Z)),C=Y.slice(Z,2*Z),h=d(X);return{head:X,prefix:C,scalar:h}}function f(F){const{head:Z,prefix:Y,scalar:X}=u(F),C=i.multiply(X),h=C.toBytes();return{head:Z,prefix:Y,scalar:X,point:C,pointBytes:h}}function p(F){return f(F).pointBytes}function m(F=Uint8Array.of(),...Z){const Y=Br(...Z);return d(e(c(Y,at("context",F),!!r)))}function v(F,Z,Y={}){F=at("message",F),r&&(F=r(F));const{prefix:X,scalar:C,pointBytes:h}=f(Z),y=m(Y.context,X,F),k=i.multiply(y).toBytes(),B=m(Y.context,k,h,F),T=s.create(y+B*C);if(!s.isValid(T))throw new Error("sign failed: invalid s");const I=Br(k,s.toBytes(T));return pr(I,S.signature,"result")}const b={zip215:!0};function _(F,Z,Y,X=b){const{context:C,zip215:h}=X,y=S.signature;F=at("signature",F,y),Z=at("message",Z),Y=at("publicKey",Y,S.publicKey),h!==void 0&&So(h,"zip215"),r&&(Z=r(Z));const k=y/2,B=F.subarray(0,k),T=il(F.subarray(k,y));let I,N,A;try{I=t.fromBytes(Y,h),N=t.fromBytes(B,h),A=i.multiplyUnsafe(T)}catch{return!1}if(!h&&I.isSmallOrder())return!1;const g=m(C,N.toBytes(),I.toBytes(),Z);return N.add(I.multiplyUnsafe(g)).subtract(A).clearCofactor().is0()}const E=o.BYTES,S={secretKey:E,publicKey:E,signature:2*E,seed:E};function M(F=a(S.seed)){return pr(F,S.seed,"seed")}function O(F){const Z=V.randomSecretKey(F);return{secretKey:Z,publicKey:p(Z)}}function $(F){return vl(F)&&F.length===s.BYTES}function U(F,Z){try{return!!t.fromBytes(F,Z)}catch{return!1}}const V={getExtendedPublicKey:f,randomSecretKey:M,isValidSecretKey:$,isValidPublicKey:U,toMontgomery(F){const{y:Z}=t.fromBytes(F),Y=S.publicKey,X=Y===32;if(!X&&Y!==57)throw new Error("only defined for 25519 and 448");const C=X?o.div(jt+Z,jt-Z):o.div(Z-jt,Z+jt);return o.toBytes(C)},toMontgomerySecret(F){const Z=S.secretKey;pr(F,Z);const Y=e(F.subarray(0,Z));return l(Y).subarray(0,Z)},randomPrivateKey:M,precompute(F=8,Z=t.BASE){return Z.precompute(F,!1)}};return Object.freeze({keygen:O,getPublicKey:p,sign:v,verify:_,utils:V,Point:t,lengths:S})}function BI(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Io(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function MI(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function II(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=BI(t),o=CI(e,n),s=RI(o,r,i);return MI(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const PI=BigInt(1),lw=BigInt(2);BigInt(3);const LI=BigInt(5),NI=BigInt(8),Rm=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),A2={p:Rm,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:NI,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function OI(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Rm,a=t*t%o*t%o,l=st(a,lw,o)*a%o,c=st(l,PI,o)*t%o,d=st(c,LI,o)*c%o,u=st(d,e,o)*d%o,f=st(u,n,o)*u%o,p=st(f,r,o)*f%o,m=st(p,i,o)*p%o,v=st(m,i,o)*p%o,b=st(v,e,o)*d%o;return{pow_p_5_8:st(b,lw,o)*t%o,b2:a}}function FI(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const uw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function DI(t,e){const n=Rm,r=Nt(e*e*e,n),i=Nt(r*r*e,n),o=OI(t*i).pow_p_5_8;let s=Nt(t*r*o,n);const a=Nt(e*s*s,n),l=s,c=Nt(s*uw,n),d=a===t,u=a===Nt(-t,n),f=a===Nt(-t*uw,n);return d&&(s=l),(u||f)&&(s=c),wI(s,n)&&(s=Nt(-s,n)),{isValid:d||u,value:s}}const UI=Io(A2.p,{isLE:!0}),jI={...A2,Fp:UI,hash:cI,adjustScalarBytes:FI,uvRatio:DI},Vs=II(jI);var Bm={exports:{}};const $I={},VI=Object.freeze(Object.defineProperty({__proto__:null,default:$I},Symbol.toStringTag,{value:"Module"})),zI=s0(VI);Bm.exports;(function(t){(function(e,n){function r(C,h){if(!C)throw new Error(h||"Assertion failed")}function i(C,h){C.super_=h;var y=function(){};y.prototype=h.prototype,C.prototype=new y,C.prototype.constructor=C}function o(C,h,y){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((h==="le"||h==="be")&&(y=h,h=10),this._init(C||0,h||10,y||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=zI.Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,y){return h.cmp(y)>0?h:y},o.min=function(h,y){return h.cmp(y)<0?h:y},o.prototype._init=function(h,y,k){if(typeof h=="number")return this._initNumber(h,y,k);if(typeof h=="object")return this._initArray(h,y,k);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),h=h.toString().replace(/\s+/g,"");var B=0;h[0]==="-"&&(B++,this.negative=1),B<h.length&&(y===16?this._parseHex(h,B,k):(this._parseBase(h,y,B),k==="le"&&this._initArray(this.toArray(),y,k)))},o.prototype._initNumber=function(h,y,k){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),y,k)},o.prototype._initArray=function(h,y,k){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var T,I,N=0;if(k==="be")for(B=h.length-1,T=0;B>=0;B-=3)I=h[B]|h[B-1]<<8|h[B-2]<<16,this.words[T]|=I<<N&67108863,this.words[T+1]=I>>>26-N&67108863,N+=24,N>=26&&(N-=26,T++);else if(k==="le")for(B=0,T=0;B<h.length;B+=3)I=h[B]|h[B+1]<<8|h[B+2]<<16,this.words[T]|=I<<N&67108863,this.words[T+1]=I>>>26-N&67108863,N+=24,N>=26&&(N-=26,T++);return this._strip()};function a(C,h){var y=C.charCodeAt(h);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;r(!1,"Invalid character in "+C)}function l(C,h,y){var k=a(C,y);return y-1>=h&&(k|=a(C,y-1)<<4),k}o.prototype._parseHex=function(h,y,k){this.length=Math.ceil((h.length-y)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var T=0,I=0,N;if(k==="be")for(B=h.length-1;B>=y;B-=2)N=l(h,y,B)<<T,this.words[I]|=N&67108863,T>=18?(T-=18,I+=1,this.words[I]|=N>>>26):T+=8;else{var A=h.length-y;for(B=A%2===0?y+1:y;B<h.length;B+=2)N=l(h,y,B)<<T,this.words[I]|=N&67108863,T>=18?(T-=18,I+=1,this.words[I]|=N>>>26):T+=8}this._strip()};function c(C,h,y,k){for(var B=0,T=0,I=Math.min(C.length,y),N=h;N<I;N++){var A=C.charCodeAt(N)-48;B*=k,A>=49?T=A-49+10:A>=17?T=A-17+10:T=A,r(A>=0&&T<k,"Invalid character"),B+=T}return B}o.prototype._parseBase=function(h,y,k){this.words=[0],this.length=1;for(var B=0,T=1;T<=67108863;T*=y)B++;B--,T=T/y|0;for(var I=h.length-k,N=I%B,A=Math.min(I,I-N)+k,g=0,L=k;L<A;L+=B)g=c(h,L,L+B,y),this.imuln(T),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(N!==0){var J=1;for(g=c(h,L,h.length,y),L=0;L<N;L++)J*=y;this.imuln(J),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},o.prototype.copy=function(h){h.words=new Array(this.length);for(var y=0;y<this.length;y++)h.words[y]=this.words[y];h.length=this.length,h.negative=this.negative,h.red=this.red};function d(C,h){C.words=h.words,C.length=h.length,C.negative=h.negative,C.red=h.red}if(o.prototype._move=function(h){d(h,this)},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,y){h=h||10,y=y|0||1;var k;if(h===16||h==="hex"){k="";for(var B=0,T=0,I=0;I<this.length;I++){var N=this.words[I],A=((N<<B|T)&16777215).toString(16);T=N>>>24-B&16777215,B+=2,B>=26&&(B-=26,I--),T!==0||I!==this.length-1?k=f[6-A.length]+A+k:k=A+k}for(T!==0&&(k=T.toString(16)+k);k.length%y!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(h===(h|0)&&h>=2&&h<=36){var g=p[h],L=m[h];k="";var J=this.clone();for(J.negative=0;!J.isZero();){var te=J.modrn(L).toString(h);J=J.idivn(L),J.isZero()?k=te+k:k=f[g-te.length]+te+k}for(this.isZero()&&(k="0"+k);k.length%y!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(h,y){return this.toArrayLike(s,h,y)}),o.prototype.toArray=function(h,y){return this.toArrayLike(Array,h,y)};var v=function(h,y){return h.allocUnsafe?h.allocUnsafe(y):new h(y)};o.prototype.toArrayLike=function(h,y,k){this._strip();var B=this.byteLength(),T=k||Math.max(1,B);r(B<=T,"byte array longer than desired length"),r(T>0,"Requested array length <= 0");var I=v(h,T),N=y==="le"?"LE":"BE";return this["_toArrayLike"+N](I,B),I},o.prototype._toArrayLikeLE=function(h,y){for(var k=0,B=0,T=0,I=0;T<this.length;T++){var N=this.words[T]<<I|B;h[k++]=N&255,k<h.length&&(h[k++]=N>>8&255),k<h.length&&(h[k++]=N>>16&255),I===6?(k<h.length&&(h[k++]=N>>24&255),B=0,I=0):(B=N>>>24,I+=2)}if(k<h.length)for(h[k++]=B;k<h.length;)h[k++]=0},o.prototype._toArrayLikeBE=function(h,y){for(var k=h.length-1,B=0,T=0,I=0;T<this.length;T++){var N=this.words[T]<<I|B;h[k--]=N&255,k>=0&&(h[k--]=N>>8&255),k>=0&&(h[k--]=N>>16&255),I===6?(k>=0&&(h[k--]=N>>24&255),B=0,I=0):(B=N>>>24,I+=2)}if(k>=0)for(h[k--]=B;k>=0;)h[k--]=0},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var y=h,k=0;return y>=4096&&(k+=13,y>>>=13),y>=64&&(k+=7,y>>>=7),y>=8&&(k+=4,y>>>=4),y>=2&&(k+=2,y>>>=2),k+y},o.prototype._zeroBits=function(h){if(h===0)return 26;var y=h,k=0;return y&8191||(k+=13,y>>>=13),y&127||(k+=7,y>>>=7),y&15||(k+=4,y>>>=4),y&3||(k+=2,y>>>=2),y&1||k++,k},o.prototype.bitLength=function(){var h=this.words[this.length-1],y=this._countBits(h);return(this.length-1)*26+y};function b(C){for(var h=new Array(C.bitLength()),y=0;y<h.length;y++){var k=y/26|0,B=y%26;h[y]=C.words[k]>>>B&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,y=0;y<this.length;y++){var k=this._zeroBits(this.words[y]);if(h+=k,k!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]|h.words[y];return this._strip()},o.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var y;this.length>h.length?y=h:y=this;for(var k=0;k<y.length;k++)this.words[k]=this.words[k]&h.words[k];return this.length=y.length,this._strip()},o.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var y,k;this.length>h.length?(y=this,k=h):(y=h,k=this);for(var B=0;B<k.length;B++)this.words[B]=y.words[B]^k.words[B];if(this!==y)for(;B<y.length;B++)this.words[B]=y.words[B];return this.length=y.length,this._strip()},o.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var y=Math.ceil(h/26)|0,k=h%26;this._expand(y),k>0&&y--;for(var B=0;B<y;B++)this.words[B]=~this.words[B]&67108863;return k>0&&(this.words[B]=~this.words[B]&67108863>>26-k),this._strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,y){r(typeof h=="number"&&h>=0);var k=h/26|0,B=h%26;return this._expand(k+1),y?this.words[k]=this.words[k]|1<<B:this.words[k]=this.words[k]&~(1<<B),this._strip()},o.prototype.iadd=function(h){var y;if(this.negative!==0&&h.negative===0)return this.negative=0,y=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,y=this.isub(h),h.negative=1,y._normSign();var k,B;this.length>h.length?(k=this,B=h):(k=h,B=this);for(var T=0,I=0;I<B.length;I++)y=(k.words[I]|0)+(B.words[I]|0)+T,this.words[I]=y&67108863,T=y>>>26;for(;T!==0&&I<k.length;I++)y=(k.words[I]|0)+T,this.words[I]=y&67108863,T=y>>>26;if(this.length=k.length,T!==0)this.words[this.length]=T,this.length++;else if(k!==this)for(;I<k.length;I++)this.words[I]=k.words[I];return this},o.prototype.add=function(h){var y;return h.negative!==0&&this.negative===0?(h.negative=0,y=this.sub(h),h.negative^=1,y):h.negative===0&&this.negative!==0?(this.negative=0,y=h.sub(this),this.negative=1,y):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var y=this.iadd(h);return h.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var k=this.cmp(h);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,T;k>0?(B=this,T=h):(B=h,T=this);for(var I=0,N=0;N<T.length;N++)y=(B.words[N]|0)-(T.words[N]|0)+I,I=y>>26,this.words[N]=y&67108863;for(;I!==0&&N<B.length;N++)y=(B.words[N]|0)+I,I=y>>26,this.words[N]=y&67108863;if(I===0&&N<B.length&&B!==this)for(;N<B.length;N++)this.words[N]=B.words[N];return this.length=Math.max(this.length,N),B!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function _(C,h,y){y.negative=h.negative^C.negative;var k=C.length+h.length|0;y.length=k,k=k-1|0;var B=C.words[0]|0,T=h.words[0]|0,I=B*T,N=I&67108863,A=I/67108864|0;y.words[0]=N;for(var g=1;g<k;g++){for(var L=A>>>26,J=A&67108863,te=Math.min(g,h.length-1),re=Math.max(0,g-C.length+1);re<=te;re++){var he=g-re|0;B=C.words[he]|0,T=h.words[re]|0,I=B*T+J,L+=I/67108864|0,J=I&67108863}y.words[g]=J|0,A=L|0}return A!==0?y.words[g]=A|0:y.length--,y._strip()}var E=function(h,y,k){var B=h.words,T=y.words,I=k.words,N=0,A,g,L,J=B[0]|0,te=J&8191,re=J>>>13,he=B[1]|0,pe=he&8191,fe=he>>>13,Ae=B[2]|0,Te=Ae&8191,ee=Ae>>>13,Ce=B[3]|0,Ne=Ce&8191,nt=Ce>>>13,Ll=B[4]|0,qe=Ll&8191,rt=Ll>>>13,Nl=B[5]|0,Ze=Nl&8191,Ve=Nl>>>13,Ln=B[6]|0,Ke=Ln&8191,it=Ln>>>13,ar=B[7]|0,ot=ar&8191,R=ar>>>13,w=B[8]|0,x=w&8191,P=w>>>13,j=B[9]|0,z=j&8191,K=j>>>13,Ee=T[0]|0,_e=Ee&8191,ve=Ee>>>13,ze=T[1]|0,we=ze&8191,mt=ze>>>13,Ag=T[2]|0,gt=Ag&8191,yt=Ag>>>13,Tg=T[3]|0,wt=Tg&8191,vt=Tg>>>13,Cg=T[4]|0,_t=Cg&8191,xt=Cg>>>13,Rg=T[5]|0,bt=Rg&8191,St=Rg>>>13,Bg=T[6]|0,Et=Bg&8191,kt=Bg>>>13,Mg=T[7]|0,At=Mg&8191,Tt=Mg>>>13,Ig=T[8]|0,Ct=Ig&8191,Rt=Ig>>>13,Pg=T[9]|0,Bt=Pg&8191,Mt=Pg>>>13;k.negative=h.negative^y.negative,k.length=19,A=Math.imul(te,_e),g=Math.imul(te,ve),g=g+Math.imul(re,_e)|0,L=Math.imul(re,ve);var Uf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Uf>>>26)|0,Uf&=67108863,A=Math.imul(pe,_e),g=Math.imul(pe,ve),g=g+Math.imul(fe,_e)|0,L=Math.imul(fe,ve),A=A+Math.imul(te,we)|0,g=g+Math.imul(te,mt)|0,g=g+Math.imul(re,we)|0,L=L+Math.imul(re,mt)|0;var jf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(jf>>>26)|0,jf&=67108863,A=Math.imul(Te,_e),g=Math.imul(Te,ve),g=g+Math.imul(ee,_e)|0,L=Math.imul(ee,ve),A=A+Math.imul(pe,we)|0,g=g+Math.imul(pe,mt)|0,g=g+Math.imul(fe,we)|0,L=L+Math.imul(fe,mt)|0,A=A+Math.imul(te,gt)|0,g=g+Math.imul(te,yt)|0,g=g+Math.imul(re,gt)|0,L=L+Math.imul(re,yt)|0;var $f=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+($f>>>26)|0,$f&=67108863,A=Math.imul(Ne,_e),g=Math.imul(Ne,ve),g=g+Math.imul(nt,_e)|0,L=Math.imul(nt,ve),A=A+Math.imul(Te,we)|0,g=g+Math.imul(Te,mt)|0,g=g+Math.imul(ee,we)|0,L=L+Math.imul(ee,mt)|0,A=A+Math.imul(pe,gt)|0,g=g+Math.imul(pe,yt)|0,g=g+Math.imul(fe,gt)|0,L=L+Math.imul(fe,yt)|0,A=A+Math.imul(te,wt)|0,g=g+Math.imul(te,vt)|0,g=g+Math.imul(re,wt)|0,L=L+Math.imul(re,vt)|0;var Vf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Vf>>>26)|0,Vf&=67108863,A=Math.imul(qe,_e),g=Math.imul(qe,ve),g=g+Math.imul(rt,_e)|0,L=Math.imul(rt,ve),A=A+Math.imul(Ne,we)|0,g=g+Math.imul(Ne,mt)|0,g=g+Math.imul(nt,we)|0,L=L+Math.imul(nt,mt)|0,A=A+Math.imul(Te,gt)|0,g=g+Math.imul(Te,yt)|0,g=g+Math.imul(ee,gt)|0,L=L+Math.imul(ee,yt)|0,A=A+Math.imul(pe,wt)|0,g=g+Math.imul(pe,vt)|0,g=g+Math.imul(fe,wt)|0,L=L+Math.imul(fe,vt)|0,A=A+Math.imul(te,_t)|0,g=g+Math.imul(te,xt)|0,g=g+Math.imul(re,_t)|0,L=L+Math.imul(re,xt)|0;var zf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(zf>>>26)|0,zf&=67108863,A=Math.imul(Ze,_e),g=Math.imul(Ze,ve),g=g+Math.imul(Ve,_e)|0,L=Math.imul(Ve,ve),A=A+Math.imul(qe,we)|0,g=g+Math.imul(qe,mt)|0,g=g+Math.imul(rt,we)|0,L=L+Math.imul(rt,mt)|0,A=A+Math.imul(Ne,gt)|0,g=g+Math.imul(Ne,yt)|0,g=g+Math.imul(nt,gt)|0,L=L+Math.imul(nt,yt)|0,A=A+Math.imul(Te,wt)|0,g=g+Math.imul(Te,vt)|0,g=g+Math.imul(ee,wt)|0,L=L+Math.imul(ee,vt)|0,A=A+Math.imul(pe,_t)|0,g=g+Math.imul(pe,xt)|0,g=g+Math.imul(fe,_t)|0,L=L+Math.imul(fe,xt)|0,A=A+Math.imul(te,bt)|0,g=g+Math.imul(te,St)|0,g=g+Math.imul(re,bt)|0,L=L+Math.imul(re,St)|0;var Hf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Hf>>>26)|0,Hf&=67108863,A=Math.imul(Ke,_e),g=Math.imul(Ke,ve),g=g+Math.imul(it,_e)|0,L=Math.imul(it,ve),A=A+Math.imul(Ze,we)|0,g=g+Math.imul(Ze,mt)|0,g=g+Math.imul(Ve,we)|0,L=L+Math.imul(Ve,mt)|0,A=A+Math.imul(qe,gt)|0,g=g+Math.imul(qe,yt)|0,g=g+Math.imul(rt,gt)|0,L=L+Math.imul(rt,yt)|0,A=A+Math.imul(Ne,wt)|0,g=g+Math.imul(Ne,vt)|0,g=g+Math.imul(nt,wt)|0,L=L+Math.imul(nt,vt)|0,A=A+Math.imul(Te,_t)|0,g=g+Math.imul(Te,xt)|0,g=g+Math.imul(ee,_t)|0,L=L+Math.imul(ee,xt)|0,A=A+Math.imul(pe,bt)|0,g=g+Math.imul(pe,St)|0,g=g+Math.imul(fe,bt)|0,L=L+Math.imul(fe,St)|0,A=A+Math.imul(te,Et)|0,g=g+Math.imul(te,kt)|0,g=g+Math.imul(re,Et)|0,L=L+Math.imul(re,kt)|0;var Wf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Wf>>>26)|0,Wf&=67108863,A=Math.imul(ot,_e),g=Math.imul(ot,ve),g=g+Math.imul(R,_e)|0,L=Math.imul(R,ve),A=A+Math.imul(Ke,we)|0,g=g+Math.imul(Ke,mt)|0,g=g+Math.imul(it,we)|0,L=L+Math.imul(it,mt)|0,A=A+Math.imul(Ze,gt)|0,g=g+Math.imul(Ze,yt)|0,g=g+Math.imul(Ve,gt)|0,L=L+Math.imul(Ve,yt)|0,A=A+Math.imul(qe,wt)|0,g=g+Math.imul(qe,vt)|0,g=g+Math.imul(rt,wt)|0,L=L+Math.imul(rt,vt)|0,A=A+Math.imul(Ne,_t)|0,g=g+Math.imul(Ne,xt)|0,g=g+Math.imul(nt,_t)|0,L=L+Math.imul(nt,xt)|0,A=A+Math.imul(Te,bt)|0,g=g+Math.imul(Te,St)|0,g=g+Math.imul(ee,bt)|0,L=L+Math.imul(ee,St)|0,A=A+Math.imul(pe,Et)|0,g=g+Math.imul(pe,kt)|0,g=g+Math.imul(fe,Et)|0,L=L+Math.imul(fe,kt)|0,A=A+Math.imul(te,At)|0,g=g+Math.imul(te,Tt)|0,g=g+Math.imul(re,At)|0,L=L+Math.imul(re,Tt)|0;var qf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(qf>>>26)|0,qf&=67108863,A=Math.imul(x,_e),g=Math.imul(x,ve),g=g+Math.imul(P,_e)|0,L=Math.imul(P,ve),A=A+Math.imul(ot,we)|0,g=g+Math.imul(ot,mt)|0,g=g+Math.imul(R,we)|0,L=L+Math.imul(R,mt)|0,A=A+Math.imul(Ke,gt)|0,g=g+Math.imul(Ke,yt)|0,g=g+Math.imul(it,gt)|0,L=L+Math.imul(it,yt)|0,A=A+Math.imul(Ze,wt)|0,g=g+Math.imul(Ze,vt)|0,g=g+Math.imul(Ve,wt)|0,L=L+Math.imul(Ve,vt)|0,A=A+Math.imul(qe,_t)|0,g=g+Math.imul(qe,xt)|0,g=g+Math.imul(rt,_t)|0,L=L+Math.imul(rt,xt)|0,A=A+Math.imul(Ne,bt)|0,g=g+Math.imul(Ne,St)|0,g=g+Math.imul(nt,bt)|0,L=L+Math.imul(nt,St)|0,A=A+Math.imul(Te,Et)|0,g=g+Math.imul(Te,kt)|0,g=g+Math.imul(ee,Et)|0,L=L+Math.imul(ee,kt)|0,A=A+Math.imul(pe,At)|0,g=g+Math.imul(pe,Tt)|0,g=g+Math.imul(fe,At)|0,L=L+Math.imul(fe,Tt)|0,A=A+Math.imul(te,Ct)|0,g=g+Math.imul(te,Rt)|0,g=g+Math.imul(re,Ct)|0,L=L+Math.imul(re,Rt)|0;var Kf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Kf>>>26)|0,Kf&=67108863,A=Math.imul(z,_e),g=Math.imul(z,ve),g=g+Math.imul(K,_e)|0,L=Math.imul(K,ve),A=A+Math.imul(x,we)|0,g=g+Math.imul(x,mt)|0,g=g+Math.imul(P,we)|0,L=L+Math.imul(P,mt)|0,A=A+Math.imul(ot,gt)|0,g=g+Math.imul(ot,yt)|0,g=g+Math.imul(R,gt)|0,L=L+Math.imul(R,yt)|0,A=A+Math.imul(Ke,wt)|0,g=g+Math.imul(Ke,vt)|0,g=g+Math.imul(it,wt)|0,L=L+Math.imul(it,vt)|0,A=A+Math.imul(Ze,_t)|0,g=g+Math.imul(Ze,xt)|0,g=g+Math.imul(Ve,_t)|0,L=L+Math.imul(Ve,xt)|0,A=A+Math.imul(qe,bt)|0,g=g+Math.imul(qe,St)|0,g=g+Math.imul(rt,bt)|0,L=L+Math.imul(rt,St)|0,A=A+Math.imul(Ne,Et)|0,g=g+Math.imul(Ne,kt)|0,g=g+Math.imul(nt,Et)|0,L=L+Math.imul(nt,kt)|0,A=A+Math.imul(Te,At)|0,g=g+Math.imul(Te,Tt)|0,g=g+Math.imul(ee,At)|0,L=L+Math.imul(ee,Tt)|0,A=A+Math.imul(pe,Ct)|0,g=g+Math.imul(pe,Rt)|0,g=g+Math.imul(fe,Ct)|0,L=L+Math.imul(fe,Rt)|0,A=A+Math.imul(te,Bt)|0,g=g+Math.imul(te,Mt)|0,g=g+Math.imul(re,Bt)|0,L=L+Math.imul(re,Mt)|0;var Gf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Gf>>>26)|0,Gf&=67108863,A=Math.imul(z,we),g=Math.imul(z,mt),g=g+Math.imul(K,we)|0,L=Math.imul(K,mt),A=A+Math.imul(x,gt)|0,g=g+Math.imul(x,yt)|0,g=g+Math.imul(P,gt)|0,L=L+Math.imul(P,yt)|0,A=A+Math.imul(ot,wt)|0,g=g+Math.imul(ot,vt)|0,g=g+Math.imul(R,wt)|0,L=L+Math.imul(R,vt)|0,A=A+Math.imul(Ke,_t)|0,g=g+Math.imul(Ke,xt)|0,g=g+Math.imul(it,_t)|0,L=L+Math.imul(it,xt)|0,A=A+Math.imul(Ze,bt)|0,g=g+Math.imul(Ze,St)|0,g=g+Math.imul(Ve,bt)|0,L=L+Math.imul(Ve,St)|0,A=A+Math.imul(qe,Et)|0,g=g+Math.imul(qe,kt)|0,g=g+Math.imul(rt,Et)|0,L=L+Math.imul(rt,kt)|0,A=A+Math.imul(Ne,At)|0,g=g+Math.imul(Ne,Tt)|0,g=g+Math.imul(nt,At)|0,L=L+Math.imul(nt,Tt)|0,A=A+Math.imul(Te,Ct)|0,g=g+Math.imul(Te,Rt)|0,g=g+Math.imul(ee,Ct)|0,L=L+Math.imul(ee,Rt)|0,A=A+Math.imul(pe,Bt)|0,g=g+Math.imul(pe,Mt)|0,g=g+Math.imul(fe,Bt)|0,L=L+Math.imul(fe,Mt)|0;var Zf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Zf>>>26)|0,Zf&=67108863,A=Math.imul(z,gt),g=Math.imul(z,yt),g=g+Math.imul(K,gt)|0,L=Math.imul(K,yt),A=A+Math.imul(x,wt)|0,g=g+Math.imul(x,vt)|0,g=g+Math.imul(P,wt)|0,L=L+Math.imul(P,vt)|0,A=A+Math.imul(ot,_t)|0,g=g+Math.imul(ot,xt)|0,g=g+Math.imul(R,_t)|0,L=L+Math.imul(R,xt)|0,A=A+Math.imul(Ke,bt)|0,g=g+Math.imul(Ke,St)|0,g=g+Math.imul(it,bt)|0,L=L+Math.imul(it,St)|0,A=A+Math.imul(Ze,Et)|0,g=g+Math.imul(Ze,kt)|0,g=g+Math.imul(Ve,Et)|0,L=L+Math.imul(Ve,kt)|0,A=A+Math.imul(qe,At)|0,g=g+Math.imul(qe,Tt)|0,g=g+Math.imul(rt,At)|0,L=L+Math.imul(rt,Tt)|0,A=A+Math.imul(Ne,Ct)|0,g=g+Math.imul(Ne,Rt)|0,g=g+Math.imul(nt,Ct)|0,L=L+Math.imul(nt,Rt)|0,A=A+Math.imul(Te,Bt)|0,g=g+Math.imul(Te,Mt)|0,g=g+Math.imul(ee,Bt)|0,L=L+Math.imul(ee,Mt)|0;var Yf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Yf>>>26)|0,Yf&=67108863,A=Math.imul(z,wt),g=Math.imul(z,vt),g=g+Math.imul(K,wt)|0,L=Math.imul(K,vt),A=A+Math.imul(x,_t)|0,g=g+Math.imul(x,xt)|0,g=g+Math.imul(P,_t)|0,L=L+Math.imul(P,xt)|0,A=A+Math.imul(ot,bt)|0,g=g+Math.imul(ot,St)|0,g=g+Math.imul(R,bt)|0,L=L+Math.imul(R,St)|0,A=A+Math.imul(Ke,Et)|0,g=g+Math.imul(Ke,kt)|0,g=g+Math.imul(it,Et)|0,L=L+Math.imul(it,kt)|0,A=A+Math.imul(Ze,At)|0,g=g+Math.imul(Ze,Tt)|0,g=g+Math.imul(Ve,At)|0,L=L+Math.imul(Ve,Tt)|0,A=A+Math.imul(qe,Ct)|0,g=g+Math.imul(qe,Rt)|0,g=g+Math.imul(rt,Ct)|0,L=L+Math.imul(rt,Rt)|0,A=A+Math.imul(Ne,Bt)|0,g=g+Math.imul(Ne,Mt)|0,g=g+Math.imul(nt,Bt)|0,L=L+Math.imul(nt,Mt)|0;var Xf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Xf>>>26)|0,Xf&=67108863,A=Math.imul(z,_t),g=Math.imul(z,xt),g=g+Math.imul(K,_t)|0,L=Math.imul(K,xt),A=A+Math.imul(x,bt)|0,g=g+Math.imul(x,St)|0,g=g+Math.imul(P,bt)|0,L=L+Math.imul(P,St)|0,A=A+Math.imul(ot,Et)|0,g=g+Math.imul(ot,kt)|0,g=g+Math.imul(R,Et)|0,L=L+Math.imul(R,kt)|0,A=A+Math.imul(Ke,At)|0,g=g+Math.imul(Ke,Tt)|0,g=g+Math.imul(it,At)|0,L=L+Math.imul(it,Tt)|0,A=A+Math.imul(Ze,Ct)|0,g=g+Math.imul(Ze,Rt)|0,g=g+Math.imul(Ve,Ct)|0,L=L+Math.imul(Ve,Rt)|0,A=A+Math.imul(qe,Bt)|0,g=g+Math.imul(qe,Mt)|0,g=g+Math.imul(rt,Bt)|0,L=L+Math.imul(rt,Mt)|0;var Qf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Qf>>>26)|0,Qf&=67108863,A=Math.imul(z,bt),g=Math.imul(z,St),g=g+Math.imul(K,bt)|0,L=Math.imul(K,St),A=A+Math.imul(x,Et)|0,g=g+Math.imul(x,kt)|0,g=g+Math.imul(P,Et)|0,L=L+Math.imul(P,kt)|0,A=A+Math.imul(ot,At)|0,g=g+Math.imul(ot,Tt)|0,g=g+Math.imul(R,At)|0,L=L+Math.imul(R,Tt)|0,A=A+Math.imul(Ke,Ct)|0,g=g+Math.imul(Ke,Rt)|0,g=g+Math.imul(it,Ct)|0,L=L+Math.imul(it,Rt)|0,A=A+Math.imul(Ze,Bt)|0,g=g+Math.imul(Ze,Mt)|0,g=g+Math.imul(Ve,Bt)|0,L=L+Math.imul(Ve,Mt)|0;var Jf=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(Jf>>>26)|0,Jf&=67108863,A=Math.imul(z,Et),g=Math.imul(z,kt),g=g+Math.imul(K,Et)|0,L=Math.imul(K,kt),A=A+Math.imul(x,At)|0,g=g+Math.imul(x,Tt)|0,g=g+Math.imul(P,At)|0,L=L+Math.imul(P,Tt)|0,A=A+Math.imul(ot,Ct)|0,g=g+Math.imul(ot,Rt)|0,g=g+Math.imul(R,Ct)|0,L=L+Math.imul(R,Rt)|0,A=A+Math.imul(Ke,Bt)|0,g=g+Math.imul(Ke,Mt)|0,g=g+Math.imul(it,Bt)|0,L=L+Math.imul(it,Mt)|0;var ed=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(ed>>>26)|0,ed&=67108863,A=Math.imul(z,At),g=Math.imul(z,Tt),g=g+Math.imul(K,At)|0,L=Math.imul(K,Tt),A=A+Math.imul(x,Ct)|0,g=g+Math.imul(x,Rt)|0,g=g+Math.imul(P,Ct)|0,L=L+Math.imul(P,Rt)|0,A=A+Math.imul(ot,Bt)|0,g=g+Math.imul(ot,Mt)|0,g=g+Math.imul(R,Bt)|0,L=L+Math.imul(R,Mt)|0;var td=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(td>>>26)|0,td&=67108863,A=Math.imul(z,Ct),g=Math.imul(z,Rt),g=g+Math.imul(K,Ct)|0,L=Math.imul(K,Rt),A=A+Math.imul(x,Bt)|0,g=g+Math.imul(x,Mt)|0,g=g+Math.imul(P,Bt)|0,L=L+Math.imul(P,Mt)|0;var nd=(N+A|0)+((g&8191)<<13)|0;N=(L+(g>>>13)|0)+(nd>>>26)|0,nd&=67108863,A=Math.imul(z,Bt),g=Math.imul(z,Mt),g=g+Math.imul(K,Bt)|0,L=Math.imul(K,Mt);var rd=(N+A|0)+((g&8191)<<13)|0;return N=(L+(g>>>13)|0)+(rd>>>26)|0,rd&=67108863,I[0]=Uf,I[1]=jf,I[2]=$f,I[3]=Vf,I[4]=zf,I[5]=Hf,I[6]=Wf,I[7]=qf,I[8]=Kf,I[9]=Gf,I[10]=Zf,I[11]=Yf,I[12]=Xf,I[13]=Qf,I[14]=Jf,I[15]=ed,I[16]=td,I[17]=nd,I[18]=rd,N!==0&&(I[19]=N,k.length++),k};Math.imul||(E=_);function S(C,h,y){y.negative=h.negative^C.negative,y.length=C.length+h.length;for(var k=0,B=0,T=0;T<y.length-1;T++){var I=B;B=0;for(var N=k&67108863,A=Math.min(T,h.length-1),g=Math.max(0,T-C.length+1);g<=A;g++){var L=T-g,J=C.words[L]|0,te=h.words[g]|0,re=J*te,he=re&67108863;I=I+(re/67108864|0)|0,he=he+N|0,N=he&67108863,I=I+(he>>>26)|0,B+=I>>>26,I&=67108863}y.words[T]=N,k=I,I=B}return k!==0?y.words[T]=k:y.length--,y._strip()}function M(C,h,y){return S(C,h,y)}o.prototype.mulTo=function(h,y){var k,B=this.length+h.length;return this.length===10&&h.length===10?k=E(this,h,y):B<63?k=_(this,h,y):B<1024?k=S(this,h,y):k=M(this,h,y),k},o.prototype.mul=function(h){var y=new o(null);return y.words=new Array(this.length+h.length),this.mulTo(h,y)},o.prototype.mulf=function(h){var y=new o(null);return y.words=new Array(this.length+h.length),M(this,h,y)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){var y=h<0;y&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var k=0,B=0;B<this.length;B++){var T=(this.words[B]|0)*h,I=(T&67108863)+(k&67108863);k>>=26,k+=T/67108864|0,k+=I>>>26,this.words[B]=I&67108863}return k!==0&&(this.words[B]=k,this.length++),this.length=h===0?1:this.length,y?this.ineg():this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var y=b(h);if(y.length===0)return new o(1);for(var k=this,B=0;B<y.length&&y[B]===0;B++,k=k.sqr());if(++B<y.length)for(var T=k.sqr();B<y.length;B++,T=T.sqr())y[B]!==0&&(k=k.mul(T));return k},o.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var y=h%26,k=(h-y)/26,B=67108863>>>26-y<<26-y,T;if(y!==0){var I=0;for(T=0;T<this.length;T++){var N=this.words[T]&B,A=(this.words[T]|0)-N<<y;this.words[T]=A|I,I=N>>>26-y}I&&(this.words[T]=I,this.length++)}if(k!==0){for(T=this.length-1;T>=0;T--)this.words[T+k]=this.words[T];for(T=0;T<k;T++)this.words[T]=0;this.length+=k}return this._strip()},o.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,y,k){r(typeof h=="number"&&h>=0);var B;y?B=(y-y%26)/26:B=0;var T=h%26,I=Math.min((h-T)/26,this.length),N=67108863^67108863>>>T<<T,A=k;if(B-=I,B=Math.max(0,B),A){for(var g=0;g<I;g++)A.words[g]=this.words[g];A.length=I}if(I!==0)if(this.length>I)for(this.length-=I,g=0;g<this.length;g++)this.words[g]=this.words[g+I];else this.words[0]=0,this.length=1;var L=0;for(g=this.length-1;g>=0&&(L!==0||g>=B);g--){var J=this.words[g]|0;this.words[g]=L<<26-T|J>>>T,L=J&N}return A&&L!==0&&(A.words[A.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(h,y,k){return r(this.negative===0),this.iushrn(h,y,k)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var y=h%26,k=(h-y)/26,B=1<<y;if(this.length<=k)return!1;var T=this.words[k];return!!(T&B)},o.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var y=h%26,k=(h-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(y!==0&&k++,this.length=Math.min(k,this.length),y!==0){var B=67108863^67108863>>>y<<y;this.words[this.length-1]&=B}return this._strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},o.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,y,k){var B=h.length+k,T;this._expand(B);var I,N=0;for(T=0;T<h.length;T++){I=(this.words[T+k]|0)+N;var A=(h.words[T]|0)*y;I-=A&67108863,N=(I>>26)-(A/67108864|0),this.words[T+k]=I&67108863}for(;T<this.length-k;T++)I=(this.words[T+k]|0)+N,N=I>>26,this.words[T+k]=I&67108863;if(N===0)return this._strip();for(r(N===-1),N=0,T=0;T<this.length;T++)I=-(this.words[T]|0)+N,N=I>>26,this.words[T]=I&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(h,y){var k=this.length-h.length,B=this.clone(),T=h,I=T.words[T.length-1]|0,N=this._countBits(I);k=26-N,k!==0&&(T=T.ushln(k),B.iushln(k),I=T.words[T.length-1]|0);var A=B.length-T.length,g;if(y!=="mod"){g=new o(null),g.length=A+1,g.words=new Array(g.length);for(var L=0;L<g.length;L++)g.words[L]=0}var J=B.clone()._ishlnsubmul(T,1,A);J.negative===0&&(B=J,g&&(g.words[A]=1));for(var te=A-1;te>=0;te--){var re=(B.words[T.length+te]|0)*67108864+(B.words[T.length+te-1]|0);for(re=Math.min(re/I|0,67108863),B._ishlnsubmul(T,re,te);B.negative!==0;)re--,B.negative=0,B._ishlnsubmul(T,1,te),B.isZero()||(B.negative^=1);g&&(g.words[te]=re)}return g&&g._strip(),B._strip(),y!=="div"&&k!==0&&B.iushrn(k),{div:g||null,mod:B}},o.prototype.divmod=function(h,y,k){if(r(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var B,T,I;return this.negative!==0&&h.negative===0?(I=this.neg().divmod(h,y),y!=="mod"&&(B=I.div.neg()),y!=="div"&&(T=I.mod.neg(),k&&T.negative!==0&&T.iadd(h)),{div:B,mod:T}):this.negative===0&&h.negative!==0?(I=this.divmod(h.neg(),y),y!=="mod"&&(B=I.div.neg()),{div:B,mod:I.mod}):this.negative&h.negative?(I=this.neg().divmod(h.neg(),y),y!=="div"&&(T=I.mod.neg(),k&&T.negative!==0&&T.isub(h)),{div:I.div,mod:T}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?y==="div"?{div:this.divn(h.words[0]),mod:null}:y==="mod"?{div:null,mod:new o(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modrn(h.words[0]))}:this._wordDiv(h,y)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var y=this.divmod(h);if(y.mod.isZero())return y.div;var k=y.div.negative!==0?y.mod.isub(h):y.mod,B=h.ushrn(1),T=h.andln(1),I=k.cmp(B);return I<0||T===1&&I===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},o.prototype.modrn=function(h){var y=h<0;y&&(h=-h),r(h<=67108863);for(var k=(1<<26)%h,B=0,T=this.length-1;T>=0;T--)B=(k*B+(this.words[T]|0))%h;return y?-B:B},o.prototype.modn=function(h){return this.modrn(h)},o.prototype.idivn=function(h){var y=h<0;y&&(h=-h),r(h<=67108863);for(var k=0,B=this.length-1;B>=0;B--){var T=(this.words[B]|0)+k*67108864;this.words[B]=T/h|0,k=T%h}return this._strip(),y?this.ineg():this},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var y=this,k=h.clone();y.negative!==0?y=y.umod(h):y=y.clone();for(var B=new o(1),T=new o(0),I=new o(0),N=new o(1),A=0;y.isEven()&&k.isEven();)y.iushrn(1),k.iushrn(1),++A;for(var g=k.clone(),L=y.clone();!y.isZero();){for(var J=0,te=1;!(y.words[0]&te)&&J<26;++J,te<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(B.isOdd()||T.isOdd())&&(B.iadd(g),T.isub(L)),B.iushrn(1),T.iushrn(1);for(var re=0,he=1;!(k.words[0]&he)&&re<26;++re,he<<=1);if(re>0)for(k.iushrn(re);re-- >0;)(I.isOdd()||N.isOdd())&&(I.iadd(g),N.isub(L)),I.iushrn(1),N.iushrn(1);y.cmp(k)>=0?(y.isub(k),B.isub(I),T.isub(N)):(k.isub(y),I.isub(B),N.isub(T))}return{a:I,b:N,gcd:k.iushln(A)}},o.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var y=this,k=h.clone();y.negative!==0?y=y.umod(h):y=y.clone();for(var B=new o(1),T=new o(0),I=k.clone();y.cmpn(1)>0&&k.cmpn(1)>0;){for(var N=0,A=1;!(y.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(y.iushrn(N);N-- >0;)B.isOdd()&&B.iadd(I),B.iushrn(1);for(var g=0,L=1;!(k.words[0]&L)&&g<26;++g,L<<=1);if(g>0)for(k.iushrn(g);g-- >0;)T.isOdd()&&T.iadd(I),T.iushrn(1);y.cmp(k)>=0?(y.isub(k),B.isub(T)):(k.isub(y),T.isub(B))}var J;return y.cmpn(1)===0?J=B:J=T,J.cmpn(0)<0&&J.iadd(h),J},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var y=this.clone(),k=h.clone();y.negative=0,k.negative=0;for(var B=0;y.isEven()&&k.isEven();B++)y.iushrn(1),k.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;k.isEven();)k.iushrn(1);var T=y.cmp(k);if(T<0){var I=y;y=k,k=I}else if(T===0||k.cmpn(1)===0)break;y.isub(k)}while(!0);return k.iushln(B)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){r(typeof h=="number");var y=h%26,k=(h-y)/26,B=1<<y;if(this.length<=k)return this._expand(k+1),this.words[k]|=B,this;for(var T=B,I=k;T!==0&&I<this.length;I++){var N=this.words[I]|0;N+=T,T=N>>>26,N&=67108863,this.words[I]=N}return T!==0&&(this.words[I]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var y=h<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var k;if(this.length>1)k=1;else{y&&(h=-h),r(h<=67108863,"Number is too big");var B=this.words[0]|0;k=B===h?0:B<h?-1:1}return this.negative!==0?-k|0:k},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var y=this.ucmp(h);return this.negative!==0?-y|0:y},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var y=0,k=this.length-1;k>=0;k--){var B=this.words[k]|0,T=h.words[k]|0;if(B!==T){B<T?y=-1:B>T&&(y=1);break}}return y},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new Y(h)},o.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var O={k256:null,p224:null,p192:null,p25519:null};function $(C,h){this.name=C,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var h=new o(null);return h.words=new Array(Math.ceil(this.n/13)),h},$.prototype.ireduce=function(h){var y=h,k;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),k=y.bitLength();while(k>this.n);var B=k<this.n?-1:y.ucmp(this.p);return B===0?(y.words[0]=0,y.length=1):B>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},$.prototype.split=function(h,y){h.iushrn(this.n,0,y)},$.prototype.imulK=function(h){return h.imul(this.k)};function U(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,$),U.prototype.split=function(h,y){for(var k=4194303,B=Math.min(h.length,9),T=0;T<B;T++)y.words[T]=h.words[T];if(y.length=B,h.length<=9){h.words[0]=0,h.length=1;return}var I=h.words[9];for(y.words[y.length++]=I&k,T=10;T<h.length;T++){var N=h.words[T]|0;h.words[T-10]=(N&k)<<4|I>>>22,I=N}I>>>=22,h.words[T-10]=I,I===0&&h.length>10?h.length-=10:h.length-=9},U.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var y=0,k=0;k<h.length;k++){var B=h.words[k]|0;y+=B*977,h.words[k]=y&67108863,y=B*64+(y/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function V(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,$);function F(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,$);function Z(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,$),Z.prototype.imulK=function(h){for(var y=0,k=0;k<h.length;k++){var B=(h.words[k]|0)*19+y,T=B&67108863;B>>>=26,h.words[k]=T,y=B}return y!==0&&(h.words[h.length++]=y),h},o._prime=function(h){if(O[h])return O[h];var y;if(h==="k256")y=new U;else if(h==="p224")y=new V;else if(h==="p192")y=new F;else if(h==="p25519")y=new Z;else throw new Error("Unknown prime "+h);return O[h]=y,y};function Y(C){if(typeof C=="string"){var h=o._prime(C);this.m=h.p,this.prime=h}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}Y.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},Y.prototype._verify2=function(h,y){r((h.negative|y.negative)===0,"red works only with positives"),r(h.red&&h.red===y.red,"red works only with red numbers")},Y.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(d(h,h.umod(this.m)._forceRed(this)),h)},Y.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Y.prototype.add=function(h,y){this._verify2(h,y);var k=h.add(y);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},Y.prototype.iadd=function(h,y){this._verify2(h,y);var k=h.iadd(y);return k.cmp(this.m)>=0&&k.isub(this.m),k},Y.prototype.sub=function(h,y){this._verify2(h,y);var k=h.sub(y);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},Y.prototype.isub=function(h,y){this._verify2(h,y);var k=h.isub(y);return k.cmpn(0)<0&&k.iadd(this.m),k},Y.prototype.shl=function(h,y){return this._verify1(h),this.imod(h.ushln(y))},Y.prototype.imul=function(h,y){return this._verify2(h,y),this.imod(h.imul(y))},Y.prototype.mul=function(h,y){return this._verify2(h,y),this.imod(h.mul(y))},Y.prototype.isqr=function(h){return this.imul(h,h.clone())},Y.prototype.sqr=function(h){return this.mul(h,h)},Y.prototype.sqrt=function(h){if(h.isZero())return h.clone();var y=this.m.andln(3);if(r(y%2===1),y===3){var k=this.m.add(new o(1)).iushrn(2);return this.pow(h,k)}for(var B=this.m.subn(1),T=0;!B.isZero()&&B.andln(1)===0;)T++,B.iushrn(1);r(!B.isZero());var I=new o(1).toRed(this),N=I.redNeg(),A=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new o(2*g*g).toRed(this);this.pow(g,A).cmp(N)!==0;)g.redIAdd(N);for(var L=this.pow(g,B),J=this.pow(h,B.addn(1).iushrn(1)),te=this.pow(h,B),re=T;te.cmp(I)!==0;){for(var he=te,pe=0;he.cmp(I)!==0;pe++)he=he.redSqr();r(pe<re);var fe=this.pow(L,new o(1).iushln(re-pe-1));J=J.redMul(fe),L=fe.redSqr(),te=te.redMul(L),re=pe}return J},Y.prototype.invm=function(h){var y=h._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},Y.prototype.pow=function(h,y){if(y.isZero())return new o(1).toRed(this);if(y.cmpn(1)===0)return h.clone();var k=4,B=new Array(1<<k);B[0]=new o(1).toRed(this),B[1]=h;for(var T=2;T<B.length;T++)B[T]=this.mul(B[T-1],h);var I=B[0],N=0,A=0,g=y.bitLength()%26;for(g===0&&(g=26),T=y.length-1;T>=0;T--){for(var L=y.words[T],J=g-1;J>=0;J--){var te=L>>J&1;if(I!==B[0]&&(I=this.sqr(I)),te===0&&N===0){A=0;continue}N<<=1,N|=te,A++,!(A!==k&&(T!==0||J!==0))&&(I=this.mul(I,B[N]),A=0,N=0)}g=26}return I},Y.prototype.convertTo=function(h){var y=h.umod(this.m);return y===h?y.clone():y},Y.prototype.convertFrom=function(h){var y=h.clone();return y.red=null,y},o.mont=function(h){return new X(h)};function X(C){Y.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,Y),X.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},X.prototype.convertFrom=function(h){var y=this.imod(h.mul(this.rinv));return y.red=null,y},X.prototype.imul=function(h,y){if(h.isZero()||y.isZero())return h.words[0]=0,h.length=1,h;var k=h.imul(y),B=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=k.isub(B).iushrn(this.shift),I=T;return T.cmp(this.m)>=0?I=T.isub(this.m):T.cmpn(0)<0&&(I=T.iadd(this.m)),I._forceRed(this)},X.prototype.mul=function(h,y){if(h.isZero()||y.isZero())return new o(0)._forceRed(this);var k=h.mul(y),B=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=k.isub(B).iushrn(this.shift),I=T;return T.cmp(this.m)>=0?I=T.isub(this.m):T.cmpn(0)<0&&(I=T.iadd(this.m)),I._forceRed(this)},X.prototype.invm=function(h){var y=this.imod(h._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,fn)})(Bm);var T2=Bm.exports;const cw=Ds(T2);var Np={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=xe,r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(Np,Np.exports);var C2=Np.exports,au=C2.Buffer;function HI(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=au.from(p)),!au.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,v=0,b=0,_=p.length;b!==_&&p[b]===0;)b++,m++;for(var E=(_-b)*c+1>>>0,S=new Uint8Array(E);b!==_;){for(var M=p[b],O=0,$=E-1;(M!==0||O<v)&&$!==-1;$--,O++)M+=256*S[$]>>>0,S[$]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");v=O,b++}for(var U=E-v;U!==E&&S[U]===0;)U++;for(var V=a.repeat(m);U<E;++U)V+=t.charAt(S[U]);return V}function u(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return au.alloc(0);for(var m=0,v=0,b=0;p[m]===a;)v++,m++;for(var _=(p.length-m)*l+1>>>0,E=new Uint8Array(_);m<p.length;){var S=p.charCodeAt(m);if(S>255)return;var M=e[S];if(M===255)return;for(var O=0,$=_-1;(M!==0||O<b)&&$!==-1;$--,O++)M+=s*E[$]>>>0,E[$]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");b=O,m++}for(var U=_-b;U!==_&&E[U]===0;)U++;var V=au.allocUnsafe(v+(_-U));V.fill(0,0,v);for(var F=v;U!==_;)V[F++]=E[U++];return V}function f(p){var m=u(p);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:u,decode:f}}var WI=HI,qI=WI,KI="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",GI=qI(KI);const Zt=Ds(GI),fw=s2;var Gt={},lu=C2.Buffer;function ZI(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=lu.from(p)),!lu.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,v=0,b=0,_=p.length;b!==_&&p[b]===0;)b++,m++;for(var E=(_-b)*c+1>>>0,S=new Uint8Array(E);b!==_;){for(var M=p[b],O=0,$=E-1;(M!==0||O<v)&&$!==-1;$--,O++)M+=256*S[$]>>>0,S[$]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");v=O,b++}for(var U=E-v;U!==E&&S[U]===0;)U++;for(var V=a.repeat(m);U<E;++U)V+=t.charAt(S[U]);return V}function u(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return lu.alloc(0);for(var m=0,v=0,b=0;p[m]===a;)v++,m++;for(var _=(p.length-m)*l+1>>>0,E=new Uint8Array(_);m<p.length;){var S=p.charCodeAt(m);if(S>255)return;var M=e[S];if(M===255)return;for(var O=0,$=_-1;(M!==0||O<b)&&$!==-1;$--,O++)M+=s*E[$]>>>0,E[$]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");b=O,m++}for(var U=_-b;U!==_&&E[U]===0;)U++;var V=lu.allocUnsafe(v+(_-U));V.fill(0,0,v);for(var F=v;U!==_;)V[F++]=E[U++];return V}function f(p){var m=u(p);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:u,decode:f}}var YI=ZI,XI=YI,QI="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",JI=XI(QI);function Zr(t,e,n){return e<=t&&t<=n}function of(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function e4(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function t4(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var yc=-1;function Mm(t){this.tokens=[].slice.call(t)}Mm.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():yc},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Ls=-1;function Yd(t,e){if(t)throw TypeError("Decoder error");return e||65533}var wc="utf-8";function vc(t,e){if(!(this instanceof vc))return new vc(t,e);if(t=t!==void 0?String(t).toLowerCase():wc,t!==wc)throw new Error("Encoding not supported. Only utf-8 is supported");e=of(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}vc.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=of(n),this._streaming||(this._decoder=new n4({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Mm(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Ls);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Ls)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),t4(o)}};function _c(t,e){if(!(this instanceof _c))return new _c(t,e);if(t=t!==void 0?String(t).toLowerCase():wc,t!==wc)throw new Error("Encoding not supported. Only utf-8 is supported");e=of(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}_c.prototype={encode:function(e,n){e=e?String(e):"",n=of(n),this._streaming||(this._encoder=new r4(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Mm(e4(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Ls);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Ls;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function n4(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===yc&&i!==0)return i=0,Yd(e);if(l===yc)return Ls;if(i===0){if(Zr(l,0,127))return l;if(Zr(l,194,223))i=1,n=l-192;else if(Zr(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(Zr(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return Yd(e);return n=n<<6*i,null}if(!Zr(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),Yd(e);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function r4(t){t.fatal,this.handler=function(e,n){if(n===yc)return Ls;if(Zr(n,0,127))return n;var r,i;Zr(n,128,2047)?(r=1,i=192):Zr(n,2048,65535)?(r=2,i=224):Zr(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const i4=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:vc,TextEncoder:_c},Symbol.toStringTag,{value:"Module"})),o4=s0(i4);var s4=fn&&fn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),a4=fn&&fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fr=fn&&fn.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},l4=fn&&fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&s4(e,t,n);return a4(e,t),e},R2=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gt,"__esModule",{value:!0});var B2=Gt.deserializeUnchecked=O2=Gt.deserialize=N2=Gt.serialize=Gt.BinaryReader=Gt.BinaryWriter=Gt.BorshError=Gt.baseDecode=Gt.baseEncode=void 0;const Ai=R2(T2),M2=R2(JI),u4=l4(o4),c4=typeof TextDecoder!="function"?u4.TextDecoder:TextDecoder,f4=new c4("utf-8",{fatal:!0});function d4(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),M2.default.encode(Buffer.from(t))}Gt.baseEncode=d4;function h4(t){return Buffer.from(M2.default.decode(t))}Gt.baseDecode=h4;const Xd=1024;class gn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Gt.BorshError=gn;class I2{constructor(){this.buf=Buffer.alloc(Xd),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Xd)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ai.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ai.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ai.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ai.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Xd)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Gt.BinaryWriter=I2;function Dr(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new gn("Reached the end of buffer when deserializing")}throw o}}}class Hn{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Ai.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Ai.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Ai.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Ai.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new gn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return f4.decode(n)}catch(r){throw new gn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Fr([Dr],Hn.prototype,"readU8",null);Fr([Dr],Hn.prototype,"readU16",null);Fr([Dr],Hn.prototype,"readU32",null);Fr([Dr],Hn.prototype,"readU64",null);Fr([Dr],Hn.prototype,"readU128",null);Fr([Dr],Hn.prototype,"readU256",null);Fr([Dr],Hn.prototype,"readU512",null);Fr([Dr],Hn.prototype,"readString",null);Fr([Dr],Hn.prototype,"readFixedArray",null);Fr([Dr],Hn.prototype,"readArray",null);Gt.BinaryReader=Hn;function P2(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ji(t,e,n,r,i){try{if(typeof r=="string")i[`write${P2(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new gn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new gn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)Ji(t,null,n[o],r[0],i)}else i.writeArray(n,o=>{Ji(t,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Ji(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{Ji(t,e,s,r.key,i),Ji(t,e,o,r.value,i)});break}default:throw new gn(`FieldType ${r} unrecognized`)}else L2(t,n,i)}catch(o){throw o instanceof gn&&o.addToFieldPath(e),o}}function L2(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new gn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{Ji(t,i,e[i],o,n)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),Ji(t,s,e[s],a,n);break}}}else throw new gn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function p4(t,e,n=I2){const r=new n;return L2(t,e,r),r.toArray()}var N2=Gt.serialize=p4;function eo(t,e,n,r){try{if(typeof n=="string")return r[`read${P2(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(eo(t,null,n[0],r));return i}else return r.readArray(()=>eo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?eo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=eo(t,e,n.key,r),l=eo(t,e,n.value,r);i.set(a,l)}return i}return Im(t,n,r)}catch(i){throw i instanceof gn&&i.addToFieldPath(e),i}}function Im(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new gn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of t.get(e).fields)i[o]=eo(t,o,s,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new gn(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=eo(t,o,s,n);return new e({[o]:a})}throw new gn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function m4(t,e,n,r=Hn){const i=new r(n),o=Im(t,e,i);if(i.offset<n.length)throw new gn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var O2=Gt.deserialize=m4;function g4(t,e,n,r=Hn){const i=new r(n);return Im(t,e,i)}B2=Gt.deserializeUnchecked=g4;var W={};Object.defineProperty(W,"__esModule",{value:!0});W.s16=W.s8=W.nu64be=W.u48be=W.u40be=W.u32be=W.u24be=W.u16be=Wt=W.nu64=W.u48=W.u40=me=W.u32=W.u24=Yn=W.u16=Le=W.u8=po=W.offset=W.greedy=W.Constant=W.UTF8=W.CString=W.Blob=W.Boolean=W.BitField=W.BitStructure=W.VariantLayout=W.Union=W.UnionLayoutDiscriminator=W.UnionDiscriminator=W.Structure=W.Sequence=W.DoubleBE=W.Double=W.FloatBE=W.Float=W.NearInt64BE=W.NearInt64=W.NearUInt64BE=W.NearUInt64=W.IntBE=W.Int=W.UIntBE=W.UInt=W.OffsetLayout=W.GreedyCount=W.ExternalLayout=W.bindConstructorLayout=W.nameWithProperty=W.Layout=W.uint8ArrayToBuffer=W.checkUint8Array=void 0;W.constant=W.utf8=W.cstr=lt=W.blob=W.unionLayoutDiscriminator=W.union=yn=W.seq=W.bits=ue=W.struct=W.f64be=W.f64=W.f32be=W.f32=W.ns64be=W.s48be=W.s40be=W.s32be=W.s24be=W.s16be=Fn=W.ns64=W.s48=W.s40=W.s32=W.s24=void 0;const Pm=xe;function zs(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}W.checkUint8Array=zs;function Pe(t){return zs(t),Pm.Buffer.from(t.buffer,t.byteOffset,t.length)}W.uint8ArrayToBuffer=Pe;class De{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}W.Layout=De;function Lm(t,e){return e.property?t+"["+e.property+"]":t}W.nameWithProperty=Lm;function y4(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof De))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}W.bindConstructorLayout=y4;class Sn extends De{isCount(){throw new Error("ExternalLayout is abstract")}}W.ExternalLayout=Sn;class F2 extends Sn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){zs(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}W.GreedyCount=F2;class Nm extends Sn{constructor(e,n=0,r){if(!(e instanceof De))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof ir||this.layout instanceof yr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}W.OffsetLayout=Nm;class ir extends De{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Pe(n).writeUIntLE(e,r,this.span),this.span}}W.UInt=ir;class yr extends De{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Pe(n).writeUIntBE(e,r,this.span),this.span}}W.UIntBE=yr;class Po extends De{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readIntLE(n,this.span)}encode(e,n,r=0){return Pe(n).writeIntLE(e,r,this.span),this.span}}W.Int=Po;class Hs extends De{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readIntBE(n,this.span)}encode(e,n,r=0){return Pe(n).writeIntBE(e,r,this.span),this.span}}W.IntBE=Hs;const Op=Math.pow(2,32);function sf(t){const e=Math.floor(t/Op),n=t-e*Op;return{hi32:e,lo32:n}}function af(t,e){return t*Op+e}class D2 extends De{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return af(o,i)}encode(e,n,r=0){const i=sf(e),o=Pe(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}}W.NearUInt64=D2;class U2 extends De{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return af(i,o)}encode(e,n,r=0){const i=sf(e),o=Pe(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}W.NearUInt64BE=U2;class j2 extends De{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return af(o,i)}encode(e,n,r=0){const i=sf(e),o=Pe(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}}W.NearInt64=j2;class $2 extends De{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return af(i,o)}encode(e,n,r=0){const i=sf(e),o=Pe(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}}W.NearInt64BE=$2;class V2 extends De{constructor(e){super(4,e)}decode(e,n=0){return Pe(e).readFloatLE(n)}encode(e,n,r=0){return Pe(n).writeFloatLE(e,r),4}}W.Float=V2;class z2 extends De{constructor(e){super(4,e)}decode(e,n=0){return Pe(e).readFloatBE(n)}encode(e,n,r=0){return Pe(n).writeFloatBE(e,r),4}}W.FloatBE=z2;class H2 extends De{constructor(e){super(8,e)}decode(e,n=0){return Pe(e).readDoubleLE(n)}encode(e,n,r=0){return Pe(n).writeDoubleLE(e,r),8}}W.Double=H2;class W2 extends De{constructor(e){super(8,e)}decode(e,n=0){return Pe(e).readDoubleBE(n)}encode(e,n,r=0){return Pe(n).writeDoubleBE(e,r),8}}W.DoubleBE=W2;class q2 extends De{constructor(e,n,r){if(!(e instanceof De))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Sn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Sn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Sn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let i=0,o=this.count;for(o instanceof Sn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Sn&&this.count.encode(e.length,n,r),o}}W.Sequence=q2;class K2 extends De{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof De,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){zs(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}W.Structure=K2;class Om{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}W.UnionDiscriminator=Om;class xc extends Om{constructor(e,n){if(!(e instanceof Sn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}W.UnionLayoutDiscriminator=xc;class Fm extends De{constructor(e,n,r){let i;if(e instanceof ir||e instanceof yr)i=new xc(new Nm(e));else if(e instanceof Sn&&e.isCount())i=new xc(e);else if(e instanceof Om)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof De))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof ir||e instanceof yr)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof ir||e instanceof yr,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,o=i.decode(e,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,n+l)}else r=s.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new G2(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}W.Union=Fm;class G2 extends De{constructor(e,n,r,i){if(!(e instanceof Fm))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof De))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}W.VariantLayout=G2;function Ho(t){return 0>t&&(t+=4294967296),t}class Dm extends De{constructor(e,n,r){if(!(e instanceof ir||e instanceof yr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Ho(o),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Um(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Z2(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}W.BitStructure=Dm;class Um{constructor(e,n,r){if(!(e instanceof Dm))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=Ho(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ho(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ho(e&this.valueMask))throw new TypeError(Lm("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ho(e<<this.start);this.container._packedSetValue(Ho(n&~this.wordMask)|r)}}W.BitField=Um;let Z2=class extends Um{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};W.Boolean=Z2;let Y2=class extends De{constructor(e,n){if(!(e instanceof Sn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Sn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Pe(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Sn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Lm("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=Pe(e);return Pe(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof Sn&&this.length.encode(i,n,r),i}};W.Blob=Y2;class X2 extends De{constructor(e){super(-1,e)}getSpan(e,n=0){zs(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Pe(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Pm.Buffer.from(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=Pe(n);return i.copy(s,r),s[r+o]=0,o+1}}W.CString=X2;class Q2 extends De{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return zs(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Pe(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Pm.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Pe(n),r),o}}W.UTF8=Q2;class J2 extends De{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}W.Constant=J2;W.greedy=(t,e)=>new F2(t,e);var po=W.offset=(t,e,n)=>new Nm(t,e,n),Le=W.u8=t=>new ir(1,t),Yn=W.u16=t=>new ir(2,t);W.u24=t=>new ir(3,t);var me=W.u32=t=>new ir(4,t);W.u40=t=>new ir(5,t);W.u48=t=>new ir(6,t);var Wt=W.nu64=t=>new D2(t);W.u16be=t=>new yr(2,t);W.u24be=t=>new yr(3,t);W.u32be=t=>new yr(4,t);W.u40be=t=>new yr(5,t);W.u48be=t=>new yr(6,t);W.nu64be=t=>new U2(t);W.s8=t=>new Po(1,t);W.s16=t=>new Po(2,t);W.s24=t=>new Po(3,t);W.s32=t=>new Po(4,t);W.s40=t=>new Po(5,t);W.s48=t=>new Po(6,t);var Fn=W.ns64=t=>new j2(t);W.s16be=t=>new Hs(2,t);W.s24be=t=>new Hs(3,t);W.s32be=t=>new Hs(4,t);W.s40be=t=>new Hs(5,t);W.s48be=t=>new Hs(6,t);W.ns64be=t=>new $2(t);W.f32=t=>new V2(t);W.f32be=t=>new z2(t);W.f64=t=>new H2(t);W.f64be=t=>new W2(t);var ue=W.struct=(t,e,n)=>new K2(t,e,n);W.bits=(t,e,n)=>new Dm(t,e,n);var yn=W.seq=(t,e,n)=>new q2(t,e,n);W.union=(t,e,n)=>new Fm(t,e,n);W.unionLayoutDiscriminator=(t,e)=>new xc(t,e);var lt=W.blob=(t,e)=>new Y2(t,e);W.cstr=t=>new X2(t);W.utf8=(t,e)=>new Q2(t,e);W.constant=(t,e)=>new J2(t,e);var w4=8078e3,v4=8078001,_4=8078004,x4=8078005,b4=8078006,S4=8078011;function eS(t){return Array.isArray(t)?"%5B"+t.map(eS).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function E4([t,e]){return`${t}=${eS(e)}`}function k4(t){const e=Object.entries(t).map(E4).join("&");return btoa(e)}function A4(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${k4(e)}'`),`${n}\``}}var vs=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=A4(e,r);super(o,i);It(this,"cause",this.cause);It(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function T4(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function C4(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(T4(e,t));return t.write(e,n,0),n}})}function R4(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function zo(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function B4(t,e){if(zo(t)!==zo(e))throw new vs(_4);if(zo(t)&&zo(e)&&t.fixedSize!==e.fixedSize)throw new vs(x4,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!zo(t)&&!zo(e)&&t.maxSize!==e.maxSize)throw new vs(b4,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function M4(t,e,n=0){if(e.length-n<=0)throw new vs(w4,{codecDescription:t})}function I4(t,e,n,r=0){const i=n.length-r;if(i<e)throw new vs(v4,{bytesLength:i,codecDescription:t,expected:e})}function P4(t,e,n,r){if(r<e||r>n)throw new vs(S4,{codecDescription:t,max:n,min:e,value:r})}function tS(t){return(t==null?void 0:t.endian)!==1}function L4(t){return C4({fixedSize:t.size,write(e,n,r){t.range&&P4(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,tS(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function N4(t){return R4({fixedSize:t.size,read(e,n=0){M4(t.name,e,n),I4(t.name,t.size,e,n);const r=new DataView(O4(e,n,t.size));return[t.get(r,tS(t.config)),n+t.size]}})}function O4(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var F4=(t={})=>L4({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),D4=(t={})=>N4({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),U4=(t={})=>B4(F4(t),D4(t));class j4 extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function $4(t){return bl(t)&&typeof t[Symbol.iterator]=="function"}function bl(t){return typeof t=="object"&&t!=null}function bc(t){return bl(t)&&!Array.isArray(t)}function vr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function V4(t){const{done:e,value:n}=t.next();return e?void 0:n}function z4(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${vr(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*dw(t,e,n,r){$4(t)||(t=[t]);for(const i of t){const o=z4(i,e,n,r);o&&(yield o)}}function*jm(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,u]of e.entries(t,a)){const f=jm(d,u,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const p of f)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):o&&(d=p[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):bl(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Ur=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const d=i(l,c);return dw(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return dw(d,c,this,l)}:this.refiner=()=>[]}assert(e,n){return H4(e,this,n)}create(e,n){return oe(e,this,n)}is(e){return nS(e,this)}mask(e,n){return W4(e,this,n)}validate(e,n={}){return Sl(e,this,n)}};function H4(t,e,n){const r=Sl(t,e,{message:n});if(r[0])throw r[0]}function oe(t,e,n){const r=Sl(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function W4(t,e,n){const r=Sl(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function nS(t,e){return!Sl(t,e)[0]}function Sl(t,e,n={}){const r=jm(t,e,n),i=V4(r);return i[0]?[new j4(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Lo(t,e){return new Ur({type:t,schema:null,validator:e})}function q4(){return Lo("any",()=>!0)}function se(t){return new Ur({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${vr(e)}`}})}function Or(){return Lo("boolean",t=>typeof t=="boolean")}function $m(t){return Lo("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${vr(e)}`)}function Xe(t){const e=vr(t),n=typeof t;return new Ur({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${vr(r)}`}})}function K4(){return Lo("never",()=>!1)}function ae(t){return new Ur({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return Lo("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${vr(t)}`)}function de(t){return new Ur({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function rS(t,e){return new Ur({type:"record",schema:null,*entries(n){if(bl(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return bc(n)||`Expected an object, but received: ${vr(n)}`},coercer(n){return bc(n)?{...n}:n}})}function ie(){return Lo("string",t=>typeof t=="string"||`Expected a string, but received: ${vr(t)}`)}function Vm(t){const e=K4();return new Ur({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${vr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Q(t){const e=Object.keys(t);return new Ur({type:"type",schema:t,*entries(n){if(bl(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return bc(n)||`Expected an object, but received: ${vr(n)}`},coercer(n){return bc(n)?{...n}:n}})}function vn(t){const e=t.map(n=>n.type).join(" | ");return new Ur({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=jm(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${vr(n)}`,...i]}})}function Ws(){return Lo("unknown",()=>!0)}function El(t,e,n){return new Ur({...t,coercer:(r,i)=>nS(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var uu,G4=new Uint8Array(16);function iS(){if(!uu&&(uu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uu(G4)}const Z4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lf(t){return typeof t=="string"&&Z4.test(t)}var Ht=[];for(var Qd=0;Qd<256;++Qd)Ht.push((Qd+256).toString(16).substr(1));function uf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ht[t[e+0]]+Ht[t[e+1]]+Ht[t[e+2]]+Ht[t[e+3]]+"-"+Ht[t[e+4]]+Ht[t[e+5]]+"-"+Ht[t[e+6]]+Ht[t[e+7]]+"-"+Ht[t[e+8]]+Ht[t[e+9]]+"-"+Ht[t[e+10]]+Ht[t[e+11]]+Ht[t[e+12]]+Ht[t[e+13]]+Ht[t[e+14]]+Ht[t[e+15]]).toLowerCase();if(!lf(n))throw TypeError("Stringified UUID is invalid");return n}var hw,Jd,eh=0,th=0;function Y4(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||hw,s=t.clockseq!==void 0?t.clockseq:Jd;if(o==null||s==null){var a=t.random||(t.rng||iS)();o==null&&(o=hw=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Jd=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:th+1,d=l-eh+(c-th)/1e4;if(d<0&&t.clockseq===void 0&&(s=s+1&16383),(d<0||l>eh)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");eh=l,th=c,Jd=s,l+=122192928e5;var u=((l&268435455)*1e4+c)%4294967296;i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=u&255;var f=l/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var p=0;p<6;++p)i[r+p]=o[p];return e||uf(i)}function oS(t){if(!lf(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function X4(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Q4="6ba7b810-9dad-11d1-80b4-00c04fd430c8",J4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function sS(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=X4(i)),typeof o=="string"&&(o=oS(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return uf(l)}try{r.name=t}catch{}return r.DNS=Q4,r.URL=J4,r}function eP(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return tP(nP(rP(t),t.length*8))}function tP(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function aS(t){return(t+64>>>9<<4)+14+1}function nP(t,e){t[e>>5]|=128<<e%32,t[aS(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,l=r,c=i,d=o;n=rn(n,r,i,o,t[s],7,-680876936),o=rn(o,n,r,i,t[s+1],12,-389564586),i=rn(i,o,n,r,t[s+2],17,606105819),r=rn(r,i,o,n,t[s+3],22,-1044525330),n=rn(n,r,i,o,t[s+4],7,-176418897),o=rn(o,n,r,i,t[s+5],12,1200080426),i=rn(i,o,n,r,t[s+6],17,-1473231341),r=rn(r,i,o,n,t[s+7],22,-45705983),n=rn(n,r,i,o,t[s+8],7,1770035416),o=rn(o,n,r,i,t[s+9],12,-1958414417),i=rn(i,o,n,r,t[s+10],17,-42063),r=rn(r,i,o,n,t[s+11],22,-1990404162),n=rn(n,r,i,o,t[s+12],7,1804603682),o=rn(o,n,r,i,t[s+13],12,-40341101),i=rn(i,o,n,r,t[s+14],17,-1502002290),r=rn(r,i,o,n,t[s+15],22,1236535329),n=on(n,r,i,o,t[s+1],5,-165796510),o=on(o,n,r,i,t[s+6],9,-1069501632),i=on(i,o,n,r,t[s+11],14,643717713),r=on(r,i,o,n,t[s],20,-373897302),n=on(n,r,i,o,t[s+5],5,-701558691),o=on(o,n,r,i,t[s+10],9,38016083),i=on(i,o,n,r,t[s+15],14,-660478335),r=on(r,i,o,n,t[s+4],20,-405537848),n=on(n,r,i,o,t[s+9],5,568446438),o=on(o,n,r,i,t[s+14],9,-1019803690),i=on(i,o,n,r,t[s+3],14,-187363961),r=on(r,i,o,n,t[s+8],20,1163531501),n=on(n,r,i,o,t[s+13],5,-1444681467),o=on(o,n,r,i,t[s+2],9,-51403784),i=on(i,o,n,r,t[s+7],14,1735328473),r=on(r,i,o,n,t[s+12],20,-1926607734),n=sn(n,r,i,o,t[s+5],4,-378558),o=sn(o,n,r,i,t[s+8],11,-2022574463),i=sn(i,o,n,r,t[s+11],16,1839030562),r=sn(r,i,o,n,t[s+14],23,-35309556),n=sn(n,r,i,o,t[s+1],4,-1530992060),o=sn(o,n,r,i,t[s+4],11,1272893353),i=sn(i,o,n,r,t[s+7],16,-155497632),r=sn(r,i,o,n,t[s+10],23,-1094730640),n=sn(n,r,i,o,t[s+13],4,681279174),o=sn(o,n,r,i,t[s],11,-358537222),i=sn(i,o,n,r,t[s+3],16,-722521979),r=sn(r,i,o,n,t[s+6],23,76029189),n=sn(n,r,i,o,t[s+9],4,-640364487),o=sn(o,n,r,i,t[s+12],11,-421815835),i=sn(i,o,n,r,t[s+15],16,530742520),r=sn(r,i,o,n,t[s+2],23,-995338651),n=an(n,r,i,o,t[s],6,-198630844),o=an(o,n,r,i,t[s+7],10,1126891415),i=an(i,o,n,r,t[s+14],15,-1416354905),r=an(r,i,o,n,t[s+5],21,-57434055),n=an(n,r,i,o,t[s+12],6,1700485571),o=an(o,n,r,i,t[s+3],10,-1894986606),i=an(i,o,n,r,t[s+10],15,-1051523),r=an(r,i,o,n,t[s+1],21,-2054922799),n=an(n,r,i,o,t[s+8],6,1873313359),o=an(o,n,r,i,t[s+15],10,-30611744),i=an(i,o,n,r,t[s+6],15,-1560198380),r=an(r,i,o,n,t[s+13],21,1309151649),n=an(n,r,i,o,t[s+4],6,-145523070),o=an(o,n,r,i,t[s+11],10,-1120210379),i=an(i,o,n,r,t[s+2],15,718787259),r=an(r,i,o,n,t[s+9],21,-343485551),n=Ti(n,a),r=Ti(r,l),i=Ti(i,c),o=Ti(o,d)}return[n,r,i,o]}function rP(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(aS(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Ti(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function iP(t,e){return t<<e|t>>>32-e}function cf(t,e,n,r,i,o){return Ti(iP(Ti(Ti(e,t),Ti(r,o)),i),n)}function rn(t,e,n,r,i,o,s){return cf(e&n|~e&r,t,e,i,o,s)}function on(t,e,n,r,i,o,s){return cf(e&r|n&~r,t,e,i,o,s)}function sn(t,e,n,r,i,o,s){return cf(e^n^r,t,e,i,o,s)}function an(t,e,n,r,i,o,s){return cf(n^(e|~r),t,e,i,o,s)}var oP=sS("v3",48,eP);function sP(t,e,n){t=t||{};var r=t.random||(t.rng||iS)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return uf(r)}function aP(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function nh(t,e){return t<<e|t>>>32-e}function lP(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=c}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var u=0;u<s;++u){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[u][p];for(var m=16;m<80;++m)f[m]=nh(f[m-3]^f[m-8]^f[m-14]^f[m-16],1);for(var v=n[0],b=n[1],_=n[2],E=n[3],S=n[4],M=0;M<80;++M){var O=Math.floor(M/20),$=nh(v,5)+aP(O,b,_,E)+S+e[O]+f[M]>>>0;S=E,E=_,_=nh(b,30)>>>0,b=v,v=$}n[0]=n[0]+v>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+_>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+S>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var uP=sS("v5",80,lP);const cP="00000000-0000-0000-0000-000000000000";function fP(t){if(!lf(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const dP=Object.freeze(Object.defineProperty({__proto__:null,NIL:cP,parse:oS,stringify:uf,v1:Y4,v3:oP,v4:sP,v5:uP,validate:lf,version:fP},Symbol.toStringTag,{value:"Module"})),lS=s0(dP),hP=lS.v4,pP=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return hP()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var mP=pP;const gP=lS.v4,yP=mP,ol=function(t,e){if(!(this instanceof ol))return new ol(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return gP()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var wP=ol;ol.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{o=yP(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c){r(d);return}throw d}if(!c)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){r(c);return}return this.callServer(l,function(c,d){i._parseResponse(c,d,r)}),o};ol.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e){n();return}let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){n(i);return}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};n(null,r.filter(i),r.filter(o));return}else{n(null,r.error,r.result);return}n(null,r)};const vP=Ds(wP);var uS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,u||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)e.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,p=u.length,m=new Array(p);f<p;f++)m[f]=u[f].fn;return m},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,f,p,m){var v=n?n+c:c;if(!this._events[v])return!1;var b=this._events[v],_=arguments.length,E,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,f),!0;case 5:return b.fn.call(b.context,d,u,f,p),!0;case 6:return b.fn.call(b.context,d,u,f,p,m),!0}for(S=1,E=new Array(_-1);S<_;S++)E[S-1]=arguments[S];b.fn.apply(b.context,E)}else{var M=b.length,O;for(S=0;S<M;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),_){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,u);break;case 4:b[S].fn.call(b[S].context,d,u,f);break;default:if(!E)for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];b[S].fn.apply(b[S].context,E)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,f){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!u||m.context===u)&&s(this,p);else{for(var v=0,b=[],_=m.length;v<_;v++)(m[v].fn!==d||f&&!m[v].once||u&&m[v].context!==u)&&b.push(m[v]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(uS);var _P=uS.exports;const cS=Ds(_P);var xP=class extends cS{constructor(e,n){super();It(this,"socket");this.socket=new window.WebSocket(e,n.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function bP(t,e){return new xP(t,e)}var SP=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},EP=class extends cS{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();It(this,"address");It(this,"rpc_id");It(this,"queue");It(this,"options");It(this,"autoconnect");It(this,"ready");It(this,"reconnect");It(this,"reconnect_timer_id");It(this,"reconnect_interval");It(this,"max_reconnects");It(this,"rest_options");It(this,"current_reconnects");It(this,"generate_request_id");It(this,"socket");It(this,"webSocketFactory");It(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new SP,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket&&this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=xe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,i),1))})}};class fS extends n2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,e2(e);const r=Em(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Is(o)}update(e){return hc(this),this.iHash.update(e),this}digestInto(e){hc(this),Mo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dS=(t,e,n)=>new fS(t,e).update(n).digest();dS.create=(t,e)=>new fS(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pw=(t,e)=>(t+(t>=0?e:-e)/hS)/e;function kP(t,e,n){const[[r,i],[o,s]]=e,a=pw(s*t,n),l=pw(-i*t,n);let c=t-a*r-l*o,d=-a*i-l*s;const u=c<ei,f=d<ei;u&&(c=-c),f&&(d=-d);const p=_l(Math.ceil(u2(n)/2))+_s;if(c<ei||c>=p||d<ei||d>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:u,k1:c,k2neg:f,k2:d}}function Fp(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function rh(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return So(n.lowS,"lowS"),So(n.prehash,"prehash"),n.format!==void 0&&Fp(n.format),n}class AP extends Error{constructor(e=""){super(e)}}const Gr={Err:AP,_tlv:{encode:(t,e)=>{const{Err:n}=Gr;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=su(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?su(i.length/2|128):"";return su(t)+o+i+e},decode(t,e){const{Err:n}=Gr;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Gr;if(t<ei)throw new e("integer: negative integers are not allowed");let n=su(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Gr;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return rf(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Gr,i=at("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Gr,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},ei=BigInt(0),_s=BigInt(1),hS=BigInt(2),cu=BigInt(3),TP=BigInt(4);function us(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=at("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function CP(t,e={}){const n=k2("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;xl(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=mS(r,i);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function u(X,C,h){const{x:y,y:k}=C.toAffine(),B=r.toBytes(y);if(So(h,"isCompressed"),h){d();const T=!r.isOdd(k);return Br(pS(T),B)}else return Br(Uint8Array.of(4),B,r.toBytes(k))}function f(X){pr(X,void 0,"Point");const{publicKey:C,publicKeyUncompressed:h}=c,y=X.length,k=X[0],B=X.subarray(1);if(y===C&&(k===2||k===3)){const T=r.fromBytes(B);if(!r.isValid(T))throw new Error("bad point: is not on curve, wrong x");const I=v(T);let N;try{N=r.sqrt(I)}catch(L){const J=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+J)}d();const A=r.isOdd(N);return(k&1)===1!==A&&(N=r.neg(N)),{x:T,y:N}}else if(y===h&&k===4){const T=r.BYTES,I=r.fromBytes(B.subarray(0,T)),N=r.fromBytes(B.subarray(T,T*2));if(!b(I,N))throw new Error("bad point: is not on curve");return{x:I,y:N}}else throw new Error(`bad point: got length ${y}, expected compressed=${C} or uncompressed=${h}`)}const p=e.toBytes||u,m=e.fromBytes||f;function v(X){const C=r.sqr(X),h=r.mul(C,X);return r.add(r.add(h,r.mul(X,o.a)),o.b)}function b(X,C){const h=r.sqr(C),y=v(X);return r.eql(h,y)}if(!b(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const _=r.mul(r.pow(o.a,cu),TP),E=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(_,E)))throw new Error("bad curve params: a or b");function S(X,C,h=!1){if(!r.isValid(C)||h&&r.is0(C))throw new Error(`bad point coordinate ${X}`);return C}function M(X){if(!(X instanceof F))throw new Error("ProjectivePoint expected")}function O(X){if(!l||!l.basises)throw new Error("no endo");return kP(X,l.basises,i.ORDER)}const $=mc((X,C)=>{const{X:h,Y:y,Z:k}=X;if(r.eql(k,r.ONE))return{x:h,y};const B=X.is0();C==null&&(C=B?r.ONE:r.inv(k));const T=r.mul(h,C),I=r.mul(y,C),N=r.mul(k,C);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:T,y:I}}),U=mc(X=>{if(X.is0()){if(e.allowInfinityPoint&&!r.is0(X.Y))return;throw new Error("bad point: ZERO")}const{x:C,y:h}=X.toAffine();if(!r.isValid(C)||!r.isValid(h))throw new Error("bad point: x or y not field elements");if(!b(C,h))throw new Error("bad point: equation left != right");if(!X.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function V(X,C,h,y,k){return h=new F(r.mul(h.X,X),h.Y,h.Z),C=gc(y,C),h=gc(k,h),C.add(h)}class F{constructor(C,h,y){this.X=S("x",C),this.Y=S("y",h,!0),this.Z=S("z",y),Object.freeze(this)}static CURVE(){return o}static fromAffine(C){const{x:h,y}=C||{};if(!C||!r.isValid(h)||!r.isValid(y))throw new Error("invalid affine point");if(C instanceof F)throw new Error("projective point not allowed");return r.is0(h)&&r.is0(y)?F.ZERO:new F(h,y,r.ONE)}static fromBytes(C){const h=F.fromAffine(m(pr(C,void 0,"point")));return h.assertValidity(),h}static fromHex(C){return F.fromBytes(at("pointHex",C))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(C=8,h=!0){return Y.createCache(this,C),h||this.multiply(cu),this}assertValidity(){U(this)}hasEvenY(){const{y:C}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(C)}equals(C){M(C);const{X:h,Y:y,Z:k}=this,{X:B,Y:T,Z:I}=C,N=r.eql(r.mul(h,I),r.mul(B,k)),A=r.eql(r.mul(y,I),r.mul(T,k));return N&&A}negate(){return new F(this.X,r.neg(this.Y),this.Z)}double(){const{a:C,b:h}=o,y=r.mul(h,cu),{X:k,Y:B,Z:T}=this;let I=r.ZERO,N=r.ZERO,A=r.ZERO,g=r.mul(k,k),L=r.mul(B,B),J=r.mul(T,T),te=r.mul(k,B);return te=r.add(te,te),A=r.mul(k,T),A=r.add(A,A),I=r.mul(C,A),N=r.mul(y,J),N=r.add(I,N),I=r.sub(L,N),N=r.add(L,N),N=r.mul(I,N),I=r.mul(te,I),A=r.mul(y,A),J=r.mul(C,J),te=r.sub(g,J),te=r.mul(C,te),te=r.add(te,A),A=r.add(g,g),g=r.add(A,g),g=r.add(g,J),g=r.mul(g,te),N=r.add(N,g),J=r.mul(B,T),J=r.add(J,J),g=r.mul(J,te),I=r.sub(I,g),A=r.mul(J,L),A=r.add(A,A),A=r.add(A,A),new F(I,N,A)}add(C){M(C);const{X:h,Y:y,Z:k}=this,{X:B,Y:T,Z:I}=C;let N=r.ZERO,A=r.ZERO,g=r.ZERO;const L=o.a,J=r.mul(o.b,cu);let te=r.mul(h,B),re=r.mul(y,T),he=r.mul(k,I),pe=r.add(h,y),fe=r.add(B,T);pe=r.mul(pe,fe),fe=r.add(te,re),pe=r.sub(pe,fe),fe=r.add(h,k);let Ae=r.add(B,I);return fe=r.mul(fe,Ae),Ae=r.add(te,he),fe=r.sub(fe,Ae),Ae=r.add(y,k),N=r.add(T,I),Ae=r.mul(Ae,N),N=r.add(re,he),Ae=r.sub(Ae,N),g=r.mul(L,fe),N=r.mul(J,he),g=r.add(N,g),N=r.sub(re,g),g=r.add(re,g),A=r.mul(N,g),re=r.add(te,te),re=r.add(re,te),he=r.mul(L,he),fe=r.mul(J,fe),re=r.add(re,he),he=r.sub(te,he),he=r.mul(L,he),fe=r.add(fe,he),te=r.mul(re,fe),A=r.add(A,te),te=r.mul(Ae,fe),N=r.mul(pe,N),N=r.sub(N,te),te=r.mul(pe,re),g=r.mul(Ae,g),g=r.add(g,te),new F(N,A,g)}subtract(C){return this.add(C.negate())}is0(){return this.equals(F.ZERO)}multiply(C){const{endo:h}=e;if(!i.isValidNot0(C))throw new Error("invalid scalar: out of range");let y,k;const B=T=>Y.cached(this,T,I=>ao(F,I));if(h){const{k1neg:T,k1:I,k2neg:N,k2:A}=O(C),{p:g,f:L}=B(I),{p:J,f:te}=B(A);k=L.add(te),y=V(h.beta,g,J,T,N)}else{const{p:T,f:I}=B(C);y=T,k=I}return ao(F,[y,k])[0]}multiplyUnsafe(C){const{endo:h}=e,y=this;if(!i.isValid(C))throw new Error("invalid scalar: out of range");if(C===ei||y.is0())return F.ZERO;if(C===_s)return y;if(Y.hasCache(this))return this.multiply(C);if(h){const{k1neg:k,k1:B,k2neg:T,k2:I}=O(C),{p1:N,p2:A}=kI(F,y,B,I);return V(h.beta,N,A,k,T)}else return Y.unsafe(y,C)}multiplyAndAddUnsafe(C,h,y){const k=this.multiplyUnsafe(h).add(C.multiplyUnsafe(y));return k.is0()?void 0:k}toAffine(C){return $(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return s===_s?!0:C?C(F,this):Y.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:C}=e;return s===_s?this:C?C(F,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(C=!0){return So(C,"isCompressed"),this.assertValidity(),p(F,this,C)}toHex(C=!0){return ho(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(C=!0){return this.toBytes(C)}_setWindowSize(C){this.precompute(C)}static normalizeZ(C){return ao(F,C)}static msm(C,h){return E2(F,i,C,h)}static fromPrivateKey(C){return F.BASE.multiply(us(i,C))}}F.BASE=new F(o.Gx,o.Gy,r.ONE),F.ZERO=new F(r.ZERO,r.ONE,r.ZERO),F.Fp=r,F.Fn=i;const Z=i.BITS,Y=new S2(F,e.endo?Math.ceil(Z/2):Z);return F.BASE.precompute(8),F}function pS(t){return Uint8Array.of(t?2:3)}function mS(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function RP(t,e={}){const{Fn:n}=t,r=e.randomBytes||km,i=Object.assign(mS(t.Fp,n),{seed:_2(n.ORDER)});function o(p){try{return!!us(n,p)}catch{return!1}}function s(p,m){const{publicKey:v,publicKeyUncompressed:b}=i;try{const _=p.length;return m===!0&&_!==v||m===!1&&_!==b?!1:!!t.fromBytes(p)}catch{return!1}}function a(p=r(i.seed)){return bI(pr(p,i.seed,"seed"),n.ORDER)}function l(p,m=!0){return t.BASE.multiply(us(n,p)).toBytes(m)}function c(p){const m=a(p);return{secretKey:m,publicKey:l(m)}}function d(p){if(typeof p=="bigint")return!1;if(p instanceof t)return!0;const{secretKey:m,publicKey:v,publicKeyUncompressed:b}=i;if(n.allowedLengths||m===v)return;const _=at("key",p).length;return _===v||_===b}function u(p,m,v=!0){if(d(p)===!0)throw new Error("first arg must be private key");if(d(m)===!1)throw new Error("second arg must be public key");const b=us(n,p);return t.fromHex(m).multiply(b).toBytes(v)}return Object.freeze({getPublicKey:l,getSharedSecret:u,keygen:c,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:p=>us(n,p),precompute(p=8,m=t.BASE){return m.precompute(p,!1)}},lengths:i})}function BP(t,e,n={}){e2(e),xl(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||km,i=n.hmac||((h,...y)=>dS(e,h,Br(...y))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s,{keygen:c,getPublicKey:d,getSharedSecret:u,utils:f,lengths:p}=RP(t,n),m={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},v="compact";function b(h){const y=a>>_s;return h>y}function _(h,y){if(!s.isValidNot0(y))throw new Error(`invalid signature ${h}: out of range 1..Point.Fn.ORDER`);return y}function E(h,y){Fp(y);const k=p.signature,B=y==="compact"?k:y==="recovered"?k+1:void 0;return pr(h,B,`${y} signature`)}class S{constructor(y,k,B){this.r=_("r",y),this.s=_("s",k),B!=null&&(this.recovery=B),Object.freeze(this)}static fromBytes(y,k=v){E(y,k);let B;if(k==="der"){const{r:A,s:g}=Gr.toSig(pr(y));return new S(A,g)}k==="recovered"&&(B=y[0],k="compact",y=y.subarray(1));const T=s.BYTES,I=y.subarray(0,T),N=y.subarray(T,T*2);return new S(s.fromBytes(I),s.fromBytes(N),B)}static fromHex(y,k){return this.fromBytes(pc(y),k)}addRecoveryBit(y){return new S(this.r,this.s,y)}recoverPublicKey(y){const k=o.ORDER,{r:B,s:T,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(a*hS<k&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=I===2||I===3?B+a:B;if(!o.isValid(A))throw new Error("recovery id 2 or 3 invalid");const g=o.toBytes(A),L=t.fromBytes(Br(pS((I&1)===0),g)),J=s.inv(A),te=O(at("msgHash",y)),re=s.create(-te*J),he=s.create(T*J),pe=t.BASE.multiplyUnsafe(re).add(L.multiplyUnsafe(he));if(pe.is0())throw new Error("point at infinify");return pe.assertValidity(),pe}hasHighS(){return b(this.s)}toBytes(y=v){if(Fp(y),y==="der")return pc(Gr.hexFromSig(this));const k=s.toBytes(this.r),B=s.toBytes(this.s);if(y==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Br(Uint8Array.of(this.recovery),k,B)}return Br(k,B)}toHex(y){return ho(this.toBytes(y))}assertValidity(){}static fromCompact(y){return S.fromBytes(at("sig",y),"compact")}static fromDER(y){return S.fromBytes(at("sig",y),"der")}normalizeS(){return this.hasHighS()?new S(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ho(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ho(this.toBytes("compact"))}}const M=n.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");const k=rf(y),B=y.length*8-l;return B>0?k>>BigInt(B):k},O=n.bits2int_modN||function(y){return s.create(M(y))},$=_l(l);function U(h){return Lp("num < 2^"+l,h,ei,$),s.toBytes(h)}function V(h,y){return pr(h,void 0,"message"),y?pr(e(h),void 0,"prehashed message"):h}function F(h,y,k){if(["recovered","canonical"].some(re=>re in k))throw new Error("sign() legacy options not supported");const{lowS:B,prehash:T,extraEntropy:I}=rh(k,m);h=V(h,T);const N=O(h),A=us(s,y),g=[U(A),U(N)];if(I!=null&&I!==!1){const re=I===!0?r(p.secretKey):I;g.push(at("extraEntropy",re))}const L=Br(...g),J=N;function te(re){const he=M(re);if(!s.isValidNot0(he))return;const pe=s.inv(he),fe=t.BASE.multiply(he).toAffine(),Ae=s.create(fe.x);if(Ae===ei)return;const Te=s.create(pe*s.create(J+Ae*A));if(Te===ei)return;let ee=(fe.x===Ae?0:2)|Number(fe.y&_s),Ce=Te;return B&&b(Te)&&(Ce=s.neg(Te),ee^=1),new S(Ae,Ce,ee)}return{seed:L,k2sig:te}}function Z(h,y,k={}){h=at("message",h);const{seed:B,k2sig:T}=F(h,y,k);return dI(e.outputLen,s.BYTES,i)(B,T)}function Y(h){let y;const k=typeof h=="string"||vl(h),B=!k&&h!==null&&typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!k&&!B)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(B)y=new S(h.r,h.s);else if(k){try{y=S.fromBytes(at("sig",h),"der")}catch(T){if(!(T instanceof Gr.Err))throw T}if(!y)try{y=S.fromBytes(at("sig",h),"compact")}catch{return!1}}return y||!1}function X(h,y,k,B={}){const{lowS:T,prehash:I,format:N}=rh(B,m);if(k=at("publicKey",k),y=V(at("message",y),I),"strict"in B)throw new Error("options.strict was renamed to lowS");const A=N===void 0?Y(h):S.fromBytes(at("sig",h),N);if(A===!1)return!1;try{const g=t.fromBytes(k);if(T&&A.hasHighS())return!1;const{r:L,s:J}=A,te=O(y),re=s.inv(J),he=s.create(te*re),pe=s.create(L*re),fe=t.BASE.multiplyUnsafe(he).add(g.multiplyUnsafe(pe));return fe.is0()?!1:s.create(fe.x)===L}catch{return!1}}function C(h,y,k={}){const{prehash:B}=rh(k,m);return y=V(y,B),S.fromBytes(h,"recovered").recoverPublicKey(y).toBytes()}return Object.freeze({keygen:c,getPublicKey:d,getSharedSecret:u,utils:f,lengths:p,Point:t,sign:Z,verify:X,recoverPublicKey:C,Signature:S,hash:e})}function MP(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=Io(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function IP(t){const{CURVE:e,curveOpts:n}=MP(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function PP(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,w2(n.Fn.ORDER,n.Fn.BITS))})}function LP(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=IP(t),o=CP(e,n),s=BP(o,r,i);return PP(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NP(t,e){const n=r=>LP({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zm={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},OP={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},mw=BigInt(2);function FP(t){const e=zm.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,u=st(d,n,e)*d%e,f=st(u,n,e)*d%e,p=st(f,mw,e)*c%e,m=st(p,i,e)*p%e,v=st(m,o,e)*m%e,b=st(v,a,e)*v%e,_=st(b,l,e)*b%e,E=st(_,a,e)*v%e,S=st(E,n,e)*d%e,M=st(S,s,e)*m%e,O=st(M,r,e)*c%e,$=st(O,mw,e);if(!Dp.eql(Dp.sqr($),t))throw new Error("Cannot find square root");return $}const Dp=Io(zm.p,{sqrt:FP}),DP=NP({...zm,Fp:Dp,lowS:!0,endo:OP},s2);Vs.utils.randomPrivateKey;const gw=()=>{const t=Vs.utils.randomPrivateKey(),e=Up(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Up=Vs.getPublicKey;function yw(t){try{return Vs.ExtendedPoint.fromHex(t),!0}catch{return!1}}const UP=(t,e)=>Vs.sign(t,e.slice(0,32)),jP=Vs.verify,Kt=t=>xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):xe.Buffer.from(t);class $P{constructor(e){Object.assign(this,e)}encode(){return xe.Buffer.from(N2(Tu,this))}static decode(e){return O2(Tu,this,e)}static decodeUnchecked(e){return B2(Tu,this,e)}}const Tu=new Map;var gS;const VP=32,Fi=32;function zP(t){return t._bn!==void 0}let ww=1;class ge extends $P{constructor(e){if(super({}),this._bn=void 0,zP(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Zt.decode(e);if(n.length!=Fi)throw new Error("Invalid public key input");this._bn=new cw(n)}else this._bn=new cw(e);if(this._bn.byteLength()>Fi)throw new Error("Invalid public key input")}}static unique(){const e=new ge(ww);return ww+=1,new ge(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Zt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xe.Buffer);if(e.length===Fi)return e;const n=xe.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=xe.Buffer.concat([e.toBuffer(),xe.Buffer.from(n),r.toBuffer()]),o=fw(i);return new ge(o)}static createProgramAddressSync(e,n){let r=xe.Buffer.alloc(0);e.forEach(function(o){if(o.length>VP)throw new TypeError("Max seed length exceeded");r=xe.Buffer.concat([r,Kt(o)])}),r=xe.Buffer.concat([r,n.toBuffer(),xe.Buffer.from("ProgramDerivedAddress")]);const i=fw(r);if(yw(i))throw new Error("Invalid seeds, address must fall off the curve");return new ge(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(xe.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new ge(e);return yw(n.toBytes())}}gS=ge;ge.default=new gS("11111111111111111111111111111111");Tu.set(ge,{kind:"struct",fields:[["_bn","u256"]]});new ge("BPFLoader1111111111111111111111111111111111");const xs=1232,yS=127,wS=64;class vS extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(vS.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class _S extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(_S.prototype,"name",{value:"TransactionExpiredTimeoutError"});class wa extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(wa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Sc{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Re=(t="publicKey")=>lt(32,t),cs=(t="string")=>{const e=ue([me("length"),me("lengthPadding"),lt(po(me(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:xe.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>me().span+me().span+xe.Buffer.from(o,"utf8").length,i},HP=(t="authorized")=>ue([Re("staker"),Re("withdrawer")],t),WP=(t="lockup")=>ue([Fn("unixTimestamp"),Fn("epoch"),Re("custodian")],t),qP=(t="voteInit")=>ue([Re("nodePubkey"),Re("authorizedVoter"),Re("authorizedWithdrawer"),Le("commission")],t),KP=(t="voteAuthorizeWithSeedArgs")=>ue([me("voteAuthorizationType"),Re("currentAuthorityDerivedKeyOwnerPubkey"),cs("currentAuthorityDerivedKeySeed"),Re("newAuthorized")],t);function xS(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return xS({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Xn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Qn(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Lt(t,e){if(!t)throw new Error(e||"Assertion failed")}class ff{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new ff(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Lt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Lt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Lt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new ge(l)),...r.map(([l])=>new ge(l)),...i.map(([l])=>new ge(l)),...o.map(([l])=>new ge(l))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new ge(o),l=e.findIndex(c=>c.equals(a));l>=0&&(Lt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const bS="Reached end of buffer unexpectedly";function Yr(t){if(t.length===0)throw new Error(bS);return t.shift()}function Jn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(bS);return t.splice(...e)}class Vi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new ge(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Zt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Sc(this.staticAccountKeys)}static compile(e){const n=ff.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new Sc(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Zt.encode(a.data)}));return new Vi({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Qn(n,e);const r=this.instructions.map(u=>{const{accounts:f,programIdIndex:p}=u,m=Array.from(Zt.decode(u.data));let v=[];Qn(v,f.length);let b=[];return Qn(b,m.length),{programIdIndex:p,keyIndicesCount:xe.Buffer.from(v),keyIndices:f,dataLength:xe.Buffer.from(b),data:m}});let i=[];Qn(i,r.length);let o=xe.Buffer.alloc(xs);xe.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const p=ue([Le("programIdIndex"),lt(u.keyIndicesCount.length,"keyIndicesCount"),yn(Le("keyIndex"),u.keyIndices.length,"keyIndices"),lt(u.dataLength.length,"dataLength"),yn(Le("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=p}),o=o.slice(0,s);const a=ue([lt(1,"numRequiredSignatures"),lt(1,"numReadonlySignedAccounts"),lt(1,"numReadonlyUnsignedAccounts"),lt(n.length,"keyCount"),yn(Re("key"),e,"keys"),Re("recentBlockhash")]),l={numRequiredSignatures:xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:xe.Buffer.from(n),keys:this.accountKeys.map(u=>Kt(u.toBytes())),recentBlockhash:Zt.decode(this.recentBlockhash)};let c=xe.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(e){let n=[...e];const r=Yr(n);if(r!==(r&yS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Yr(n),o=Yr(n),s=Xn(n);let a=[];for(let f=0;f<s;f++){const p=Jn(n,0,Fi);a.push(new ge(xe.Buffer.from(p)))}const l=Jn(n,0,Fi),c=Xn(n);let d=[];for(let f=0;f<c;f++){const p=Yr(n),m=Xn(n),v=Jn(n,0,m),b=Xn(n),_=Jn(n,0,b),E=Zt.encode(xe.Buffer.from(_));d.push({programIdIndex:p,accounts:v,data:E})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Zt.encode(xe.Buffer.from(l)),accountKeys:a,instructions:d};return new Vi(u)}}class Ec{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Sc(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=ff.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[f,{writable:p,readonly:m}]=u;r.push(f),i.writable.push(...p),i.readonly.push(...m)}}const[s,a]=n.getMessageComponents(),c=new Sc(a,i).compileInstructions(e.instructions);return new Ec({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Qn(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Qn(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();Qn(o,this.addressTableLookups.length);const s=ue([Le("prefix"),ue([Le("numRequiredSignatures"),Le("numReadonlySignedAccounts"),Le("numReadonlyUnsignedAccounts")],"header"),lt(e.length,"staticAccountKeysLength"),yn(Re(),this.staticAccountKeys.length,"staticAccountKeys"),Re("recentBlockhash"),lt(r.length,"instructionsLength"),lt(n.length,"serializedInstructions"),lt(o.length,"addressTableLookupsLength"),lt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(xs),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:Zt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(xs);for(const r of this.compiledInstructions){const i=Array();Qn(i,r.accountKeyIndexes.length);const o=Array();Qn(o,r.data.length);const s=ue([Le("programIdIndex"),lt(i.length,"encodedAccountKeyIndexesLength"),yn(Le(),r.accountKeyIndexes.length,"accountKeyIndexes"),lt(o.length,"encodedDataLength"),lt(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(xs);for(const r of this.addressTableLookups){const i=Array();Qn(i,r.writableIndexes.length);const o=Array();Qn(o,r.readonlyIndexes.length);const s=ue([Re("accountKey"),lt(i.length,"encodedWritableIndexesLength"),yn(Le(),r.writableIndexes.length,"writableIndexes"),lt(o.length,"encodedReadonlyIndexesLength"),yn(Le(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Yr(n),i=r&yS;Lt(r!==i,"Expected versioned message but received legacy message");const o=i;Lt(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Yr(n),numReadonlySignedAccounts:Yr(n),numReadonlyUnsignedAccounts:Yr(n)},a=[],l=Xn(n);for(let m=0;m<l;m++)a.push(new ge(Jn(n,0,Fi)));const c=Zt.encode(Jn(n,0,Fi)),d=Xn(n),u=[];for(let m=0;m<d;m++){const v=Yr(n),b=Xn(n),_=Jn(n,0,b),E=Xn(n),S=new Uint8Array(Jn(n,0,E));u.push({programIdIndex:v,accountKeyIndexes:_,data:S})}const f=Xn(n),p=[];for(let m=0;m<f;m++){const v=new ge(Jn(n,0,Fi)),b=Xn(n),_=Jn(n,0,b),E=Xn(n),S=Jn(n,0,E);p.push({accountKey:v,writableIndexes:_,readonlyIndexes:S})}return new Ec({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:p})}}let yi=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const GP=xe.Buffer.alloc(wS).fill(0);class ur{constructor(e){this.keys=void 0,this.programId=void 0,this.data=xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Mr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new ur(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let v=0;v<n.length;v++)if(n[v].programId===void 0)throw new Error(`Transaction instruction index ${v} has undefined program id`);const i=[],o=[];n.forEach(v=>{v.keys.forEach(_=>{o.push({..._})});const b=v.programId.toString();i.includes(b)||i.push(b)}),i.forEach(v=>{o.push({pubkey:new ge(v),isSigner:!1,isWritable:!1})});const s=[];o.forEach(v=>{const b=v.pubkey.toString(),_=s.findIndex(E=>E.pubkey.toString()===b);_>-1?(s[_].isWritable=s[_].isWritable||v.isWritable,s[_].isSigner=s[_].isSigner||v.isSigner):s.push(v)}),s.sort(function(v,b){if(v.isSigner!==b.isSigner)return v.isSigner?-1:1;if(v.isWritable!==b.isWritable)return v.isWritable?-1:1;const _={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return v.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",_)});const a=s.findIndex(v=>v.pubkey.equals(r));if(a>-1){const[v]=s.splice(a,1);v.isSigner=!0,v.isWritable=!0,s.unshift(v)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const v of this.signatures){const b=s.findIndex(_=>_.pubkey.equals(v.publicKey));if(b>-1)s[b].isSigner||(s[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${v.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],f=[];s.forEach(({pubkey:v,isSigner:b,isWritable:_})=>{b?(u.push(v.toString()),l+=1,_||(c+=1)):(f.push(v.toString()),_||(d+=1))});const p=u.concat(f),m=n.map(v=>{const{data:b,programId:_}=v;return{programIdIndex:p.indexOf(_.toString()),accounts:v.keys.map(E=>p.indexOf(E.pubkey.toString())),data:Zt.encode(b)}});return m.forEach(v=>{Lt(v.programIdIndex>=0),v.accounts.forEach(b=>Lt(b>=0))}),new Vi({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:p,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=UP(r,i.secretKey);this._addSignature(i.publicKey,Kt(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Lt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=xe.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):jP(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Qn(r,n.length);const i=r.length+n.length*64+e.length,o=xe.Buffer.alloc(i);return Lt(n.length<256),xe.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Lt(s.length===64,"signature has invalid length"),xe.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),Lt(o.length<=xs,`Transaction too large: ${o.length} > ${xs}`),o}get keys(){return Lt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Lt(this.instructions.length===1),this.instructions[0].programId}get data(){return Lt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Xn(n);let i=[];for(let o=0;o<r;o++){const s=Jn(n,0,wS);i.push(Zt.encode(xe.Buffer.from(s)))}return Mr.populate(Vi.from(n),i)}static populate(e,n=[]){const r=new Mr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==Zt.encode(GP)?null:Zt.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new ur({keys:o,programId:e.accountKeys[i.programIdIndex],data:Zt.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}const ZP=160,YP=64,XP=ZP/YP,QP=1e3/XP;new ge("SysvarC1ock11111111111111111111111111111111");new ge("SysvarEpochSchedu1e111111111111111111111111");new ge("Sysvar1nstructions1111111111111111111111111");const ih=new ge("SysvarRecentB1ockHashes11111111111111111111"),vw=new ge("SysvarRent111111111111111111111111111111111");new ge("SysvarRewards111111111111111111111111111111");new ge("SysvarS1otHashes111111111111111111111111111");new ge("SysvarS1otHistory11111111111111111111111111");new ge("SysvarStakeHistory1111111111111111111111111");class _w extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ce extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Wo(t){return new Promise(e=>setTimeout(e,t))}function qn(t,e){const n=t.layout.span>=0?t.layout.span:xS(t,e),r=xe.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const JP=Wt("lamportsPerSignature"),SS=ue([me("version"),me("state"),Re("authorizedPubkey"),Re("nonce"),ue([JP],"feeCalculator")]),xw=SS.span;class Hm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=SS.decode(Kt(e),0);return new Hm({authorizedPubkey:new ge(n.authorizedPubkey),nonce:new ge(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Ns(t){const e=lt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=U4();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}const Kn=Object.freeze({Create:{index:0,layout:ue([me("instruction"),Fn("lamports"),Fn("space"),Re("programId")])},Assign:{index:1,layout:ue([me("instruction"),Re("programId")])},Transfer:{index:2,layout:ue([me("instruction"),Ns("lamports")])},CreateWithSeed:{index:3,layout:ue([me("instruction"),Re("base"),cs("seed"),Fn("lamports"),Fn("space"),Re("programId")])},AdvanceNonceAccount:{index:4,layout:ue([me("instruction")])},WithdrawNonceAccount:{index:5,layout:ue([me("instruction"),Fn("lamports")])},InitializeNonceAccount:{index:6,layout:ue([me("instruction"),Re("authorized")])},AuthorizeNonceAccount:{index:7,layout:ue([me("instruction"),Re("authorized")])},Allocate:{index:8,layout:ue([me("instruction"),Fn("space")])},AllocateWithSeed:{index:9,layout:ue([me("instruction"),Re("base"),cs("seed"),Fn("space"),Re("programId")])},AssignWithSeed:{index:10,layout:ue([me("instruction"),Re("base"),cs("seed"),Re("programId")])},TransferWithSeed:{index:11,layout:ue([me("instruction"),Ns("lamports"),cs("seed"),Re("programId")])},UpgradeNonceAccount:{index:12,layout:ue([me("instruction")])}});class sl{constructor(){}static createAccount(e){const n=Kn.Create,r=qn(n,{lamports:e.lamports,space:e.space,programId:Kt(e.programId.toBuffer())});return new ur({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Kn.TransferWithSeed;n=qn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Kn.Transfer;n=qn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Kn.AssignWithSeed;n=qn(i,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Kn.Assign;n=qn(i,{programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Kn.CreateWithSeed,r=qn(n,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Kt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ur({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Mr;"basePubkey"in e&&"seed"in e?n.add(sl.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:xw,programId:this.programId})):n.add(sl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:xw,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Kn.InitializeNonceAccount,r=qn(n,{authorized:Kt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ih,isSigner:!1,isWritable:!1},{pubkey:vw,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ur(i)}static nonceAdvance(e){const n=Kn.AdvanceNonceAccount,r=qn(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ih,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ur(i)}static nonceWithdraw(e){const n=Kn.WithdrawNonceAccount,r=qn(n,{lamports:e.lamports});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ih,isSigner:!1,isWritable:!1},{pubkey:vw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Kn.AuthorizeNonceAccount,r=qn(n,{authorized:Kt(e.newAuthorizedPubkey.toBuffer())});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Kn.AllocateWithSeed;n=qn(i,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Kn.Allocate;n=qn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:n})}}sl.programId=new ge("11111111111111111111111111111111");new ge("BPFLoader2111111111111111111111111111111111");function e8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oh,bw;function t8(){if(bw)return oh;bw=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,u;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(u=t.call(r),u==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(u==="[object Object]"){for(l=e(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return oh=function(r){var i=n(r,!1);if(i!==void 0)return""+i},oh}var n8=t8(),Sw=e8(n8);const ua=32;function sh(t){let e=0;for(;t>1;)t/=2,e++;return e}function r8(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class i8{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=sh(r8(e+ua+1))-sh(ua)-1,r=this.getSlotsInEpoch(n),i=e-(r-ua);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*ua:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+sh(ua)):this.slotsPerEpoch}}var o8=globalThis.fetch;class s8 extends EP{constructor(e,n,r){const i=o=>{const s=bP(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function a8(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const Ew=56;class kw{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=a8(l8,e),r=e.length-Ew;Lt(r>=0,"lookup table is invalid"),Lt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=ue([yn(Re(),i,"addresses")]).decode(e.slice(Ew));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ge(n.authority[0]):void 0,addresses:o.map(s=>new ge(s))}}}const l8={index:1,layout:ue([me("typeIndex"),Ns("deactivationSlot"),Wt("lastExtendedSlot"),Le("lastExtendedStartIndex"),Le(),yn(Re(),po(Le(),-1),"authority")])},u8=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function c8(t){const e=t.match(u8);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const tt=El($m(ge),ie(),t=>new ge(t)),ES=Vm([ie(),Xe("base64")]),Wm=El($m(xe.Buffer),ES,t=>xe.Buffer.from(t[0],"base64")),f8=30*1e3;function d8(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Ue(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function Aw(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function kS(t){return vn([Q({jsonrpc:Xe("2.0"),id:ie(),result:t}),Q({jsonrpc:Xe("2.0"),id:ie(),error:Q({code:Ws(),message:ie(),data:de(q4())})})])}const h8=kS(Ws());function ke(t){return El(kS(t),h8,e=>"error"in e?e:{...e,result:oe(e.result,t)})}function ft(t){return ke(Q({context:Q({slot:H()}),value:t}))}function df(t){return Q({context:Q({slot:H()}),value:t})}function ah(t,e){return t===0?new Ec({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new ge(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Zt.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Vi(e)}const p8=Q({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),m8=ke(se(ae(Q({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:de(ae(H()))})))),g8=se(Q({slot:H(),prioritizationFee:H()})),y8=Q({total:H(),validator:H(),foundation:H(),epoch:H()}),w8=Q({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:de(H()),transactionCount:de(H())}),v8=Q({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:Or(),firstNormalEpoch:H(),firstNormalSlot:H()}),_8=rS(ie(),se(H())),No=ae(vn([Q({}),ie()])),x8=Q({err:No}),b8=Xe("receivedSignature"),S8=Q({"solana-core":ie(),"feature-set":de(H())}),E8=Q({program:ie(),programId:tt,parsed:Ws()}),k8=Q({programId:tt,accounts:se(tt),data:ie()}),Tw=ft(Q({err:ae(vn([Q({}),ie()])),logs:ae(se(ie())),accounts:de(ae(se(ae(Q({executable:Or(),owner:ie(),lamports:H(),data:se(ie()),rentEpoch:de(H())}))))),unitsConsumed:de(H()),returnData:de(ae(Q({programId:ie(),data:Vm([ie(),Xe("base64")])}))),innerInstructions:de(ae(se(Q({index:H(),instructions:se(vn([E8,k8]))}))))})),A8=ft(Q({byIdentity:rS(ie(),se(H())),range:Q({firstSlot:H(),lastSlot:H()})}));function T8(t,e,n,r,i,o){const s=n||o8;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,u)=>{const f=await new Promise((p,m)=>{try{r(d,u,(v,b)=>p([v,b]))}catch(v){m(v)}});return await s(...f)}),new vP(async(d,u)=>{const f={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},T6)};try{let p=5,m,v=500;for(;l?m=await l(t,f):m=await s(t,f),!(m.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${v}ms delay...`),await Wo(v),v*=2;const b=await m.text();m.ok?u(null,b):u(new Error(`${m.status} ${m.statusText}: ${b}`))}catch(p){p instanceof Error&&u(p)}},{})}function C8(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function R8(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const B8=ke(p8),M8=ke(y8),I8=ke(g8),P8=ke(w8),L8=ke(v8),N8=ke(_8),O8=ke(H()),F8=ft(Q({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:se(tt)})),jp=Q({amount:ie(),uiAmount:ae(H()),decimals:H(),uiAmountString:de(ie())}),D8=ft(se(Q({address:tt,amount:ie(),uiAmount:ae(H()),decimals:H(),uiAmountString:de(ie())}))),U8=ft(se(Q({pubkey:tt,account:Q({executable:Or(),owner:tt,lamports:H(),data:Wm,rentEpoch:H()})}))),$p=Q({program:ie(),parsed:Ws(),space:H()}),j8=ft(se(Q({pubkey:tt,account:Q({executable:Or(),owner:tt,lamports:H(),data:$p,rentEpoch:H()})}))),$8=ft(se(Q({lamports:H(),address:tt}))),al=Q({executable:Or(),owner:tt,lamports:H(),data:Wm,rentEpoch:H()}),V8=Q({pubkey:tt,account:al}),z8=El(vn([$m(xe.Buffer),$p]),vn([ES,$p]),t=>Array.isArray(t)?oe(t,Wm):t),Vp=Q({executable:Or(),owner:tt,lamports:H(),data:z8,rentEpoch:H()}),H8=Q({pubkey:tt,account:Vp}),W8=Q({state:vn([Xe("active"),Xe("inactive"),Xe("activating"),Xe("deactivating")]),active:H(),inactive:H()}),q8=ke(se(Q({signature:ie(),slot:H(),err:No,memo:ae(ie()),blockTime:de(ae(H()))}))),K8=ke(se(Q({signature:ie(),slot:H(),err:No,memo:ae(ie()),blockTime:de(ae(H()))}))),G8=Q({subscription:H(),result:df(al)}),Z8=Q({pubkey:tt,account:al}),Y8=Q({subscription:H(),result:df(Z8)}),X8=Q({parent:H(),slot:H(),root:H()}),Q8=Q({subscription:H(),result:X8}),J8=vn([Q({type:vn([Xe("firstShredReceived"),Xe("completed"),Xe("optimisticConfirmation"),Xe("root")]),slot:H(),timestamp:H()}),Q({type:Xe("createdBank"),parent:H(),slot:H(),timestamp:H()}),Q({type:Xe("frozen"),slot:H(),timestamp:H(),stats:Q({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),Q({type:Xe("dead"),slot:H(),timestamp:H(),err:ie()})]),e6=Q({subscription:H(),result:J8}),t6=Q({subscription:H(),result:df(vn([x8,b8]))}),n6=Q({subscription:H(),result:H()}),r6=Q({pubkey:ie(),gossip:ae(ie()),tpu:ae(ie()),rpc:ae(ie()),version:ae(ie())}),Cw=Q({votePubkey:ie(),nodePubkey:ie(),activatedStake:H(),epochVoteAccount:Or(),epochCredits:se(Vm([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ae(H())}),i6=ke(Q({current:se(Cw),delinquent:se(Cw)})),o6=vn([Xe("processed"),Xe("confirmed"),Xe("finalized")]),s6=Q({slot:H(),confirmations:ae(H()),err:No,confirmationStatus:de(o6)}),a6=ft(se(ae(s6))),l6=ke(H()),AS=Q({accountKey:tt,writableIndexes:se(H()),readonlyIndexes:se(H())}),qm=Q({signatures:se(ie()),message:Q({accountKeys:se(ie()),header:Q({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:se(Q({accounts:se(H()),data:ie(),programIdIndex:H()})),recentBlockhash:ie(),addressTableLookups:de(se(AS))})}),TS=Q({pubkey:tt,signer:Or(),writable:Or(),source:de(vn([Xe("transaction"),Xe("lookupTable")]))}),CS=Q({accountKeys:se(TS),signatures:se(ie())}),RS=Q({parsed:Ws(),program:ie(),programId:tt}),BS=Q({accounts:se(tt),data:ie(),programId:tt}),u6=vn([BS,RS]),c6=vn([Q({parsed:Ws(),program:ie(),programId:ie()}),Q({accounts:se(ie()),data:ie(),programId:ie()})]),MS=El(u6,c6,t=>"accounts"in t?oe(t,BS):oe(t,RS)),IS=Q({signatures:se(ie()),message:Q({accountKeys:se(TS),instructions:se(MS),recentBlockhash:ie(),addressTableLookups:de(ae(se(AS)))})}),kc=Q({accountIndex:H(),mint:ie(),owner:de(ie()),programId:de(ie()),uiTokenAmount:jp}),PS=Q({writable:se(tt),readonly:se(tt)}),hf=Q({err:No,fee:H(),innerInstructions:de(ae(se(Q({index:H(),instructions:se(Q({accounts:se(H()),data:ie(),programIdIndex:H()}))})))),preBalances:se(H()),postBalances:se(H()),logMessages:de(ae(se(ie()))),preTokenBalances:de(ae(se(kc))),postTokenBalances:de(ae(se(kc))),loadedAddresses:de(PS),computeUnitsConsumed:de(H()),costUnits:de(H())}),Km=Q({err:No,fee:H(),innerInstructions:de(ae(se(Q({index:H(),instructions:se(MS)})))),preBalances:se(H()),postBalances:se(H()),logMessages:de(ae(se(ie()))),preTokenBalances:de(ae(se(kc))),postTokenBalances:de(ae(se(kc))),loadedAddresses:de(PS),computeUnitsConsumed:de(H()),costUnits:de(H())}),qs=vn([Xe(0),Xe("legacy")]),Oo=Q({pubkey:ie(),lamports:H(),postBalance:ae(H()),rewardType:ae(ie()),commission:de(ae(H()))}),f6=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:se(Q({transaction:qm,meta:ae(hf),version:de(qs)})),rewards:de(se(Oo)),blockTime:ae(H()),blockHeight:ae(H())}))),d6=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:de(se(Oo)),blockTime:ae(H()),blockHeight:ae(H())}))),h6=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:se(Q({transaction:CS,meta:ae(hf),version:de(qs)})),rewards:de(se(Oo)),blockTime:ae(H()),blockHeight:ae(H())}))),p6=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:se(Q({transaction:IS,meta:ae(Km),version:de(qs)})),rewards:de(se(Oo)),blockTime:ae(H()),blockHeight:ae(H())}))),m6=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:se(Q({transaction:CS,meta:ae(Km),version:de(qs)})),rewards:de(se(Oo)),blockTime:ae(H()),blockHeight:ae(H())}))),g6=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:de(se(Oo)),blockTime:ae(H()),blockHeight:ae(H())}))),y6=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:se(Q({transaction:qm,meta:ae(hf)})),rewards:de(se(Oo)),blockTime:ae(H())}))),Rw=ke(ae(Q({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),signatures:se(ie()),blockTime:ae(H())}))),lh=ke(ae(Q({slot:H(),meta:ae(hf),blockTime:de(ae(H())),transaction:qm,version:de(qs)}))),fu=ke(ae(Q({slot:H(),transaction:IS,meta:ae(Km),blockTime:de(ae(H())),version:de(qs)}))),w6=ft(Q({blockhash:ie(),lastValidBlockHeight:H()})),v6=ft(Or()),_6=Q({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),x6=ke(se(_6)),b6=ft(ae(Q({feeCalculator:Q({lamportsPerSignature:H()})}))),S6=ke(ie()),E6=ke(ie()),k6=Q({err:No,logs:se(ie()),signature:ie()}),A6=Q({result:df(k6),subscription:H()}),T6={"solana-client":"js/1.0.0-maintenance"};class LS{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:u,config:f}=Ue(d),p=this._buildArgs([],u,void 0,f),m=Sw(p);return c[m]=c[m]??(async()=>{try{const v=await this._rpcRequest("getBlockHeight",p),b=oe(v,ke(H()));if("error"in b)throw new ce(b.error,"failed to get block height information");return b.result}finally{delete c[m]}})(),await c[m]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=d8(e),this._rpcWsEndpoint=r||c8(e),this._rpcClient=T8(e,i,o,s,a,l),this._rpcRequest=C8(this._rpcClient),this._rpcBatchRequest=R8(this._rpcClient),this._rpcWebSocket=new s8(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=oe(s,ft(H()));if("error"in a)throw new ce(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=oe(n,ke(ae(H())));if("error"in r)throw new ce(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=oe(e,ke(H()));if("error"in n)throw new ce(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=oe(e,O8);if("error"in n)throw new ce(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=oe(r,F8);if("error"in i)throw new ce(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=oe(i,ft(jp));if("error"in o)throw new ce(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=oe(i,ft(jp));if("error"in o)throw new ce(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=Ue(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=oe(l,U8);if("error"in c)throw new ce(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=oe(s,j8);if("error"in a)throw new ce(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=oe(i,$8);if("error"in o)throw new ce(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=oe(i,D8);if("error"in o)throw new ce(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=oe(s,ft(ae(al)));if("error"in a)throw new ce(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=oe(s,ft(ae(Vp)));if("error"in a)throw new ce(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=Ue(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=oe(a,ft(se(ae(Vp))));if("error"in l)throw new ce(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=Ue(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=oe(a,ft(se(ae(al))));if("error"in l)throw new ce(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=Ue(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=oe(a,ke(W8));if("error"in l)throw new ce(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=Ue(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:Aw(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=se(V8),d=s.withContext===!0?oe(l,ft(c)):oe(l,ke(c));if("error"in d)throw new ce(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=oe(s,ke(se(H8)));if("error"in a)throw new ce(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Zt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Lt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(u,f)=>{r=void 0;const p={context:f,value:u};l({__type:yi.PROCESSED,response:p})},e);const d=new Promise(u=>{r==null?u():i=this._onSubscriptionStateChange(r,f=>{f==="subscribed"&&u()})});(async()=>{if(await d,o)return;const u=await this.getSignatureStatus(n);if(o||u==null)return;const{context:f,value:p}=u;if(p!=null)if(p!=null&&p.err)c(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:yi.PROCESSED,response:{context:f,value:p}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(u=>{const f=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await f();if(!o){for(;p<=r;)if(await Wo(1e3),o||(p=await f(),o))return;u({__type:yi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let d;try{const u=await Promise.race([c,l,s]);if(u.__type===yi.PROCESSED)d=u.response;else throw new vS(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(p=>{let m=o,v=null;const b=async()=>{try{const{context:_,value:E}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return v=_.slot,E==null?void 0:E.nonce}catch{return m}};(async()=>{if(m=await b(),!a)for(;;){if(o!==m){p({__type:yi.NONCE_INVALID,slotInWhichNonceDidAdvance:v});return}if(await Wo(2e3),a||(m=await b(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(n);let f;try{const p=await Promise.race([u,d,l]);if(p.__type===yi.PROCESSED)f=p.response;else{let m;for(;;){const v=await this.getSignatureStatus(s);if(v==null)break;if(v.context.slot<(p.slotInWhichNonceDidAdvance??r)){await Wo(400);continue}m=v;break}if(m!=null&&m.value){const v=e||"finalized",{confirmationStatus:b}=m.value;switch(v){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new wa(s);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new wa(s);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new wa(s);break;default:}f={context:m.context,value:{err:m.value.err}}}else throw new wa(s)}}finally{a=!0,c()}return f}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:yi.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===yi.PROCESSED)a=l.response;else throw new _S(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=oe(e,ke(se(r6)));if("error"in n)throw new ce(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=oe(r,i6);if("error"in i)throw new ce(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=Ue(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=oe(o,ke(H()));if("error"in s)throw new ce(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=Ue(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=oe(o,ke(ie()));if("error"in s)throw new ce(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=oe(i,ke(se(tt)));if("error"in o)throw new ce(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Lt(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=oe(i,a6);if("error"in o)throw new ce(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=Ue(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=oe(o,ke(H()));if("error"in s)throw new ce(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=oe(r,B8);if("error"in i)throw new ce(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=Ue(r),s=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=oe(a,m8);if("error"in l)throw new ce(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=oe(e,M8);if("error"in n)throw new ce(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Ue(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=oe(o,P8);if("error"in s)throw new ce(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=oe(e,L8);if("error"in n)throw new ce(n.error,"failed to get epoch schedule");const r=n.result;return new i8(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=oe(e,N8);if("error"in n)throw new ce(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=oe(i,l6);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=oe(n,x6);if("error"in r)throw new ce(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=oe(i,b6);if("error"in o)throw new ce(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Kt(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=oe(o,ft(ae(H())));if("error"in s)throw new ce(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=oe(i,I8);if("error"in o)throw new ce(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Ue(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=oe(o,w6);if("error"in s)throw new ce(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=oe(s,v6);if("error"in a)throw new ce(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=oe(e,ke(S8));if("error"in n)throw new ce(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=oe(e,ke(ie()));if("error"in n)throw new ce(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(s,h6);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(s,d6);if("error"in a)throw a.error;return a.result}default:{const a=oe(s,f6);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:u})=>({meta:d,transaction:{...c,message:ah(u,c.message)},version:u}))}:null}}}catch(a){throw new ce(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(s,m6);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(s,g6);if("error"in a)throw a.error;return a.result}default:{const a=oe(s,p6);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ce(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=oe(o,A8);if("error"in s)throw new ce(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=oe(s,lh);if("error"in a)throw new ce(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:ah(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=Ue(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=oe(s,fu);if("error"in a)throw new ce(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=Ue(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=oe(l,fu);if("error"in c)throw new ce(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=Ue(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=oe(l,lh);if("error"in c)throw new ce(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:ah(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=oe(i,y6);if("error"in o)throw new ce(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new Vi(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Mr.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=oe(o,ke(se(H())));if("error"in s)throw new ce(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=oe(i,Rw);if("error"in o)throw new ce(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=oe(i,Rw);if("error"in o)throw new ce(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=oe(i,lh);if("error"in o)throw new ce(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Vi(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Mr.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=oe(i,fu);if("error"in o)throw new ce(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=oe(s,fu);if("error"in a)throw new ce(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=oe(o,q8);if("error"in s)throw new ce(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=oe(o,K8);if("error"in s)throw new ce(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new kw({key:e,state:kw.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=Hm.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=oe(r,S6);if("error"in i)throw new ce(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Wo(100);const r=Date.now()-this._blockhashInfo.lastFetch>=f8;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Wo(QP/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Ue(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=oe(o,ft(H()));if("error"in s)throw new ce(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const v=e.serialize(),b=xe.Buffer.from(v).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const _=n||{};_.encoding="base64","commitment"in _||(_.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(_.innerInstructions=n.innerInstructions);const E=[b,_],S=await this._rpcRequest("simulateTransaction",E),M=oe(S,Tw);if("error"in M)throw new Error("failed to simulate transaction: "+M.error.message);return M.result}let i;if(e instanceof Mr){let m=e;i=new Mr,i.feePayer=m.feePayer,i.instructions=e.instructions,i.nonceInfo=m.nonceInfo,i.signatures=m.signatures}else i=Mr.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let m=this._disableBlockhashCaching;for(;;){const v=await this._blockhashWithExpiryBlockHeight(m);if(i.lastValidBlockHeight=v.lastValidBlockHeight,i.recentBlockhash=v.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const b=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else m=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:s.nonProgramIds()).map(v=>v.toBase58());d.accounts={encoding:"base64",addresses:m}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const u=[c,d],f=await this._rpcRequest("simulateTransaction",u),p=oe(f,Tw);if("error"in p){let m;if("data"in p.error&&(m=p.error.data.logs,m&&Array.isArray(m))){const v=`
    `,b=v+m.join(v);console.error(p.error.message,b)}throw new _w({action:"simulate",signature:"",transactionMessage:p.error.message,logs:m})}return p.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=Kt(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),l=oe(a,E6);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new _w({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=oe(e,G8);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=Sw([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];Lt(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=Ue(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=oe(e,Y8);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=Ue(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:Aw(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=oe(e,A6);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=oe(e,Q8);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=oe(e,e6);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=oe(e,t6);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=oe(e,n6);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class mo{constructor(e){this._keypair=void 0,this._keypair=e??gw()}static generate(){return new mo(gw())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),o=Up(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new mo({publicKey:r,secretKey:e})}static fromSeed(e){const n=Up(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new mo({publicKey:n,secretKey:r})}get publicKey(){return new ge(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ue([me("instruction"),Ns("recentSlot"),Le("bumpSeed")])},FreezeLookupTable:{index:1,layout:ue([me("instruction")])},ExtendLookupTable:{index:2,layout:ue([me("instruction"),Ns(),yn(Re(),po(me(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ue([me("instruction")])},CloseLookupTable:{index:4,layout:ue([me("instruction")])}});new ge("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ue([Le("instruction"),me("units"),me("additionalFee")])},RequestHeapFrame:{index:1,layout:ue([Le("instruction"),me("bytes")])},SetComputeUnitLimit:{index:2,layout:ue([Le("instruction"),me("units")])},SetComputeUnitPrice:{index:3,layout:ue([Le("instruction"),Ns("microLamports")])}});new ge("ComputeBudget111111111111111111111111111111");ue([Le("numSignatures"),Le("padding"),Yn("signatureOffset"),Yn("signatureInstructionIndex"),Yn("publicKeyOffset"),Yn("publicKeyInstructionIndex"),Yn("messageDataOffset"),Yn("messageDataSize"),Yn("messageInstructionIndex")]);new ge("Ed25519SigVerify111111111111111111111111111");DP.utils.isValidPrivateKey;ue([Le("numSignatures"),Yn("signatureOffset"),Le("signatureInstructionIndex"),Yn("ethAddressOffset"),Le("ethAddressInstructionIndex"),Yn("messageDataOffset"),Yn("messageDataSize"),Le("messageInstructionIndex"),lt(20,"ethAddress"),lt(64,"signature"),Le("recoveryId")]);new ge("KeccakSecp256k11111111111111111111111111111");var NS;new ge("StakeConfig11111111111111111111111111111111");class OS{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}NS=OS;OS.default=new NS(0,0,ge.default);Object.freeze({Initialize:{index:0,layout:ue([me("instruction"),HP(),WP()])},Authorize:{index:1,layout:ue([me("instruction"),Re("newAuthorized"),me("stakeAuthorizationType")])},Delegate:{index:2,layout:ue([me("instruction")])},Split:{index:3,layout:ue([me("instruction"),Fn("lamports")])},Withdraw:{index:4,layout:ue([me("instruction"),Fn("lamports")])},Deactivate:{index:5,layout:ue([me("instruction")])},Merge:{index:7,layout:ue([me("instruction")])},AuthorizeWithSeed:{index:8,layout:ue([me("instruction"),Re("newAuthorized"),me("stakeAuthorizationType"),cs("authoritySeed"),Re("authorityOwner")])}});new ge("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ue([me("instruction"),qP()])},Authorize:{index:1,layout:ue([me("instruction"),Re("newAuthorized"),me("voteAuthorizationType")])},Withdraw:{index:3,layout:ue([me("instruction"),Fn("lamports")])},UpdateValidatorIdentity:{index:4,layout:ue([me("instruction")])},AuthorizeWithSeed:{index:10,layout:ue([me("instruction"),KP()])}});new ge("Vote111111111111111111111111111111111111111");new ge("Va1idator1nfo111111111111111111111111111111");Q({name:ie(),website:de(ie()),details:de(ie()),iconUrl:de(ie()),keybaseUsername:de(ie())});new ge("Vote111111111111111111111111111111111111111");ue([Re("nodePubkey"),Re("authorizedWithdrawer"),Le("commission"),Wt(),yn(ue([Wt("slot"),me("confirmationCount")]),po(me(),-8),"votes"),Le("rootSlotValid"),Wt("rootSlot"),Wt(),yn(ue([Wt("epoch"),Re("authorizedVoter")]),po(me(),-8),"authorizedVoters"),ue([yn(ue([Re("authorizedPubkey"),Wt("epochOfLastAuthorizedSwitch"),Wt("targetEpoch")]),32,"buf"),Wt("idx"),Le("isEmpty")],"priorVoters"),Wt(),yn(ue([Wt("epoch"),Wt("credits"),Wt("prevCredits")]),po(me(),-8),"epochCredits"),ue([Wt("slot"),Wt("timestamp")],"lastTimestamp")]);const FS=1e9;function C6(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,v=0,b=0,_=p.length;b!==_&&p[b]===0;)b++,m++;for(var E=(_-b)*c+1>>>0,S=new Uint8Array(E);b!==_;){for(var M=p[b],O=0,$=E-1;(M!==0||O<v)&&$!==-1;$--,O++)M+=256*S[$]>>>0,S[$]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");v=O,b++}for(var U=E-v;U!==E&&S[U]===0;)U++;for(var V=a.repeat(m);U<E;++U)V+=t.charAt(S[U]);return V}function u(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var m=0,v=0,b=0;p[m]===a;)v++,m++;for(var _=(p.length-m)*l+1>>>0,E=new Uint8Array(_);p[m];){var S=p.charCodeAt(m);if(S>255)return;var M=e[S];if(M===255)return;for(var O=0,$=_-1;(M!==0||O<b)&&$!==-1;$--,O++)M+=s*E[$]>>>0,E[$]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");b=O,m++}for(var U=_-b;U!==_&&E[U]===0;)U++;for(var V=new Uint8Array(v+(_-U)),F=v;U!==_;)V[F++]=E[U++];return V}function f(p){var m=u(p);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:u,decode:f}}var R6=C6;const B6=R6,M6="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var I6=B6(M6);const Gm=Ds(I6),DS="https://api.mainnet-beta.solana.com";function P6(){const t=mo.generate();return{publicKey:t.publicKey.toBase58(),secretKey:Gm.encode(t.secretKey)}}function L6(t){try{const e=Gm.decode(t);return{publicKey:mo.fromSecretKey(e).publicKey.toBase58(),secretKey:t}}catch{return null}}async function N6(t){try{const e=new LS(DS,"confirmed"),n=new ge(t);return await e.getBalance(n)/FS}catch(e){return console.error("Failed to get balance:",e),0}}async function O6(t,e,n){try{const r=new LS(DS,"confirmed"),i=Gm.decode(t),o=mo.fromSecretKey(i),s=new ge(e),a=Math.floor(n*FS),l=new Mr().add(sl.transfer({fromPubkey:o.publicKey,toPubkey:s,lamports:a})),{blockhash:c}=await r.getLatestBlockhash();l.recentBlockhash=c,l.feePayer=o.publicKey;const d=await r.sendTransaction(l,[o]);return await r.confirmTransaction(d,"confirmed"),{success:!0,signature:d}}catch(r){return console.error("Transfer failed:",r),{success:!1,error:r.message||"Transfer failed"}}}function F6(t){try{return new ge(t),!0}catch{return!1}}const D6=()=>{const{theme:t,colors:e,setTheme:n}=Ax(),r=G.useMemo(()=>Array.from({length:20}).map((ee,Ce)=>({id:Ce,x:Math.random()*100,y:Math.random()*100,size:Math.random()*3+1,duration:Math.random()*20+10,delay:Math.random()*5})),[]),[i,o]=G.useState("plinko"),[s,a]=G.useState(null),[l,c]=G.useState(0),[d,u]=G.useState(!1),[f,p]=G.useState(()=>{const ee=localStorage.getItem("surfsol_demo_balance"),Ce=ee?Number(ee):1;return Number.isFinite(Ce)?Ce:1}),[m,v]=G.useState(!1),[b,_]=G.useState(!1),[E,S]=G.useState(!1),[M,O]=G.useState(!1),[$,U]=G.useState([]),[V,F]=G.useState(!1),[Z,Y]=G.useState(""),[X,C]=G.useState(""),[h,y]=G.useState(!1),[k,B]=G.useState(""),[T,I]=G.useState(()=>localStorage.getItem("surfsol_music")==="1"),[N,A]=G.useState(()=>localStorage.getItem("surfsol_sfx")!=="0"),[g,L]=G.useState(!0),[J,te]=G.useState(null);G.useEffect(()=>{const ee=localStorage.getItem("surfsol_wallet_secret");if(ee){const Ce=L6(ee);Ce&&a(Ce)}},[]);const re=G.useCallback(()=>{const ee=P6();a(ee),localStorage.setItem("surfsol_wallet_secret",ee.secretKey),O(!0)},[]),he=G.useCallback(async()=>{if(s!=null&&s.publicKey){u(!0);try{const ee=await N6(s.publicKey);c(ee)}catch(ee){console.error("Failed to fetch balance:",ee)}finally{u(!1)}}},[s==null?void 0:s.publicKey]);G.useEffect(()=>{if(s!=null&&s.publicKey){he();const ee=setInterval(he,3e4);return()=>clearInterval(ee)}},[s==null?void 0:s.publicKey,he]),G.useEffect(()=>{localStorage.setItem("surfsol_demo_balance",String(f))},[f]);const pe=G.useCallback(async()=>{F(!0);try{const Ce=await fetch("http://localhost:8000/api/leaderboard");if(Ce.ok){const Ne=await Ce.json();Array.isArray(Ne)&&Ne.length>0&&U(Ne)}}catch(ee){console.error("Failed to fetch leaderboard:",ee)}finally{F(!1)}},[]);G.useEffect(()=>{pe()},[pe]),G.useEffect(()=>{localStorage.setItem("surfsol_music",T?"1":"0"),T?PM(t,.15):LM()},[T,t]),G.useEffect(()=>{localStorage.setItem("surfsol_sfx",N?"1":"0"),RM(N)},[N]);const fe=async()=>{if(!(s!=null&&s.secretKey)||!Z||!X)return;const ee=parseFloat(X);if(isNaN(ee)||ee<=0||ee>l){B("Invalid amount");return}if(!F6(Z)){B("Invalid Solana address");return}y(!0),B("");try{const Ce=await O6(s.secretKey,Z,ee);Ce.success?(Y(""),C(""),await he()):B(Ce.error||"Withdrawal failed")}catch(Ce){B(Ce.message||"Withdrawal failed")}finally{y(!1)}},Ae=(s==null?void 0:s.publicKey)||"";G.useMemo(()=>Ae?`${Ae.slice(0,6)}${Ae.slice(-6)}`:"",[Ae]);const Te=async()=>{if(Ae)try{await navigator.clipboard.writeText(Ae),S(!0),setTimeout(()=>S(!1),2e3)}catch{const ee=document.createElement("textarea");ee.value=Ae,document.body.appendChild(ee),ee.select(),document.execCommand("copy"),document.body.removeChild(ee),S(!0),setTimeout(()=>S(!1),2e3)}};return D.jsxs("div",{className:"min-h-screen relative overflow-hidden",style:{background:e.background,color:e.text},children:[D.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-50",style:{background:`radial-gradient(ellipse at 50% 0%, ${e.primary}25, transparent 50%),
                       radial-gradient(ellipse at 80% 80%, ${e.secondary}15, transparent 40%)`}}),g&&D.jsx("div",{className:"absolute inset-0 pointer-events-none",children:r.map(ee=>D.jsx(Me.div,{className:"absolute rounded-full",style:{background:e.accent,left:`${ee.x}%`,top:`${ee.y}%`,width:`${ee.size}px`,height:`${ee.size}px`},animate:{y:[0,-100,0],opacity:[0,1,0],scale:[1,1.5,1]},transition:{duration:ee.duration,delay:ee.delay,repeat:1/0,ease:"easeInOut"}},ee.id))}),D.jsxs("header",{className:"sticky top-0 z-50 backdrop-blur-xl border-b px-3 py-2",style:{background:`${e.surface}95`,borderColor:`${e.text}10`},children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${e.primary}, ${e.secondary})`},children:D.jsx("span",{className:"text-base",children:""})}),D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center gap-1",children:[D.jsx("h1",{className:"text-sm font-black tracking-tight leading-none",children:"SURFSOL"}),J&&J>0&&D.jsx(Me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"text-yellow-400",children:D.jsx(qT,{className:"w-4 h-4 fill-current"})})]}),D.jsx("p",{className:"text-[9px] uppercase tracking-wider font-bold",style:{color:e.accent},children:m?"Real Mode":"Demo Mode"})]})]}),D.jsxs("div",{className:"flex items-center gap-1.5",children:[D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>v(!m),className:"px-2 py-1 rounded-lg border text-[10px] font-bold uppercase",style:{borderColor:m?"#22c55e":e.accent,background:m?"rgba(34, 197, 94, 0.2)":`${e.accent}20`,color:m?"#22c55e":e.accent},children:m?"Real":"Demo"}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:async()=>{await Qb(),I(!T)},className:"p-1.5 rounded-lg border",style:{borderColor:T?e.accent:`${e.text}20`,background:T?`${e.accent}20`:`${e.text}05`},children:T?D.jsx(ZT,{className:"w-4 h-4",style:{color:e.accent}}):D.jsx(YT,{className:"w-4 h-4",style:{color:e.textMuted}})}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>A(!N),className:"p-1.5 rounded-lg border",style:{borderColor:N?e.accent:`${e.text}20`,background:N?`${e.accent}20`:`${e.text}05`},children:N?D.jsx(yp,{className:"w-4 h-4",style:{color:e.accent}}):D.jsx(yp,{className:"w-4 h-4",style:{color:e.textMuted,opacity:.5}})}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>L(!g),className:"p-1.5 rounded-lg border",style:{borderColor:g?e.accent:`${e.text}20`,background:g?`${e.accent}20`:`${e.text}05`},children:g?D.jsx(Hy,{className:"w-4 h-4",style:{color:e.accent}}):D.jsx(Hy,{className:"w-4 h-4",style:{color:e.textMuted,opacity:.5}})}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>_(!b),className:"p-1.5 rounded-lg border",style:{borderColor:`${e.text}20`,background:`${e.text}05`},children:D.jsx(VT,{className:"w-4 h-4",style:{color:e.textMuted}})})]})]}),D.jsx(La,{children:b&&D.jsx(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 flex gap-1.5 overflow-hidden",children:Object.keys(Ra).map(ee=>D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>{n(ee),_(!1)},className:"flex-1 py-1.5 rounded-lg border font-bold text-[10px] uppercase",style:{borderColor:t===ee?e.accent:`${e.text}20`,background:t===ee?`${e.accent}20`:`${e.text}05`,color:t===ee?e.accent:e.textMuted},children:ee},ee))})})]}),D.jsx("main",{className:"pb-20",children:D.jsxs(La,{mode:"wait",children:[i==="plinko"&&D.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:D.jsx(OM,{demoBalance:m?l:f,setDemoBalance:m?()=>{}:p})},"plinko"),i==="wallet"&&D.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-3 space-y-3",children:D.jsxs("div",{className:"rounded-2xl p-4 border",style:{background:`${e.surface}80`,borderColor:`${e.text}10`},children:[D.jsxs("div",{className:"flex items-center justify-between mb-3",children:[D.jsx("span",{className:"text-xs font-black uppercase tracking-widest",style:{color:e.textMuted},children:"Solana Wallet"}),D.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded",style:{background:`${e.accent}20`,color:e.accent},children:"Mainnet"})]}),s?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"rounded-xl p-3 mb-3",style:{background:`${e.background}80`,border:`1px solid ${e.text}10`},children:[D.jsx("div",{className:"text-[10px] mb-1",style:{color:e.textMuted},children:"Address"}),D.jsx("div",{className:"font-mono text-xs break-all mb-2",children:Ae}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsxs(Me.button,{whileTap:{scale:.95},onClick:Te,className:"px-2 py-1 rounded-lg border text-xs font-bold inline-flex items-center gap-1",style:{borderColor:`${e.text}20`,background:`${e.text}05`},children:[D.jsx(jT,{className:"w-3 h-3"}),E?"Copied!":"Copy"]}),D.jsxs("a",{href:`https://solscan.io/account/${Ae}`,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 rounded-lg border text-xs font-bold inline-flex items-center gap-1",style:{borderColor:`${e.text}20`,background:`${e.text}05`},children:[D.jsx(zy,{className:"w-3 h-3"}),"Explorer"]})]})]}),D.jsxs("div",{className:"rounded-xl p-3 mb-3",style:{background:`linear-gradient(135deg, ${e.primary}20, ${e.secondary}10)`,border:`1px solid ${e.text}10`},children:[D.jsxs("div",{className:"flex items-center justify-between mb-1",children:[D.jsx("span",{className:"text-[10px] font-bold uppercase",style:{color:e.textMuted},children:"Real Balance"}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:he,disabled:d,className:"p-1 rounded",style:{background:`${e.text}10`},children:D.jsx(gp,{className:`w-3 h-3 ${d?"animate-spin":""}`})})]}),D.jsxs("div",{className:"text-2xl font-black",children:[l.toFixed(4)," ",D.jsx("span",{className:"text-sm opacity-60",children:"SOL"})]})]}),D.jsxs("div",{className:"rounded-xl p-3 mb-3",style:{background:`${e.background}80`,border:`1px solid ${e.text}10`},children:[D.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[D.jsx(zT,{className:"w-3 h-3",style:{color:e.accent}}),D.jsx("span",{className:"text-xs font-bold",children:"Deposit SOL"})]}),D.jsx("div",{className:"flex justify-center",children:D.jsx("div",{className:"bg-white p-2 rounded-xl",children:D.jsx(TM,{value:`solana:${Ae}`,size:140})})}),D.jsx("p",{className:"text-[10px] mt-2 text-center",style:{color:e.textMuted},children:"Send SOL to this address to deposit"})]}),D.jsxs("div",{className:"rounded-xl p-3",style:{background:`${e.background}80`,border:`1px solid ${e.text}10`},children:[D.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[D.jsx(HT,{className:"w-3 h-3",style:{color:e.accent}}),D.jsx("span",{className:"text-xs font-bold",children:"Withdraw SOL"})]}),D.jsx("input",{type:"text",placeholder:"Recipient address",value:Z,onChange:ee=>Y(ee.target.value),className:"w-full px-3 py-2 rounded-lg border text-xs mb-2",style:{borderColor:`${e.text}20`,background:`${e.text}05`}}),D.jsxs("div",{className:"flex gap-2 mb-2",children:[D.jsx("input",{type:"number",placeholder:"Amount",value:X,onChange:ee=>C(ee.target.value),className:"flex-1 px-3 py-2 rounded-lg border text-xs",style:{borderColor:`${e.text}20`,background:`${e.text}05`},step:.001}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:fe,disabled:h||!Z||!X,className:"px-4 py-2 rounded-lg font-bold text-xs",style:{background:`linear-gradient(135deg, ${e.primary}, ${e.secondary})`,opacity:h?.5:1},children:h?"Sending...":"Send"})]}),k&&D.jsx("p",{className:"text-[10px] text-red-400",children:k})]}),D.jsxs("div",{className:"mt-3 rounded-xl p-3",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsx("span",{className:"text-[10px] font-bold text-red-400",children:" PRIVATE KEY (Save this!)"}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>O(!M),className:"text-[10px] font-bold px-2 py-0.5 rounded",style:{background:"rgba(239, 68, 68, 0.2)",color:"#f87171"},children:M?"Hide":"Show"})]}),M&&D.jsx("div",{className:"font-mono text-[9px] break-all p-2 rounded bg-black/30 text-red-300",children:s.secretKey}),D.jsx("p",{className:"text-[9px] text-red-300 mt-1",children:"Save this key offline. We cannot recover your funds if lost!"})]})]}):D.jsxs("div",{className:"text-center py-8",children:[D.jsx("p",{className:"text-sm mb-4",style:{color:e.textMuted},children:"Generate a real Solana wallet to deposit and play with real SOL"}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:re,className:"px-6 py-3 rounded-xl font-bold",style:{background:`linear-gradient(135deg, ${e.primary}, ${e.secondary})`},children:"Generate Wallet"})]})]})},"wallet"),i==="leaderboard"&&D.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-3",children:D.jsxs("div",{className:"rounded-2xl p-4 border",style:{background:`${e.surface}80`,borderColor:`${e.text}10`},children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(Wy,{className:"w-5 h-5",style:{color:e.accent}}),D.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Top Players"})]}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:pe,disabled:V,className:"p-1.5 rounded-lg",style:{background:`${e.text}10`},children:D.jsx(gp,{className:`w-4 h-4 ${V?"animate-spin":""}`,style:{color:e.textMuted}})})]}),V&&$.length===0?D.jsxs("div",{className:"text-center py-8",children:[D.jsx("div",{className:"animate-spin w-8 h-8 border-2 rounded-full mx-auto mb-2",style:{borderColor:e.accent,borderTopColor:"transparent"}}),D.jsx("p",{className:"text-xs",style:{color:e.textMuted},children:"Loading leaderboard..."})]}):$.length===0?D.jsx("div",{className:"text-center py-8",children:D.jsx("p",{className:"text-sm",style:{color:e.textMuted},children:"No players yet. Be the first!"})}):D.jsx("div",{className:"space-y-2",children:$.map((ee,Ce)=>D.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl",style:{background:Ce<3?`linear-gradient(135deg, ${Ce===0?"rgba(255, 215, 0, 0.15)":Ce===1?"rgba(192, 192, 192, 0.15)":"rgba(205, 127, 50, 0.15)"}, transparent)`:`${e.background}60`,border:`1px solid ${e.text}10`},children:[D.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center font-black text-sm",style:{background:Ce===0?"#ffd700":Ce===1?"#c0c0c0":Ce===2?"#cd7f32":`${e.text}20`,color:Ce<3?"#000":e.text},children:ee.rank}),D.jsx("div",{className:"flex-1",children:D.jsx("div",{className:"font-bold text-sm",children:ee.username})}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsxs("div",{className:"text-right",children:[D.jsx("div",{className:"font-black text-sm",style:{color:e.accent},children:ee.balance.toFixed(2)}),D.jsx("div",{className:"text-[10px]",style:{color:e.textMuted},children:"SOL"})]}),D.jsx(Me.a,{href:`https://solscan.io/account/${ee.public_key}`,target:"_blank",rel:"noopener noreferrer",whileTap:{scale:.9},className:"p-1.5 rounded-lg border",style:{borderColor:`${e.text}20`,background:`${e.text}05`},title:"View on Solscan",children:D.jsx(zy,{className:"w-3 h-3",style:{color:e.textMuted}})})]})]},Ce))})]})},"leaderboard"),i==="settings"&&D.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-3 space-y-3",children:D.jsxs("div",{className:"rounded-2xl p-4 border",style:{background:`${e.surface}80`,borderColor:`${e.text}10`},children:[D.jsx("h2",{className:"text-sm font-black mb-4",children:"Settings"}),D.jsxs("div",{className:"mb-4",children:[D.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:e.textMuted},children:"Theme"}),D.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:Object.keys(Ra).map(ee=>D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>n(ee),className:"py-2 rounded-lg border font-bold text-[10px] uppercase",style:{borderColor:t===ee?e.accent:`${e.text}20`,background:t===ee?`${e.accent}20`:`${e.text}05`,color:t===ee?e.accent:e.textMuted},children:ee},ee))})]}),D.jsxs("div",{className:"mb-4",children:[D.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2",style:{color:e.textMuted},children:"Demo Balance"}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsxs("div",{className:"text-lg font-black",children:[f.toFixed(4)," SOL"]}),D.jsx(Me.button,{whileTap:{scale:.95},onClick:()=>p(1),className:"px-3 py-1.5 rounded-lg border font-bold text-xs",style:{borderColor:`${e.text}20`,background:`${e.text}05`},children:"Reset to 1 SOL"})]})]}),D.jsxs("div",{className:"rounded-xl p-3",style:{background:`${e.background}80`,border:`1px solid ${e.text}10`},children:[D.jsx("div",{className:"text-xs font-bold mb-1",children:"About SurfSol"}),D.jsx("p",{className:"text-[10px]",style:{color:e.textMuted},children:"Provably fair Plinko on Solana. Generate a real wallet to deposit and play with real SOL. Demo mode uses virtual balance. House edge: 3-5% depending on risk level."})]})]})},"settings")]})}),D.jsx("nav",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-xl border-t px-2 py-2 flex justify-around items-center z-50",style:{background:`${e.surface}98`,borderColor:`${e.text}10`},children:[{id:"plinko",icon:"",label:"Play"},{id:"wallet",icon:D.jsx(XT,{className:"w-5 h-5"}),label:"Wallet"},{id:"leaderboard",icon:D.jsx(Wy,{className:"w-5 h-5"}),label:"Ranks"},{id:"settings",icon:D.jsx(WT,{className:"w-5 h-5"}),label:"Settings"}].map(ee=>D.jsxs(Me.button,{whileTap:{scale:.9},onClick:()=>o(ee.id),className:"flex flex-col items-center gap-0.5 py-1 px-3",children:[D.jsx("div",{className:"text-xl",style:{color:i===ee.id?e.accent:e.textMuted,filter:i===ee.id?`drop-shadow(0 0 6px ${e.glow})`:"none"},children:(typeof ee.icon=="string",ee.icon)}),D.jsx("span",{className:"text-[9px] font-bold uppercase",style:{color:i===ee.id?e.accent:e.textMuted},children:ee.label})]},ee.id))})]})};class Eo extends Error{constructor(e,n,r){super(typeof n=="object"?n.message:n||e,{cause:typeof n=="object"?n.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,Eo.prototype)}}function U6(t){return t.replace(/_[a-z]/g,e=>e[1].toUpperCase())}const j6="ERR_INVALID_VALUE",$6="ERR_UNEXPECTED_VALUE",V6="ERR_UNEXPECTED_TYPE",US="ERR_PARSE";function z6(t,e){const n={};for(const r in t){const i=t[r];if(!i)continue;let o,s;typeof i=="function"?(o=r,s=i):[o,s]=i;try{const a=s(e(o));a!==void 0&&(n[r]=a)}catch(a){throw new Eo(US,`Parser for "${r}" property failed${o===r?"":`. Source field: "${o}"`}`,a)}}return n}function jS(t){let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch(n){throw new Eo(j6,{cause:n})}if(typeof e!="object"||!e||Array.isArray(e))throw new Eo($6);return e}function kl(t,e){return n=>{const r=i=>{if(!(n&&i===void 0))try{return e(i)}catch(o){throw new Eo(US,{message:`"${t}" transformer failed to parse the value`,cause:o})}};return Object.assign(r,{isValid(i){try{return r(i),!0}catch{return!1}}})}}function H6(t,e){return kl("object",n=>{const r=jS(n);return z6(t,i=>r[i])})}function $S(t){throw new Eo(V6,`Unexpected value received: ${JSON.stringify(t)}`)}const Zm=kl("string",t=>{if(typeof t=="string"||typeof t=="number")return t.toString();$S(t)});function ll(t){return/^#[\da-f]{6}$/i.test(t)}function W6(t){return/^#[\da-f]{3}$/i.test(t)}function q6(t){const e=t.replace(/\s/g,"").toLowerCase();if(ll(e))return e;if(W6(e)){let r="#";for(let i=0;i<3;i+=1)r+=e[1+i].repeat(2);return r}const n=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${t}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,i)=>{const o=parseInt(i,10).toString(16);return r+(o.length===1?"0":"")+o},"#")}const K6=kl("rgb",t=>q6(Zm()(t))),G6=kl("themeParams",t=>{const e=K6(!0);return Object.entries(jS(t)).reduce((n,[r,i])=>(n[U6(r)]=e(i),n),{})});function Z6(t,e){return kl("array",n=>{let r;if(Array.isArray(n))r=n;else if(typeof n=="string")try{const i=JSON.parse(n);Array.isArray(i)&&(r=i)}catch{}return r||$S(n),r.map(t)})}class ko extends Error{constructor(e,n,r){super(typeof n=="object"?n.message:n||e,{cause:typeof n=="object"?n.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,ko.prototype)}}function VS(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function Y6(t){return t.replace(/_[a-z]/g,e=>e[1].toUpperCase())}const X6="ERR_INVALID_VALUE",Q6="ERR_UNEXPECTED_VALUE",J6="ERR_UNEXPECTED_TYPE",zS="ERR_PARSE";function HS(t,e){const n={};for(const r in t){const i=t[r];if(!i)continue;let o,s;typeof i=="function"?(o=r,s=i):[o,s]=i;try{const a=s(e(o));a!==void 0&&(n[r]=a)}catch(a){throw new ko(zS,`Parser for "${r}" property failed${o===r?"":`. Source field: "${o}"`}`,a)}}return n}function WS(t){let e=t;if(typeof e=="string")try{e=JSON.parse(e)}catch(n){throw new ko(X6,{cause:n})}if(typeof e!="object"||!e||Array.isArray(e))throw new ko(Q6);return e}function jr(t,e){return n=>{const r=i=>{if(!(n&&i===void 0))try{return e(i)}catch(o){throw new ko(zS,{message:`"${t}" transformer failed to parse the value`,cause:o})}};return Object.assign(r,{isValid(i){try{return r(i),!0}catch{return!1}}})}}function Ir(t,e){return jr(e||"object",n=>{const r=WS(n);return HS(t,i=>r[i])})}function Al(t){throw new ko(J6,`Unexpected value received: ${JSON.stringify(t)}`)}const Ac=jr("boolean",t=>{if(typeof t=="boolean")return t;const e=String(t);if(e==="1"||e==="true")return!0;if(e==="0"||e==="false")return!1;Al(t)}),hr=jr("string",t=>{if(typeof t=="string"||typeof t=="number")return t.toString();Al(t)}),ul=jr("number",t=>{if(typeof t=="number")return t;if(typeof t=="string"){const e=Number(t);if(!Number.isNaN(e))return e}Al(t)}),e5=jr("date",t=>t instanceof Date?t:new Date(ul()(t)*1e3));function qS(t,e){return jr(e||"searchParams",n=>{typeof n!="string"&&!(n instanceof URLSearchParams)&&Al(n);const r=typeof n=="string"?new URLSearchParams(n):n;return HS(t,i=>{const o=r.get(i);return o===null?void 0:o})})}function uh(t){for(const e in t)t[e]=[VS(e),t[e]];return t}const t5=t=>{const e=ul(),n=ul(!0),r=hr(),i=hr(!0),o=Ac(!0),s=Ir(uh({addedToAttachmentMenu:o,allowsWriteToPm:o,firstName:r,id:e,isBot:o,isPremium:o,languageCode:i,lastName:i,photoUrl:i,username:i}),"User")(!0);return qS(uh({authDate:e5(),canSendAfter:n,chat:Ir(uh({id:e,type:r,title:r,photoUrl:i,username:i}),"Chat")(!0),chatInstance:i,chatType:i,hash:r,queryId:i,receiver:s,startParam:i,signature:r,user:s}),"initData")(t)};function n5(t){return/^#[\da-f]{6}$/i.test(t)}function r5(t){return/^#[\da-f]{3}$/i.test(t)}function i5(t){const e=t.replace(/\s/g,"").toLowerCase();if(n5(e))return e;if(r5(e)){let r="#";for(let i=0;i<3;i+=1)r+=e[1+i].repeat(2);return r}const n=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${t}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,i)=>{const o=parseInt(i,10).toString(16);return r+(o.length===1?"0":"")+o},"#")}const o5=jr("rgb",t=>i5(hr()(t))),Bw=jr("themeParams",t=>{const e=o5(!0);return Object.entries(WS(t)).reduce((n,[r,i])=>(n[Y6(r)]=e(i),n),{})});function Mw(t){return JSON.stringify(Object.fromEntries(Object.entries(t).map(([e,n])=>[VS(e),n])))}const s5=t=>{const e=hr(),n=hr(!0),r=Ac(!0);return qS({botInline:["tgWebAppBotInline",r],defaultColors:["tgWebAppDefaultColors",Bw(!0)],fullscreen:["tgWebAppFullscreen",r],initData:["tgWebAppData",t5(!0)],initDataRaw:["tgWebAppData",n],platform:["tgWebAppPlatform",e],showSettings:["tgWebAppShowSettings",r],startParam:["tgWebAppStartParam",n],themeParams:["tgWebAppThemeParams",Bw()],version:["tgWebAppVersion",e]},"launchParams")(t)};function a5(t){const{initDataRaw:e,startParam:n,showSettings:r,botInline:i,fullscreen:o,defaultColors:s}=t,a=new URLSearchParams;return a.set("tgWebAppPlatform",t.platform),a.set("tgWebAppThemeParams",Mw(t.themeParams)),a.set("tgWebAppVersion",t.version),e&&a.set("tgWebAppData",e),n&&a.set("tgWebAppStartParam",n),typeof r=="boolean"&&a.set("tgWebAppShowSettings",r?"1":"0"),typeof i=="boolean"&&a.set("tgWebAppBotInline",i?"1":"0"),typeof o=="boolean"&&a.set("tgWebAppFullscreen",o?"1":"0"),s&&a.set("tgWebAppDefaultColors",Mw(s)),a.toString()}const l5=Ir({eventType:hr(),eventData:t=>t},"miniAppsMessage"),KS=jr("fn",t=>{if(typeof t=="function")return t;Al(t)}),u5=Ir({TelegramWebviewProxy:Ir({postEvent:KS()})()});function GS(t){return u5().isValid(t)}function c5(){try{return window.self!==window.top}catch{return!0}}var f5=Object.defineProperty,d5=(t,e,n)=>e in t?f5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZS=(t,e,n)=>d5(t,typeof e!="symbol"?e+"":e,n);let Oe=class YS extends Error{constructor(e,n,r){super(typeof n=="object"?n.message:n||e,{cause:typeof n=="object"?n.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,YS.prototype)}};function XS(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Tl(...t){const e=t.flat(1);return[e.push.bind(e),()=>{e.forEach(n=>{n()})}]}const h5="ERR_ABORTED",p5="ERR_CANCELED",m5="ERR_TIMED_OUT";function Iw(t){return new Oe(h5,{cause:t})}function Pw(t,e){return t.reject=e.reject,t}class Qt extends Promise{constructor(e,n){let r,i;typeof e=="function"?(r=e,i=n):i=e;let o,s;super((a,l)=>{i||(i={});const{abortSignal:c}=i;if(c&&c.aborted)return l(Iw(c.reason));const[d,u]=Tl(),f=b=>(..._)=>(u(),b(..._)),p=new AbortController,{signal:m}=p;s=f(b=>{p.abort(b),l(b)}),o=f(a),c&&d(XS(c,"abort",()=>{s(Iw(c.reason))}));const{timeout:v}=i;if(v){const b=setTimeout(()=>{s(new Oe(m5,`Timeout reached: ${v}ms`))},v);d(()=>{clearTimeout(b)})}r&&r(o,s,m)}),ZS(this,"reject"),this.reject=s}static withFn(e,n){return new Qt((r,i,o)=>{try{const s=e(o);return s instanceof Promise?s.then(r,i):r(s)}catch(s){i(s)}},n)}static resolve(e){return new Qt(n=>{n(e)})}static reject(e){return new Qt((n,r)=>{r(e)})}cancel(){this.reject(new Oe(p5))}catch(e){return this.then(void 0,e)}finally(e){return Pw(super.finally(e),this)}then(e,n){return Pw(super.then(e,n),this)}}function Lw(t,e){return t.resolve=e.resolve,t}let g5=class Cu extends Qt{constructor(e,n){let r,i;typeof e=="function"?(r=e,i=n):i=e;let o;super((s,a,l)=>{o=s,r&&r(s,a,l)},i),ZS(this,"resolve"),this.resolve=o}static withFn(e,n){return new Cu((r,i,o)=>Qt.withFn(e,{abortSignal:o}).then(r,i),n)}static resolve(e){return new Cu(n=>{n(e)})}static reject(e){return new Cu((n,r)=>{r(e)})}catch(e){return this.then(void 0,e)}finally(e){return Lw(super.finally(e),this)}then(e,n){return Lw(super.then(e,n),this)}};function QS(t){return`tapps/${t}`}function _r(t,e){sessionStorage.setItem(QS(t),JSON.stringify(e))}function xr(t){const e=sessionStorage.getItem(QS(t));try{return e?JSON.parse(e):void 0}catch{}}function Ym(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function y5(t,e){e||(e={});const{textColor:n,bgColor:r,shouldLog:i=!0}=e;function o(s,...a){if(!i||typeof i=="function"&&!i())return;const l="font-weight:bold;padding:0 5px;border-radius:5px";console[s](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${t}`,`${l};background-color: lightblue;color:black`,"",`${l};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...a)}return[function(...s){o("log",...s)},function(...s){o("error",...s)}]}function Xm(t,e){document.documentElement.style.setProperty(t,e)}function Qm(t){document.documentElement.style.removeProperty(t)}function w5(t,e){e()}function Ks(t,e){e||(e={});const n=e.equals||Object.is;let r=[],i=t;const o=c=>{if(!n(i,c)){const d=i;i=c,w5(l,()=>{[...r].forEach(([u,f])=>{u(c,d),f&&a(u,!0)})})}};function s(c){const d=typeof c!="object"?{once:c}:c;return{once:d.once||!1,signal:d.signal||!1}}const a=(c,d)=>{const u=s(d),f=r.findIndex(([p,m])=>p===c&&m.once===u.once&&m.signal===u.signal);f>=0&&r.splice(f,1)},l=Object.assign(function(){return v5(l),i},{destroy(){r=[]},set:o,reset(){o(t)},sub(c,d){return r.push([c,s(d)]),()=>a(c,d)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return l}const ch=[];function v5(t){ch.length&&ch[ch.length-1].add(t)}const _5=Ks(!1),[JS,x5]=y5("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:_5}),b5={clipboard_text_received:Ir({req_id:hr(),data:t=>t===null?t:hr(!0)(t)},"clipboard_text_received"),custom_method_invoked:Ir({req_id:hr(),result:t=>t,error:hr(!0)},"custom_method_invoked"),popup_closed:jr("popup_closed",t=>t?Ir({button_id:e=>e==null?void 0:hr()(e)})()(t):{}),viewport_changed:Ir({height:ul(),width:t=>t==null?window.innerWidth:ul()(t),is_state_stable:Ac(),is_expanded:Ac()},"viewport_changed")};function S5(t){const e=window,[,n]=Tl(XS(e,"message",r=>{if(r.source!==e.parent)return;let i;try{i=l5()(r.data)}catch{return}const{eventType:o,eventData:s}=i,a=b5[o];try{const l=a?a()(s):s;JS("Event received:",l?{eventType:o,eventData:l}:{eventType:o}),t([o,l])}catch(l){x5([`An error occurred processing the "${o}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),i,l)}}));return n}const Nw=Ks(),Ow=Ks();function E5(){return Ow()||Ow.set(S5(Nw.set)),Nw}const fh=Ks({});function eE(t){let e=fh()[t];return e||(e=Ks(void 0,{equals(){return!1}}),E5().sub(n=>{n&&n[0]===t&&e.set(n[1])}),fh.set({...fh(),[t]:e})),e}function Tn(t,e,n){return eE(t).sub(e,n)}const k5="ERR_RETRIEVE_LP_FAILED",tE="ERR_UNKNOWN_ENV",A5="ERR_INVOKE_CUSTOM_METHOD_RESPONSE",T5=Ks("https://web.telegram.org");function nE(t,e){JS("Posting event:",e?{eventType:t,eventData:e}:{eventType:t});const n=window;if(GS(n)){n.TelegramWebviewProxy.postEvent(t,JSON.stringify(e));return}const r=JSON.stringify({eventType:t,eventData:e});if(c5())return n.parent.postMessage(r,T5());const{external:i}=n;if(Ir({notify:KS()})().isValid(i)){i.notify(r);return}throw new Oe(tE)}function Jm(t,e,n){n||(n={});const{capture:r}=n,[i,o]=Tl();return new Qt(s=>{(Array.isArray(e)?e:[e]).forEach(a=>{i(Tn(a,l=>{(!r||(Array.isArray(e)?r({event:a,payload:l}):r(l)))&&s(l)}))}),(n.postEvent||nE)(t,n.params)},n).finally(o)}function rE(t){return s5()(t)}function iE(t){return rE(t.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function C5(){return iE(window.location.href)}function R5(){const t=performance.getEntriesByType("navigation")[0];if(!t)throw new Error("Unable to get first navigation entry.");return iE(t.name)}const B5="launchParams";function M5(){return rE(xr(B5)||"")}function I5(t){_r("launchParams",a5(t))}function oE(t){return t instanceof Error?t.message+(t.cause?`
  ${oE(t.cause)}`:""):JSON.stringify(t)}function pf(){const t=[];for(const e of[C5,R5,M5])try{const n=e();return I5(n),n}catch(n){t.push(n)}throw new Oe(k5,["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?"," Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment","Collected errors:",...t.map(e=>` ${oE(e)}`)].join(`
`))}function Fw(t){try{return pf(),!0}catch{return!1}return Qt.withFn(async()=>{if(GS(window))return!0;try{return await Jm("web_app_request_theme","theme_changed",{timeout:100}),!0}catch{return!1}},t)}function mf(t,e,n){eE(t).unsub(e,n)}function P5(t){return({req_id:e})=>e===t}function Dw(t){return t.split(".").map(Number)}function L5(t,e){const n=Dw(t),r=Dw(e),i=Math.max(n.length,r.length);for(let o=0;o<i;o+=1){const s=n[o]||0,a=r[o]||0;if(s!==a)return s>a?1:-1}return 0}function ln(t,e){return L5(t,e)<=0}function zp(t,e,n){if(typeof n=="string"){if(t==="web_app_open_link"){if(e==="try_instant_view")return ln("6.4",n);if(e==="try_browser")return ln("7.6",n)}if(t==="web_app_set_header_color"&&e==="color")return ln("6.9",n);if(t==="web_app_close"&&e==="return_back")return ln("7.6",n);if(t==="web_app_setup_main_button"&&e==="has_shine_effect")return ln("7.10",n)}switch(t){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return ln("6.1",e);case"web_app_open_popup":return ln("6.2",e);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return ln("6.4",e);case"web_app_switch_inline_query":return ln("6.7",e);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return ln("6.9",e);case"web_app_setup_settings_button":return ln("6.10",e);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return ln("7.2",e);case"web_app_setup_swipe_behavior":return ln("7.7",e);case"web_app_share_to_story":return ln("7.8",e);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return ln("7.10",e);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":return ln("8.0",e);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(t)}}function N5(t,e,n,r){return Jm("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:t,params:e,req_id:n},capture:P5(n)}).then(({result:i,error:o})=>{if(o)throw new Oe(A5,o);return i})}function O5(){return performance.getEntriesByType("navigation")[0]}function $r(){const t=O5();return!!t&&t.type==="reload"}let fs;function F5(t,e){fs&&fs.set(t,e)||e()}function Hp(t){if(fs)return t();fs=new Map;try{t()}finally{fs.forEach(e=>e()),fs=void 0}}function Se(t,e){e||(e={});const n=e.equals||Object.is;let r=[],i=t;const o=c=>{if(!n(i,c)){const d=i;i=c,F5(l,()=>{[...r].forEach(([u,f])=>{u(c,d),f&&a(u,!0)})})}};function s(c){const d=typeof c!="object"?{once:c}:c;return{once:d.once||!1,signal:d.signal||!1}}const a=(c,d)=>{const u=s(d),f=r.findIndex(([p,m])=>p===c&&m.once===u.once&&m.signal===u.signal);f>=0&&r.splice(f,1)},l=Object.assign(function(){return D5(l),i},{destroy(){r=[]},set:o,reset(){o(t)},sub(c,d){return r.push([c,s(d)]),()=>a(c,d)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return l}const Na=[];function D5(t){Na.length&&Na[Na.length-1].add(t)}function En(t,e){let n=new Set,r;function i(){return r||(r=Se(s(),e))}function o(){i().set(s())}function s(){n.forEach(c=>{c.unsub(o,{signal:!0})});const a=new Set;let l;Na.push(a);try{l=t()}finally{Na.pop()}return a.forEach(c=>{c.sub(o,{signal:!0})}),n=a,l}return Object.assign(function(){return i()()},{destroy(){i().destroy()},sub(...a){return i().sub(...a)},unsub(...a){i().unsub(...a)},unsubAll(...a){i().unsubAll(...a)}})}const U5=Se((()=>{let t=0;return()=>(t+=1).toString()})()),j5=Se(nE),qo=Se("0.0");function $5(){return U5()()}function gf(t,e,n){return N5(t,e,$5(),{...n||{},postEvent:ct})}const Vr=(t,e,n)=>(n||(n={}),n.postEvent||(n.postEvent=ct),Jm(t,e,n)),ct=(t,e)=>j5()(t,e),ca="ERR_POPUP_INVALID_PARAMS",eg="ERR_INVALID_URL",V5="ERR_INVALID_SLUG",tg="ERR_ALREADY_REQUESTING",ng="ERR_ALREADY_OPENED",z5="ERR_ALREADY_MOUNTING",H5="ERR_VARS_ALREADY_BOUND",W5="ERR_NOT_AVAILABLE",q5="ERR_NOT_INITIALIZED",Uw="ERR_NOT_SUPPORTED",K5="ERR_NOT_MOUNTED",G5="ERR_FULLSCREEN_FAILED";function jw(){return typeof window>"u"}function yf(t,e,{isSupported:n,isMounted:r,component:i,supports:o}={}){const s=`${i?`${i}.`:""}${t}()`;n=n?Array.isArray(n)||typeof n=="object"&&"any"in n?n:[n]:void 0;function a(v){if(o){const b=o[v];return zp(b[0],b[1],qo())}return!0}const l=()=>{if(!n)return;const v=`it is unsupported in Mini Apps version ${qo()}`;function b(E){return typeof E=="string"?zp(E,qo())?void 0:v:E.fn()?void 0:E.error}if(Array.isArray(n)){for(const E of n){const S=b(E);if(S)return S}return}let _;for(const E of n.any)if(_=b(E),!_)return;return v},c=(...v)=>{if(o){for(const b in o)if(o[b][2](...v)&&!a(b))return`option ${b} is not supported in Mini Apps version ${qo()}`}},d=En(()=>!l()),u=En(()=>qo()!=="0.0"),f=En(()=>!r||r()),p=En(()=>Fw("simple")&&!jw()&&u()&&d()&&f());let m;if(o){m={};for(const v in o)m[v]=En(()=>a(v))}return Object.assign((...v)=>{const b=`Unable to call the ${s} ${i?"method":"function"}:`;if(jw()||!Fw("simple"))throw new Oe(tE,`${b} it can't be called outside Mini Apps`);if(!u())throw new Oe(q5,`${b} the SDK was not initialized. Use the SDK init() function`);const _=l();if(_)throw new Oe(Uw,`${b} ${_}`);const E=c(...v);if(E)throw new Oe(Uw,`${b} ${E}`);if(!f())throw new Oe(K5,`${b} the component is not mounted. Use the ${i}.mount() method`);return e(...v)},e,{isAvailable:p,ifAvailable(...v){return p()?e(...v):void 0}},n?{isSupported:d}:{},m?{supports:m}:{})}function wf(t,e){return e||(e={}),(n,r,i,o)=>yf(n,r,{...e,isSupported:i||e.isSupported,supports:o,component:t})}function Fo(t,e,n){return wf(t,{isSupported:n,isMounted:e})}function br(t,e){return wf(t,{isSupported:e})}const rg="web_app_setup_back_button",sE="back_button_pressed",vf="backButton",$w=Se(!1),Wp=Se(!1),aE=Fo(vf,Wp,rg),ig=br(vf,rg);aE("hide",()=>{og(!1)});ig("mount",()=>{Wp()||(og($r()&&xr(vf)||!1),Wp.set(!0))});function og(t){t!==$w()&&(ct(rg,{is_visible:t}),_r(vf,t),$w.set(t))}ig("onClick",t=>Tn(sE,t));ig("offClick",t=>{mf(sE,t)});aE("show",()=>{og(!0)});function lE(t,e,n,r,i){const o=i===void 0||i?Qt:Promise;return Object.assign((...s)=>o.resolve().then(async()=>{if(n()){const l=e();throw r.set(l),l}Hp(()=>{n.set(o.resolve(t(...s))),r.set(void 0)});let a;try{a=[!0,await n()]}catch(l){a=[!1,l]}if(Hp(()=>{n.set(void 0),r.set(a[0]?void 0:a[1])}),!a[0])throw a[1];return a[1]}),t)}function uE(t,e,n,r,i,o){const s=lE(e,()=>new Oe(z5,`The ${t} component is already mounting`),i,o);return a=>Qt.resolve().then(async()=>{if(!r()){const l=await s(a);Hp(()=>{r.set(!0),n(l)})}})}const ci=wf,cE=Se({available:!1}),dh=Se(!1),hh=Se(!1),fE=Se(!1),Z5=Se(),Y5=Se();function sg(t){return t.available?{available:!0,tokenSaved:t.token_saved,deviceId:t.device_id,accessRequested:t.access_requested,type:t.type,accessGranted:t.access_granted}:{available:!1}}const Vw="web_app_biometry_get_info",X5=yf("requestBiometry",t=>Vr(Vw,"biometry_info_received",t).then(sg),{isSupported:Vw}),ag="web_app_biometry_request_auth",Q5="web_app_biometry_request_access",J5="web_app_biometry_open_settings",eL="web_app_biometry_update_token",dE="biometry_info_received",Os="biometry",tL=ci(Os),nL=br(Os,ag),lg=Fo(Os,fE,ag);function hE(){throw new Oe(W5,"Biometry is not available")}lg("authenticate",t=>Qt.withFn(async e=>{if(dh())throw new Oe(tg,"Authentication is already in progress");const n=cE();(!n||!n.available)&&hE(),dh.set(!0);try{const r=await Vr(ag,"biometry_auth_requested",{abortSignal:e,params:{reason:((t||{}).reason||"").trim()}}),{token:i}=r;return typeof i=="string"&&_f({...n,token:i}),r}finally{dh.set(!1)}},t));nL("openSettings",()=>{ct(J5)});lg("requestAccess",t=>Qt.withFn(async e=>{if(hh())throw new Oe(tg,"Access request is already in progress");hh.set(!0);try{const n=await Vr(Q5,dE,{abortSignal:e,params:{reason:(t||{}).reason||""}}).then(sg);return n.available||hE(),_f(n),n.accessGranted}finally{hh.set(!1)}},t));tL("mount",uE(Os,t=>$r()&&xr(Os)||X5(t),t=>{Tn(dE,rL),_f(t)},fE,Y5,Z5));const rL=t=>{_f(sg(t))};function _f(t){cE.set(t),_r(Os,t)}lg("updateToken",t=>(t||(t={}),Vr(eL,"biometry_token_updated",{...t,params:{token:t.token||"",reason:t.reason}}).then(e=>e.status)));function xf(t,e){return wf(t,{isMounted:e})}const bf="closingBehavior",zw=Se(!1),qp=Se(!1),pE=xf(bf,qp),iL=ci(bf);pE("disableConfirmation",()=>{ug(!1)});pE("enableConfirmation",()=>{ug(!0)});iL("mount",()=>{qp()||(ug($r()&&xr(bf)||!1),qp.set(!0))});function ug(t){t!==zw()&&(ct("web_app_setup_closing_behavior",{need_confirmation:t}),_r(bf,t),zw.set(t))}const oL="web_app_invoke_custom_method",Sf=br("cloudStorage",oL);Sf("deleteItem",(t,e)=>{const n=Array.isArray(t)?t:[t];return n.length?gf("deleteStorageValues",{keys:n},e).then():Qt.resolve()});function sL(t,e){const n=Array.isArray(t)?t:[t];return n.length?gf("getStorageValues",{keys:n},e).then(r=>{const i=H6(Object.fromEntries(n.map(o=>[o,Zm()])))()(r);return Array.isArray(t)?i:i[t]}):Qt.resolve(typeof t=="string"?"":{})}Sf("getItem",sL);Sf("getKeys",t=>gf("getStorageKeys",{},t).then(Z6(Zm())()));Sf("setItem",(t,e,n)=>gf("saveStorageValue",{key:t,value:e},n).then());const Ef="web_app_trigger_haptic_feedback",cg=br("hapticFeedback",Ef);cg("impactOccurred",t=>{ct(Ef,{type:"impact",impact_style:t})});cg("notificationOccurred",t=>{ct(Ef,{type:"notification",notification_type:t})});cg("selectionChanged",()=>{ct(Ef,{type:"selection_change"})});const mE="web_app_open_invoice",aL=br("invoice",mE),ph=Se(!1);async function lL(t,e,n){if(ph())throw new Oe(ng,"An invoice is already opened");let r;if(e==="url"){const{hostname:i,pathname:o}=new URL(t,window.location.href);if(i!=="t.me")throw new Oe(eg,`Link has unexpected hostname: ${i}`);const s=o.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!s)throw new Oe(V5,'Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=s}else r=t,n=e;return ph.set(!0),Vr(mE,"invoice_closed",{...n,params:{slug:r},capture:i=>r===i.slug}).then(i=>i.status).finally(()=>{ph.set(!1)})}aL("open",lL);function gE(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}const Kp=Se(!1),mh=Se(!1),bs=Se({});function Cl(t){return En(()=>bs()[t])}const yE=Cl("bgColor"),wE=Cl("buttonColor"),uL=Cl("buttonTextColor"),cL=Cl("bottomBarBgColor"),Gp=Cl("secondaryBgColor"),Oa=Se({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),fL=En(()=>{const t=Oa();return{...t,backgroundColor:t.backgroundColor||wE()||"#2481cc",textColor:t.textColor||uL()||"#ffffff"}}),Zp=Se(!1),dL="web_app_setup_main_button",vE="main_button_pressed",kf="mainButton",fg=ci(kf),hL=xf(kf,Zp);fg("mount",()=>{if(!Zp()){const t=$r()&&xr(kf);t&&Oa.set(t),Zp.set(!0)}});fg("onClick",t=>Tn(vE,t));fg("offClick",t=>{mf(vE,t)});hL("setParams",t=>{Oa.set({...Oa(),...gE(t)}),_r(kf,Oa());const e=fL();e.text&&ct(dL,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,text:e.text,text_color:e.textColor})});function dg(){throw new Oe(H5,"CSS variables are already bound")}function pL(t){return G6()(t)}const Af="themeParams",mL="theme_changed",gL=ci(Af),yL=xf(Af,Kp);yL("bindCssVars",t=>{mh()&&dg(),t||(t=r=>`--tg-theme-${Ym(r)}`);function e(r){Object.entries(bs()).forEach(([i,o])=>{o&&r(i,o)})}function n(){e((r,i)=>{Xm(t(r),i)})}return n(),bs.sub(n),mh.set(!0),()=>{e(Qm),bs.unsub(n),mh.set(!1)}});const wL=gL("mount",()=>{Kp()||(Tn(mL,vL),bs.set($r()&&xr(Af)||pf().themeParams),Kp.set(!0))}),vL=t=>{const e=pL(t.theme_params);bs.set(e),_r(Af,e)};function _E(t){return En(()=>{const e=t();return ll(e)?e:e==="bg_color"?yE():Gp()})}const Tc=Se("bg_color"),_L=_E(Tc),Cc=Se("bottom_bar_bg_color"),xE=En(()=>{const t=Cc();return ll(t)?t:t==="bottom_bar_bg_color"?cL()||Gp():t==="secondary_bg_color"?Gp():yE()}),Rc=Se("bg_color"),xL=_E(Rc),Yp=Se(!1),gh=Se(!1),hg=Se(!0),bL=En(()=>({backgroundColor:Tc(),bottomBarColor:Cc(),headerColor:Rc(),isActive:hg()})),Xp="web_app_set_background_color",Qp="web_app_set_bottom_bar_color",Ru="web_app_set_header_color",SL="visibility_changed",Rl="miniApp",bE={any:[Xp,Qp,Ru]},SE=ci(Rl),EL=br(Rl,bE),Tf=Fo(Rl,Yp,bE);Tf("bindCssVars",t=>{gh()&&dg();const[e,n]=Tl();function r(i,o){function s(){Xm(i,o()||null)}s(),e(o.sub(s),Qm.bind(null,i))}return t||(t=i=>`--tg-${Ym(i)}`),r(t("bgColor"),_L),r(t("bottomBarColor"),xE),r(t("headerColor"),xL),e(()=>{gh.set(!1)}),gh.set(!0),n});SE("close",t=>{ct("web_app_close",{return_back:t})});const kL=t=>{hg.set(t.is_visible),Cf()};EL("mount",()=>{if(!Yp()){const t=$r()&&xr(Rl);wL(),AL.ifAvailable(t?t.backgroundColor:"bg_color"),TL.ifAvailable(t?t.bottomBarColor:"bottom_bar_bg_color"),CL.ifAvailable(t?t.headerColor:"bg_color"),hg.set(t?t.isActive:!0),Tn(SL,kL),Yp.set(!0)}});SE("ready",()=>{ct("web_app_ready")});function Cf(){_r(Rl,bL())}const AL=Tf("setBackgroundColor",t=>{t!==Tc()&&(ct(Xp,{color:t}),Tc.set(t),Cf())},Xp),TL=Tf("setBottomBarColor",t=>{t!==Cc()&&(ct(Qp,{color:t}),Cc.set(t),Cf())},Qp),CL=Tf("setHeaderColor",t=>{t!==Rc()&&(ct(Ru,ll(t)?{color:t}:{color_key:t}),Rc.set(t),Cf())},Ru,{rgb:[Ru,"color",ll]});function RL(t){const e=t.message.trim(),n=(t.title||"").trim(),r=t.buttons||[];if(n.length>64)throw new Oe(ca,`Invalid title: ${n}`);if(!e||e.length>256)throw new Oe(ca,`Invalid message: ${e}`);if(r.length>3)throw new Oe(ca,`Invalid buttons count: ${r.length}`);return{title:n,message:e,buttons:r.length?r.map((i,o)=>{const s=i.id||"";if(s.length>64)throw new Oe(ca,`Button with index ${o} has invalid id: ${s}`);if(!i.type||i.type==="default"||i.type==="destructive"){const a=i.text.trim();if(!a||a.length>64)throw new Oe(ca,`Button with index ${o} has invalid text: ${a}`);return{type:i.type,text:a,id:s}}return{type:i.type,id:s}}):[{type:"close",id:""}]}}const EE="web_app_open_popup",BL=br("popup",EE),yh=Se(!1);BL("open",async t=>{if(yh())throw new Oe(ng,"A popup is already opened");yh.set(!0);try{const{button_id:e=null}=await Vr(EE,"popup_closed",{...t,params:RL(t)});return e}finally{yh.set(!1)}});const ML="web_app_close_scan_qr_popup",kE="web_app_open_scan_qr_popup",IL="scan_qr_popup_closed",PL="qr_text_received",AE=br("qrScanner",kE),Hw=AE("close",()=>{va.set(!1),ct(ML)}),va=Se(!1);function LL(t){return Qt.withFn(e=>{if(va())throw new Oe(ng,"The QR Scanner is already opened");va.set(!0),t||(t={});const{onCaptured:n,text:r,capture:i}=t,[,o]=Tl(va.sub(()=>{s.resolve()}),Tn(IL,()=>{va.set(!1)}),Tn(PL,a=>{n?n(a.data):(!i||i(a.data))&&(s.resolve(a.data),Hw())})),s=new g5({abortSignal:e}).catch(Hw).finally(o);return(t.postEvent||ct)(kE,{text:r}),s},t)}AE("open",LL);const Fa=Se({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),NL=En(()=>{const t=Fa();return{...t,backgroundColor:t.backgroundColor||xE()||"#000000",textColor:t.textColor||wE()||"#2481cc"}}),Jp=Se(!1),pg="web_app_setup_secondary_button",TE="secondary_button_pressed",Rf="secondaryButton",mg=br(Rf,pg),OL=Fo(Rf,Jp,pg);mg("mount",()=>{if(!Jp()){const t=$r()&&xr(Rf);t&&Fa.set(t),Jp.set(!0)}});mg("onClick",t=>Tn(TE,t));mg("offClick",t=>{mf(TE,t)});OL("setParams",t=>{Fa.set({...Fa(),...Object.fromEntries(Object.entries(t).filter(([,n])=>n!==void 0))}),_r(Rf,Fa());const e=NL();e.text&&ct(pg,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,position:e.position,text:e.text,text_color:e.textColor})});const gg="web_app_setup_settings_button",CE="settings_button_pressed",Bf="settingsButton",Ww=Se(!1),e0=Se(!1),yg=br(Bf,gg),RE=Fo(Bf,e0,gg);RE("hide",()=>{wg(!1)});yg("mount",()=>{e0()||(wg($r()&&xr(Bf)||!1),e0.set(!0))});function wg(t){t!==Ww()&&(ct(gg,{is_visible:t}),_r(Bf,t),Ww.set(t))}yg("onClick",t=>Tn(CE,t));yg("offClick",t=>{mf(CE,t)});RE("show",()=>{wg(!0)});const vg="web_app_setup_swipe_behavior",Mf="swipeBehavior",t0=Se(!1),qw=Se(!0),FL=br(Mf,vg),BE=Fo(Mf,t0,vg);BE("disableVertical",()=>{_g(!1)});BE("enableVertical",()=>{_g(!0)});FL("mount",()=>{t0()||(_g($r()&&xr(Mf)||!1,!0),t0.set(!0))});function _g(t,e){(t!==qw()||e)&&(ct(vg,{allow_vertical_swipe:t}),_r(Mf,t),qw.set(t))}const Gs="viewport",ME="web_app_request_fullscreen",DL="fullscreen_failed",IE="fullscreen_changed",UL="safe_area_changed",jL="content_safe_area_changed",$L="viewport_changed",Kw="web_app_request_safe_area",Gw="web_app_request_content_safe_area",Zw={left:0,top:0,bottom:0,right:0};function wh(t){return Math.max(t,0)}const Bu=Se({contentSafeAreaInsets:Zw,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:Zw,stableHeight:0,width:0});function Zs(t){return En(()=>Bu()[t])}function Ys(t){const{height:e,stableHeight:n,width:r}=t;Bu.set({...Bu(),...gE({...t,height:e?wh(e):void 0,width:r?wh(r):void 0,stableHeight:n?wh(n):void 0})}),_r(Gs,Bu())}function VL(){return xr(Gs)}const zL=Zs("isFullscreen"),HL=Se(),WL=Se(),xg=Se(!1),qL=Se(void 0),KL=Se(),GL=Fo(Gs,xg,ME);function PE(t,e){return GL(t,lE(n=>Vr(e,[IE,DL],n).then(r=>{if("error"in r){if(r.error==="ALREADY_FULLSCREEN")return!0;throw new Oe(G5,"Fullscreen request failed",r.error)}return r.is_fullscreen}).then(r=>{r!==zL()&&Ys({isFullscreen:r})}),()=>new Oe(tg,"Fullscreen mode change is already being requested"),HL,WL))}PE("requestFullscreen",ME);PE("exitFullscreen","web_app_exit_fullscreen");const LE=ci(Gs),ZL=xf(Gs,xg);function If(t){return En(()=>NE()[t])}const NE=Zs("safeAreaInsets"),YL=If("bottom"),XL=If("left"),QL=If("right"),JL=If("top");function Pf(t){return En(()=>OE()[t])}const OE=Zs("contentSafeAreaInsets"),eN=Pf("bottom"),tN=Pf("left"),nN=Pf("right"),rN=Pf("top"),iN=yf("requestContentSafeAreaInsets",t=>Vr(Gw,"content_safe_area_changed",t),{isSupported:Gw}),oN=yf("requestSafeAreaInsets",t=>Vr(Kw,"safe_area_changed",t),{isSupported:Kw});function sN(t){return Vr("web_app_request_viewport","viewport_changed",t).then(e=>({height:e.height,width:e.width,isExpanded:e.is_expanded,isStable:e.is_state_stable}))}const aN=t=>{const{height:e}=t;Ys({isExpanded:t.is_expanded,height:e,width:t.width,stableHeight:t.is_state_stable?e:void 0})},lN=t=>{Ys({isFullscreen:t.is_fullscreen})},uN=t=>{Ys({safeAreaInsets:t})},cN=t=>{Ys({contentSafeAreaInsets:t})};LE("mount",uE(Gs,t=>Qt.resolve().then(async()=>{const e=$r()&&VL();if(e)return e;const[n,r]=await Qt.all([oN.ifAvailable(t)||NE(),iN.ifAvailable(t)||OE()]),i=pf(),o={contentSafeAreaInsets:r,isFullscreen:!!i.fullscreen,safeAreaInsets:n};if(["macos","tdesktop","unigram","webk","weba","web"].includes(i.platform)){const s=window;return{...o,height:s.innerHeight,isExpanded:!0,stableHeight:s.innerHeight,width:s.innerWidth}}return sN(t).then(s=>({...o,height:s.height,isExpanded:s.isExpanded,stableHeight:s.isStable?s.height:0,width:s.width}))}),t=>{Tn($L,aN),Tn(IE,lN),Tn(UL,uN),Tn(jL,cN),Ys(t)},xg,KL,qL));const vh=Se(!1),fN=Zs("height"),dN=Zs("stableHeight"),hN=Zs("width");ZL("bindCssVars",t=>{vh()&&dg(),t||(t=n=>`--tg-viewport-${Ym(n)}`);const e=[["height",fN],["stableHeight",dN],["width",hN],["safeAreaInsetTop",JL],["safeAreaInsetBottom",YL],["safeAreaInsetLeft",XL],["safeAreaInsetRight",QL],["contentSafeAreaInsetTop",rN],["contentSafeAreaInsetBottom",eN],["contentSafeAreaInsetLeft",tN],["contentSafeAreaInsetRight",nN]].reduce((n,[r,i])=>{const o=t(r);if(o){const s=()=>{Xm(o,`${i()}px`)};n.push([s,i.sub(s),o])}return n},[]);return e.forEach(n=>{n[0]()}),vh.set(!0),()=>{e.forEach(n=>{n[1](),Qm(n[2])}),vh.set(!1)}});LE("expand",()=>{ct("web_app_expand")});const pN=ci();pN("openLink",(t,e)=>{if(typeof t=="string")try{t=new URL(t)}catch(n){throw new Oe(eg,`"${t.toString()}" is invalid URL`,n)}e||(e={}),ct("web_app_open_link",{url:t.toString(),try_browser:e.tryBrowser,try_instant_view:e.tryInstantView})});const Yw="web_app_open_tg_link",mN=ci(),gN=mN("openTelegramLink",t=>{const e=t.toString();if(!e.match(/^https:\/\/t.me\/.+/))throw new Oe(eg,`"${e}" is invalid URL`);if(!zp(Yw,qo())){window.location.href=e;return}t=new URL(t),ct(Yw,{path_full:t.pathname+t.search})}),yN=ci();yN("shareURL",(t,e)=>{gN("https://t.me/share/url?"+new URLSearchParams({url:t,text:e||""}).toString().replace(/\+/g,"%20"))});function FE(t,e){return function(){return t.apply(e,arguments)}}const{toString:wN}=Object.prototype,{getPrototypeOf:bg}=Object,{iterator:Lf,toStringTag:DE}=Symbol,Nf=(t=>e=>{const n=wN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sr=t=>(t=t.toLowerCase(),e=>Nf(e)===t),Of=t=>e=>typeof e===t,{isArray:Xs}=Array,Fs=Of("undefined");function Bl(t){return t!==null&&!Fs(t)&&t.constructor!==null&&!Fs(t.constructor)&&Mn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UE=Sr("ArrayBuffer");function vN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UE(t.buffer),e}const _N=Of("string"),Mn=Of("function"),jE=Of("number"),Ml=t=>t!==null&&typeof t=="object",xN=t=>t===!0||t===!1,Mu=t=>{if(Nf(t)!=="object")return!1;const e=bg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(DE in t)&&!(Lf in t)},bN=t=>{if(!Ml(t)||Bl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},SN=Sr("Date"),EN=Sr("File"),kN=Sr("Blob"),AN=Sr("FileList"),TN=t=>Ml(t)&&Mn(t.pipe),CN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mn(t.append)&&((e=Nf(t))==="formdata"||e==="object"&&Mn(t.toString)&&t.toString()==="[object FormData]"))},RN=Sr("URLSearchParams"),[BN,MN,IN,PN]=["ReadableStream","Request","Response","Headers"].map(Sr),LN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Il(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Xs(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Bl(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function $E(t,e){if(Bl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VE=t=>!Fs(t)&&t!==lo;function n0(){const{caseless:t,skipUndefined:e}=VE(this)&&this||{},n={},r=(i,o)=>{const s=t&&$E(n,o)||o;Mu(n[s])&&Mu(i)?n[s]=n0(n[s],i):Mu(i)?n[s]=n0({},i):Xs(i)?n[s]=i.slice():(!e||!Fs(i))&&(n[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Il(arguments[i],r);return n}const NN=(t,e,n,{allOwnKeys:r}={})=>(Il(e,(i,o)=>{n&&Mn(i)?t[o]=FE(i,n):t[o]=i},{allOwnKeys:r}),t),ON=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),FN=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},DN=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&bg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},UN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},jN=t=>{if(!t)return null;if(Xs(t))return t;let e=t.length;if(!jE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},$N=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bg(Uint8Array)),VN=(t,e)=>{const r=(t&&t[Lf]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},zN=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},HN=Sr("HTMLFormElement"),WN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Xw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qN=Sr("RegExp"),zE=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Il(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},KN=t=>{zE(t,(e,n)=>{if(Mn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GN=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Xs(t)?r(t):r(String(t).split(e)),n},ZN=()=>{},YN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XN(t){return!!(t&&Mn(t.append)&&t[DE]==="FormData"&&t[Lf])}const QN=t=>{const e=new Array(10),n=(r,i)=>{if(Ml(r)){if(e.indexOf(r)>=0)return;if(Bl(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Xs(r)?[]:{};return Il(r,(s,a)=>{const l=n(s,i+1);!Fs(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},JN=Sr("AsyncFunction"),eO=t=>t&&(Ml(t)||Mn(t))&&Mn(t.then)&&Mn(t.catch),HE=((t,e)=>t?setImmediate:e?((n,r)=>(lo.addEventListener("message",({source:i,data:o})=>{i===lo&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),lo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mn(lo.postMessage)),tO=typeof queueMicrotask<"u"?queueMicrotask.bind(lo):typeof process<"u"&&process.nextTick||HE,nO=t=>t!=null&&Mn(t[Lf]),q={isArray:Xs,isArrayBuffer:UE,isBuffer:Bl,isFormData:CN,isArrayBufferView:vN,isString:_N,isNumber:jE,isBoolean:xN,isObject:Ml,isPlainObject:Mu,isEmptyObject:bN,isReadableStream:BN,isRequest:MN,isResponse:IN,isHeaders:PN,isUndefined:Fs,isDate:SN,isFile:EN,isBlob:kN,isRegExp:qN,isFunction:Mn,isStream:TN,isURLSearchParams:RN,isTypedArray:$N,isFileList:AN,forEach:Il,merge:n0,extend:NN,trim:LN,stripBOM:ON,inherits:FN,toFlatObject:DN,kindOf:Nf,kindOfTest:Sr,endsWith:UN,toArray:jN,forEachEntry:VN,matchAll:zN,isHTMLForm:HN,hasOwnProperty:Xw,hasOwnProp:Xw,reduceDescriptors:zE,freezeMethods:KN,toObjectSet:GN,toCamelCase:WN,noop:ZN,toFiniteNumber:YN,findKey:$E,global:lo,isContextDefined:VE,isSpecCompliantForm:XN,toJSONObject:QN,isAsyncFn:JN,isThenable:eO,setImmediate:HE,asap:tO,isIterable:nO};function be(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const WE=be.prototype,qE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qE[t]={value:t}});Object.defineProperties(be,qE);Object.defineProperty(WE,"isAxiosError",{value:!0});be.from=(t,e,n,r,i,o)=>{const s=Object.create(WE);q.toFlatObject(t,s,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return be.call(s,a,l,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",o&&Object.assign(s,o),s};const rO=null;function r0(t){return q.isPlainObject(t)||q.isArray(t)}function KE(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function Qw(t,e,n){return t?t.concat(e).map(function(i,o){return i=KE(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function iO(t){return q.isArray(t)&&!t.some(r0)}const oO=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function Ff(t,e,n){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!q.isUndefined(b[v])});const r=n.metaTokens,i=n.visitor||d,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(q.isBoolean(m))return m.toString();if(!l&&q.isBlob(m))throw new be("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,b){let _=m;if(m&&!b&&typeof m=="object"){if(q.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&iO(m)||(q.isFileList(m)||q.endsWith(v,"[]"))&&(_=q.toArray(m)))return v=KE(v),_.forEach(function(S,M){!(q.isUndefined(S)||S===null)&&e.append(s===!0?Qw([v],M,o):s===null?v:v+"[]",c(S))}),!1}return r0(m)?!0:(e.append(Qw(b,v,o),c(m)),!1)}const u=[],f=Object.assign(oO,{defaultVisitor:d,convertValue:c,isVisitable:r0});function p(m,v){if(!q.isUndefined(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));u.push(m),q.forEach(m,function(_,E){(!(q.isUndefined(_)||_===null)&&i.call(e,_,q.isString(E)?E.trim():E,v,f))===!0&&p(_,v?v.concat(E):[E])}),u.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Jw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Sg(t,e){this._pairs=[],t&&Ff(t,this,e)}const GE=Sg.prototype;GE.append=function(e,n){this._pairs.push([e,n])};GE.toString=function(e){const n=e?function(r){return e.call(this,r,Jw)}:Jw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ZE(t,e,n){if(!e)return t;const r=n&&n.encode||sO;q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=q.isURLSearchParams(e)?e.toString():new Sg(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ev{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const YE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aO=typeof URLSearchParams<"u"?URLSearchParams:Sg,lO=typeof FormData<"u"?FormData:null,uO=typeof Blob<"u"?Blob:null,cO={isBrowser:!0,classes:{URLSearchParams:aO,FormData:lO,Blob:uO},protocols:["http","https","file","blob","url","data"]},Eg=typeof window<"u"&&typeof document<"u",i0=typeof navigator=="object"&&navigator||void 0,fO=Eg&&(!i0||["ReactNative","NativeScript","NS"].indexOf(i0.product)<0),dO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hO=Eg&&window.location.href||"http://localhost",pO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Eg,hasStandardBrowserEnv:fO,hasStandardBrowserWebWorkerEnv:dO,navigator:i0,origin:hO},Symbol.toStringTag,{value:"Module"})),dn={...pO,...cO};function mO(t,e){return Ff(t,new dn.classes.URLSearchParams,{visitor:function(n,r,i,o){return dn.isNode&&q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function gO(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yO(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function XE(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&q.isArray(i)?i.length:s,l?(q.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!q.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&q.isArray(i[s])&&(i[s]=yO(i[s])),!a)}if(q.isFormData(t)&&q.isFunction(t.entries)){const n={};return q.forEachEntry(t,(r,i)=>{e(gO(r),i,n,0)}),n}return null}function wO(t,e,n){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Pl={transitional:YE,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=q.isObject(e);if(o&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(XE(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mO(e,this.formSerializer).toString();if((a=q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ff(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),wO(e)):e}],transformResponse:[function(e){const n=this.transitional||Pl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?be.from(a,be.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{Pl.headers[t]={}});const vO=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_O=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&vO[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tv=Symbol("internals");function fa(t){return t&&String(t).trim().toLowerCase()}function Iu(t){return t===!1||t==null?t:q.isArray(t)?t.map(Iu):String(t)}function xO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const bO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _h(t,e,n,r,i){if(q.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!q.isString(e)){if(q.isString(r))return e.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(e)}}function SO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function EO(t,e){const n=q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const d=fa(l);if(!d)throw new Error("header name must be a non-empty string");const u=q.findKey(i,d);(!u||i[u]===void 0||c===!0||c===void 0&&i[u]!==!1)&&(i[u||l]=Iu(a))}const s=(a,l)=>q.forEach(a,(c,d)=>o(c,d,l));if(q.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(q.isString(e)&&(e=e.trim())&&!bO(e))s(_O(e),n);else if(q.isObject(e)&&q.isIterable(e)){let a={},l,c;for(const d of e){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?q.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=fa(e),e){const r=q.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return xO(i);if(q.isFunction(n))return n.call(this,i,r);if(q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fa(e),e){const r=q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||_h(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=fa(s),s){const a=q.findKey(r,s);a&&(!n||_h(r,r[a],a,n))&&(delete r[a],i=!0)}}return q.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||_h(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return q.forEach(this,(i,o)=>{const s=q.findKey(r,o);if(s){n[s]=Iu(i),delete n[o];return}const a=e?SO(o):String(o).trim();a!==o&&delete n[o],n[a]=Iu(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[tv]=this[tv]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=fa(s);r[a]||(EO(i,s),r[a]=!0)}return q.isArray(e)?e.forEach(o):o(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(In.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});q.freezeMethods(In);function xh(t,e){const n=this||Pl,r=e||n,i=In.from(r.headers);let o=r.data;return q.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function QE(t){return!!(t&&t.__CANCEL__)}function Qs(t,e,n){be.call(this,t??"canceled",be.ERR_CANCELED,e,n),this.name="CanceledError"}q.inherits(Qs,be,{__CANCEL__:!0});function JE(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function kO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function AO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[o];s||(s=c),n[i]=l,r[i]=c;let u=o,f=0;for(;u!==i;)f+=n[u++],u=u%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function TO(t,e){let n=0,r=1e3/e,i,o;const s=(c,d=Date.now())=>{n=d,i=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const d=Date.now(),u=d-n;u>=r?s(c,d):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-u)))},()=>i&&s(i)]}const Bc=(t,e,n=3)=>{let r=0;const i=AO(50,250);return TO(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),d=s<=a;r=s;const u={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(u)},n)},nv=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},rv=t=>(...e)=>q.asap(()=>t(...e)),CO=dn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,dn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(dn.origin),dn.navigator&&/(msie|trident)/i.test(dn.navigator.userAgent)):()=>!0,RO=dn.hasStandardBrowserEnv?{write(t,e,n,r,i,o,s){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];q.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),q.isString(r)&&a.push(`path=${r}`),q.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),q.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function BO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function MO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ek(t,e,n){let r=!BO(e);return t&&(r||n==!1)?MO(t,e):e}const iv=t=>t instanceof In?{...t}:t;function Ao(t,e){e=e||{};const n={};function r(c,d,u,f){return q.isPlainObject(c)&&q.isPlainObject(d)?q.merge.call({caseless:f},c,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function i(c,d,u,f){if(q.isUndefined(d)){if(!q.isUndefined(c))return r(void 0,c,u,f)}else return r(c,d,u,f)}function o(c,d){if(!q.isUndefined(d))return r(void 0,d)}function s(c,d){if(q.isUndefined(d)){if(!q.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in e)return r(c,d);if(u in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d,u)=>i(iv(c),iv(d),u,!0)};return q.forEach(Object.keys({...t,...e}),function(d){const u=l[d]||i,f=u(t[d],e[d],d);q.isUndefined(f)&&u!==a||(n[d]=f)}),n}const tk=t=>{const e=Ao({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=In.from(s),e.url=ZE(ek(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),q.isFormData(n)){if(dn.hasStandardBrowserEnv||dn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,u])=>{c.includes(d.toLowerCase())&&s.set(d,u)})}}if(dn.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(e)),r||r!==!1&&CO(e.url))){const l=i&&o&&RO.read(o);l&&s.set(i,l)}return e},IO=typeof XMLHttpRequest<"u",PO=IO&&function(t){return new Promise(function(n,r){const i=tk(t);let o=i.data;const s=In.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,u,f,p,m;function v(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function _(){if(!b)return;const S=In.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:t,request:b};JE(function(U){n(U),v()},function(U){r(U),v()},O),b=null}"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},b.onabort=function(){b&&(r(new be("Request aborted",be.ECONNABORTED,t,b)),b=null)},b.onerror=function(M){const O=M&&M.message?M.message:"Network Error",$=new be(O,be.ERR_NETWORK,t,b);$.event=M||null,r($),b=null},b.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||YE;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new be(M,O.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,t,b)),b=null},o===void 0&&s.setContentType(null),"setRequestHeader"in b&&q.forEach(s.toJSON(),function(M,O){b.setRequestHeader(O,M)}),q.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),c&&([f,m]=Bc(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([u,p]=Bc(l),b.upload.addEventListener("progress",u),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=S=>{b&&(r(!S||S.type?new Qs(null,t,b):S),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=kO(i.url);if(E&&dn.protocols.indexOf(E)===-1){r(new be("Unsupported protocol "+E+":",be.ERR_BAD_REQUEST,t));return}b.send(o||null)})},LO=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof be?d:new Qs(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,o(new be(`timeout ${e} of ms exceeded`,be.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>q.asap(a),l}},NO=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},OO=async function*(t,e){for await(const n of FO(t))yield*NO(n,e)},FO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ov=(t,e,n,r)=>{const i=OO(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let u=d.byteLength;if(n){let f=o+=u;n(f)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},sv=64*1024,{isFunction:du}=q,DO=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:av,TextEncoder:lv}=q.global,uv=(t,...e)=>{try{return!!t(...e)}catch{return!1}},UO=t=>{t=q.merge.call({skipUndefined:!0},DO,t);const{fetch:e,Request:n,Response:r}=t,i=e?du(e):typeof fetch=="function",o=du(n),s=du(r);if(!i)return!1;const a=i&&du(av),l=i&&(typeof lv=="function"?(m=>v=>m.encode(v))(new lv):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=o&&a&&uv(()=>{let m=!1;const v=new n(dn.origin,{body:new av,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),d=s&&a&&uv(()=>q.isReadableStream(new r("").body)),u={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!u[m]&&(u[m]=(v,b)=>{let _=v&&v[m];if(_)return _.call(v);throw new be(`Response type '${m}' is not supported`,be.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(q.isBlob(m))return m.size;if(q.isSpecCompliantForm(m))return(await new n(dn.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(q.isArrayBufferView(m)||q.isArrayBuffer(m))return m.byteLength;if(q.isURLSearchParams(m)&&(m=m+""),q.isString(m))return(await l(m)).byteLength},p=async(m,v)=>{const b=q.toFiniteNumber(m.getContentLength());return b??f(v)};return async m=>{let{url:v,method:b,data:_,signal:E,cancelToken:S,timeout:M,onDownloadProgress:O,onUploadProgress:$,responseType:U,headers:V,withCredentials:F="same-origin",fetchOptions:Z}=tk(m),Y=e||fetch;U=U?(U+"").toLowerCase():"text";let X=LO([E,S&&S.toAbortSignal()],M),C=null;const h=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let y;try{if($&&c&&b!=="get"&&b!=="head"&&(y=await p(V,_))!==0){let A=new n(v,{method:"POST",body:_,duplex:"half"}),g;if(q.isFormData(_)&&(g=A.headers.get("content-type"))&&V.setContentType(g),A.body){const[L,J]=nv(y,Bc(rv($)));_=ov(A.body,sv,L,J)}}q.isString(F)||(F=F?"include":"omit");const k=o&&"credentials"in n.prototype,B={...Z,signal:X,method:b.toUpperCase(),headers:V.normalize().toJSON(),body:_,duplex:"half",credentials:k?F:void 0};C=o&&new n(v,B);let T=await(o?Y(C,Z):Y(v,B));const I=d&&(U==="stream"||U==="response");if(d&&(O||I&&h)){const A={};["status","statusText","headers"].forEach(te=>{A[te]=T[te]});const g=q.toFiniteNumber(T.headers.get("content-length")),[L,J]=O&&nv(g,Bc(rv(O),!0))||[];T=new r(ov(T.body,sv,L,()=>{J&&J(),h&&h()}),A)}U=U||"text";let N=await u[q.findKey(u,U)||"text"](T,m);return!I&&h&&h(),await new Promise((A,g)=>{JE(A,g,{data:N,headers:In.from(T.headers),status:T.status,statusText:T.statusText,config:m,request:C})})}catch(k){throw h&&h(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,m,C),{cause:k.cause||k}):be.from(k,k&&k.code,m,C)}}},jO=new Map,nk=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let s=o.length,a=s,l,c,d=jO;for(;a--;)l=o[a],c=d.get(l),c===void 0&&d.set(l,c=a?new Map:UO(e)),d=c;return c};nk();const kg={http:rO,xhr:PO,fetch:{get:nk}};q.forEach(kg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cv=t=>`- ${t}`,$O=t=>q.isFunction(t)||t===null||t===!1;function VO(t,e){t=q.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let s=0;s<n;s++){r=t[s];let a;if(i=r,!$O(r)&&(i=kg[(a=String(r)).toLowerCase()],i===void 0))throw new be(`Unknown adapter '${a}'`);if(i&&(q.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(cv).join(`
`):" "+cv(s[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const rk={getAdapter:VO,adapters:kg};function bh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qs(null,t)}function fv(t){return bh(t),t.headers=In.from(t.headers),t.data=xh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rk.getAdapter(t.adapter||Pl.adapter,t)(t).then(function(r){return bh(t),r.data=xh.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return QE(r)||(bh(t),r&&r.response&&(r.response.data=xh.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const ik="1.13.2",Df={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Df[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const dv={};Df.transitional=function(e,n,r){function i(o,s){return"[Axios v"+ik+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new be(i(s," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!dv[s]&&(dv[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};Df.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function zO(t,e,n){if(typeof t!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new be("option "+o+" must be "+l,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+o,be.ERR_BAD_OPTION)}}const Pu={assertOptions:zO,validators:Df},Ar=Pu.validators;let go=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ev,response:new ev}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ao(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Pu.assertOptions(r,{silentJSONParsing:Ar.transitional(Ar.boolean),forcedJSONParsing:Ar.transitional(Ar.boolean),clarifyTimeoutError:Ar.transitional(Ar.boolean)},!1),i!=null&&(q.isFunction(i)?n.paramsSerializer={serialize:i}:Pu.assertOptions(i,{encode:Ar.function,serialize:Ar.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Pu.assertOptions(n,{baseUrl:Ar.spelling("baseURL"),withXsrfToken:Ar.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&q.merge(o.common,o[n.method]);o&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=In.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,u=0,f;if(!l){const m=[fv.bind(this),void 0];for(m.unshift(...a),m.push(...c),f=m.length,d=Promise.resolve(n);u<f;)d=d.then(m[u++],m[u++]);return d}f=a.length;let p=n;for(;u<f;){const m=a[u++],v=a[u++];try{p=m(p)}catch(b){v.call(this,b);break}}try{d=fv.call(this,p)}catch(m){return Promise.reject(m)}for(u=0,f=c.length;u<f;)d=d.then(c[u++],c[u++]);return d}getUri(e){e=Ao(this.defaults,e);const n=ek(e.baseURL,e.url,e.allowAbsoluteUrls);return ZE(n,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){go.prototype[e]=function(n,r){return this.request(Ao(r||{},{method:e,url:n,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Ao(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}go.prototype[e]=n(),go.prototype[e+"Form"]=n(!0)});let HO=class ok{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Qs(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ok(function(i){e=i}),cancel:e}}};function WO(t){return function(n){return t.apply(null,n)}}function qO(t){return q.isObject(t)&&t.isAxiosError===!0}const o0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(o0).forEach(([t,e])=>{o0[e]=t});function sk(t){const e=new go(t),n=FE(go.prototype.request,e);return q.extend(n,go.prototype,e,{allOwnKeys:!0}),q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return sk(Ao(t,i))},n}const pt=sk(Pl);pt.Axios=go;pt.CanceledError=Qs;pt.CancelToken=HO;pt.isCancel=QE;pt.VERSION=ik;pt.toFormData=Ff;pt.AxiosError=be;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=WO;pt.isAxiosError=qO;pt.mergeConfig=Ao;pt.AxiosHeaders=In;pt.formToJSON=t=>XE(q.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=rk.getAdapter;pt.HttpStatusCode=o0;pt.default=pt;const{Axios:oF,AxiosError:sF,CanceledError:aF,isCancel:lF,CancelToken:uF,VERSION:cF,all:fF,Cancel:dF,isAxiosError:hF,spread:pF,toFormData:mF,AxiosHeaders:gF,HttpStatusCode:yF,formToJSON:wF,getAdapter:vF,mergeConfig:_F}=pt,KO=G.createContext(void 0);function GO(){const t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let e="";for(let n=0;n<44;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}const ZO=({children:t})=>{const[e,n]=G.useState(null),[r,i]=G.useState(!0),[o,s]=G.useState(null),[a,l]=G.useState(()=>localStorage.getItem("surfsol_local_wallet")),c="http://localhost:8000",d=()=>{const p=GO();localStorage.setItem("surfsol_local_wallet",p),l(p)},u=async()=>{try{i(!0);let p;try{p=pf().initDataRaw}catch{console.log("Not running in Telegram context")}if(!p){a||d(),n({id:0,first_name:"Guest",username:"guest",public_key:a||"",balance:0,language:"en"}),s(null),i(!1);return}const m=await pt.get(`${c}/api/user/info`,{headers:{Authorization:`Bearer ${p}`}});m.data.public_key?(n(m.data),s(null)):(a||d(),n({...m.data,public_key:a||""}),s(null))}catch(p){console.error("Failed to fetch user info:",p),a||d(),n({id:0,first_name:"Guest",username:"guest",public_key:a||"",balance:0,language:"en"}),s(null)}finally{i(!1)}},f=async()=>{await u()};return G.useEffect(()=>{u()},[a]),D.jsx(KO.Provider,{value:{user:e,loading:r,error:o,localWallet:a,refreshBalance:f,generateLocalWallet:d},children:t})};class YO extends Nn.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e instanceof Error?e.message:String(e)}}render(){return this.state.hasError?D.jsxs("div",{style:{minHeight:"100vh",background:"#020c1b",color:"white",padding:16,fontFamily:"system-ui"},children:[D.jsx("h1",{style:{fontSize:18,fontWeight:800,marginBottom:8},children:"SurfSol Mini App Error"}),D.jsx("div",{style:{opacity:.8,marginBottom:12},children:"A runtime error occurred. This screen replaces a blank page so we can debug."}),D.jsx("pre",{style:{whiteSpace:"pre-wrap",background:"rgba(255,255,255,0.06)",padding:12,borderRadius:12},children:this.state.error}),D.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:12,width:"100%",padding:"12px 16px",borderRadius:12,border:"none",background:"#0077be",color:"white",fontWeight:800},children:"Reload"})]}):this.props.children}}Sh.createRoot(document.getElementById("root")).render(D.jsx(Nn.StrictMode,{children:D.jsx(YO,{children:D.jsx(NT,{children:D.jsx(ZO,{children:D.jsx(D6,{})})})})}));
